webpackJsonp([0],[,function(e,t,n){"use strict";n.d(t,"j",function(){return l}),n.d(t,"O",function(){return c}),n.d(t,"L",function(){return u}),n.d(t,"b",function(){return y}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return h}),n.d(t,"M",function(){return m}),n.d(t,"C",function(){return f}),n.d(t,"Q",function(){return b}),n.d(t,"a",function(){return S}),n.d(t,"R",function(){return C}),n.d(t,"H",function(){return D}),n.d(t,"A",function(){return T}),n.d(t,"c",function(){return _}),n.d(t,"G",function(){return R}),n.d(t,"B",function(){return I}),n.d(t,"P",function(){return L}),n.d(t,"F",function(){return A}),n.d(t,"r",function(){return M}),n.d(t,"u",function(){return B}),n.d(t,"x",function(){return F}),n.d(t,"s",function(){return G}),n.d(t,"o",function(){return Z}),n.d(t,"K",function(){return Y}),n.d(t,"y",function(){return X}),n.d(t,"v",function(){return J}),n.d(t,"p",function(){return ee}),n.d(t,"q",function(){return ne}),n.d(t,"t",function(){return ie}),n.d(t,"f",function(){return se}),n.d(t,"g",function(){return H}),n.d(t,"h",function(){return q}),n.d(t,"N",function(){return ae}),n.d(t,"J",function(){return oe}),n.d(t,"e",function(){return re}),n.d(t,"m",function(){return W}),n.d(t,"n",function(){return $}),n.d(t,"d",function(){return pe}),n.d(t,"I",function(){return me}),n.d(t,"w",function(){return ge}),n.d(t,"z",function(){return fe}),n.d(t,"D",function(){return be}),n.d(t,"E",function(){return ye}),n.d(t,"k",function(){return ve});var i=n(32),s=n.n(i),a=n(10),o=n(5),r=n(7);function l(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function c(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}var d={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},u={role:(e,t)=>e.role!==t.role?d[t.role]-d[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date(e,t,n){let i=t,s=n;for(let a=0;a<e.length;a++)i=i[e[a]],s=s[e[a]];return new Date(s)-new Date(i)},_property(e,t,n){let i=t,s=n;e&&(i=t[e],s=n[e]);const a=i.toLowerCase().match(/\D+|\d+/g),o=s.toLowerCase().match(/\D+|\d+/g),r=Math.min(a.length,o.length);for(var l=0;l<r;l++)if(a[l]!==o[l]){var c=parseInt(a[l],10),d=parseInt(o[l],10);return isNaN(c)||isNaN(d)?a[l]<o[l]?-1:a[l]>o[l]?1:0:c-d}return a.length-o.length}};u.created=u.date.bind(null,["created"]),u.updated=u.date.bind(null,["updated"]),u.lastUpdated=u.updated,u.naturally=u._property.bind(null,null),u.name=u._property.bind(null,"name");const h=s()();var p=/\ud83c[\udffb-\udfff]/g;function m(e){return e.replace(h,function(e){return p.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}const g=["everyone","all","tutti","channel"];function f(e){const t=[...g,e].join("|");return new RegExp(`(?:${t})\\b`)}function b(e){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...g,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function y(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function v(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function S(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function C(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}var E=["user","admin","owner","pawn","knight","rook","queen","king"],k={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canMoveResources:["king","queen","rook","owner","admin","user"]};function O(e){return function(t){return k[e].indexOf(t.role)>=0}}var D={isSuperior:function(e,t,n){var i=E.indexOf(e.role),s=E.indexOf(t.role);return n&&i===s||i>s}};for(var w in k)D[w]=O(w);var j=["king","queen","rook","knight","pawn"];function T(e){return!e.users.length||j.includes(e.users[0].role)}function _(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let s=0,a=e.toLowerCase(),o=0;const r=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${r}\\b\\s*`,"ig");if(r&&l.test(a)&&(o=.3,!(a=a.replace(l," ").trim())))return o;const c=i.indexOf(a);c>-1&&(s+=.3,i.startsWith(a)?s+=.3:" "===i.charAt(c-1)&&(s+=.2),s+=(i.length-c)/i.length/200);let d=i.indexOf(a.charAt(0)),u=0,h=0;for(var p=d;p<i.length&&-1!==d;p++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=a[++h];d=e?i.indexOf(e,d+1):-1}return h===a.length&&(s+=.05+u),s?s+o:0}var x={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-profile-authentication":"/organization/:oid/profile/authentication","organization-projects":"/organization/:oid/projects","organization-styleguides":"/organization/:oid/styleguides",authSamlResult:"/auth/saml/result"};function R(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function I(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&(Array.isArray(e[n])?e[n].forEach(function(e){t.push([n,e])}):t.push([n,e[n]]))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function P(e){return 0===Object.keys(e).length}function L(e,t={}){var n=new URL(t.origin||o.b);return n.pathname=t.url?function(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}(x[e],t.url):x[e],t.query&&!P(t.query)&&(n.search=I(t.query)),t.hash&&!P(t.hash)&&(n.hash=I(t.hash)),n.toString()}function A(e,{inNewTab:t=!0}={}){if(a.a)return void a.a.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}const N={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function M(e){return N[e]}const U=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",web:"Web"});function B(e){return U[e]}function z(e){return(e.getDay()+6)%7}function F(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),s=new Date(n-864e5*z(e)),a=new Date(n-864e5*(z(e)+7)),o=new Date(n-864e5*(e.getDate()-1)),r=new Date(n-864e5*(e.getDate()+1));return r.setDate(1),[["today",t],["yesterday",i],["this week",s],["last week",a],["this month",o],["last month",r]]}().find(function(t){return e>=t[1]});if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),Z(e,n)}function H(e,t){let n;return function(...i){const s=this;n?cancelAnimationFrame(n):t&&e.apply(s,i),n=requestAnimationFrame(function(){t||e.apply(s,i),n=null})}}function q(e,t=1e3){let n=null,i=null;return function(...s){return clearTimeout(n),n=setTimeout(()=>{let t=e(...s);i(t),i=null},t),new Promise(e=>{i=e})}}new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const V=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function W(e){return V.format(e)}function $(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function G({extension:e,organizationId:t}={}){return e?`${o.e}/${e.id}`:t&&"user"!==t?`${o.e}?oid=${t}`:o.e}function Z(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function Y(e,t){const n=e.x+e.width,i=e.y+e.height,s=t.x+t.width,a=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=s&&i>=a}var K={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"Alien",owner:"Owner",admin:"Admin",user:"Member"};function X(e){return K[e]||""}function J(e){return`ic${Object(r.f)(e)}`}const Q=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function ee(e){return Q[e]}const te=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function ne(e,t){return t?"android"===e?te[t]:`${t}x`:"unknown"}function ie(e,t){const n=e.reduce((e,n)=>{const{id:i,name:s,textStyles:a,isMember:o,isOrganizationBarrel:r}=n,l=function(e,t){return e.reduce((e,n)=>{if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(a,t);return l.score>e.score?Object.assign({styleguideId:i,styleguideName:s,isMember:o,isOrganizationBarrel:r},l):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:s,textStyle:a,isMember:o,isOrganizationBarrel:r}=n;return Object.assign({styleguideId:i,styleguideName:s,isMember:o,isOrganizationBarrel:r},a)}const se=Object.freeze({ios:/[^\da-z]/gi,osx:/[^\da-z]/gi,web:/[^\w-]/g,base:/[^\w-]/g,android:/\W/g});function ae(e){e.stopPropagation()}function oe(e){e.preventDefault()}function re(e=[]){return[].concat(...e.map(e=>e.components.concat(re(e.componentSections))))}const le=16,ce=13,de=2,ue=document.createElement("canvas");function he(e){return e/2*window.devicePixelRatio}function pe(){ue.width=le*window.devicePixelRatio,ue.height=ue.width;const e=ue.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(he(le),he(le),he(ce),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(he(le),he(le),he(de),0,6.28,!1),e.fill(),ue.toDataURL()}function me(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function ge(e){return t=>Object.keys(e).reduce((n,i)=>t[i]===e[i]?n:(n||(n={}),n[i]=e[i],n),null)}function fe(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function be(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function ye(e,t){return Object.keys(e).filter(n=>t(e[n])).reduce((t,n)=>(t[n]=e[n],t),{})}function ve(e,t){const n=Object.assign({},e);return delete n[t],n}},function(e,t,n){"use strict";t.a=function(){var e=[];return Array.from(arguments).forEach(function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter(function(e){return!0===t[e]}))))}),e.join(" ")}},,function(e,t,n){"use strict";t.a=function(e,t,n="nodeRefs"){n in e||(e[n]={});"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:s}=e;"function"!=typeof s[t]&&(s[t]=(e=>{i[t]=e}));return s[t]}},function(e,t,n){"use strict";t.D="https://zeplin.io";t.b="https://app.zeplin.io";t.c="https://api.zeplin.io";t.m="https://img.zeplin.io";t.d="https://cdn.zeplin.io";t.t="https://scene.zeplin.io";t.e="https://extensions.zeplin.io";t.A="59dfedff7c722575736b3e8d";t.E="zpl:";t.n="41ycdg94";t.l="https://app.zeplin.io/auth/google/unlink";t.k="https://app.zeplin.io/auth/google/setupsso";t.p="8e2050dc40d37740b8825eebb37415a9";t.o="26bd4a3dcc47c8a293c60fa00656fb81";t.i="UA-51352708-4";t.j="UA-51352708-8";t.f="1654544691505740";t.y="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq";t.v="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039";t.w="production";t.x="9.5.1";t.s="12ddd9afec9f9b421244";t.B="private-user@";t.r="private-project@";t.z="private-styleguide@";t.q="private-organization@";t.a="announcement";t.u="secure";t.C="9.5.1";t.g="true";t.h="false"},function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return v});var i=n(5),s=n(7);const a=i.b;function o(e){const t=new URL(a);return t.pathname=e,t.href}function r(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function l(e){if("random"===e)return o("img/emotars/icRandom.svg");return o(`img/emotars/emotar${Object(s.f)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function c(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.webkitImageSmoothingEnabled=!0,s.mozImageSmoothingEnabled=!0,s.msImageSmoothingEnabled=!0,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="medium";const a=document.createElement("img");let o,r,l;a.crossOrigin="anonymous";let c=1,d=0,u=0;a.addEventListener("load",e=>{a.width<=i.width?(o=a.width,d=(i.width-a.width)/2):(c=i.width/a.width,o=i.width),t.height||(i.height=i.width*a.height/a.width),(l=c*a.height)<=i.height?(r=a.height,u=(i.height-l)/2):(r=i.height/c,l=i.height),s.drawImage(a,0,0,a.width,r,d,u,o,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),a.addEventListener("error",t=>{n(e)}),a.src=e})}function d(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let s=`?w=${t}`,a=`?w=${2*t}`;return n&&(s+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,a+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${s}`,srcset:`${i}${a} 2x`}}const u=210,h=4,p=255,m=0,g=1,f=2,b=3;const y={};function v(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in y)t(y[i]);else{const s="string"==typeof e?document.createElement("img"):e;s.crossOrigin="anonymous",s.addEventListener("load",function e(){s.removeEventListener("load",e);const n=document.createElement("canvas"),a=n.getContext("2d");n.width=s.width,n.height=s.height,a.drawImage(s,0,0);const o=function(e){for(let t=0;t<e.length;t+=h){const n=e[t+m],i=e[t+g],s=e[t+f];if(e[t+b]>=p-u&&(n<u||i<u||s<u))return!1}return!0}(a.getImageData(0,0,n.width,n.height).data)?"light":"dark",r={size:{width:s.width,height:s.height},lightness:o};y[i]=r,t(r)}),s.addEventListener("error",function e(t){s.removeEventListener("error",e),n(t)}),"string"==typeof e&&(s.src=e)}})}},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});const i=/\W/,s=/[\W_]/;function a(e,t,n="s"){return`${e} ${t}${1!==e?n:""}`}function o(e){return e.charAt(0).toLowerCase()+e.substring(1)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(s).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}},function(e,t,n){"use strict";n.d(t,"k",function(){return d}),n.d(t,"d",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"j",function(){return h}),n.d(t,"n",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return C}),n.d(t,"e",function(){return E}),n.d(t,"m",function(){return k}),n.d(t,"f",function(){return w});var i=n(66),s=n.n(i),a=n(50),o=n(1),r=n(7),l=n(20);function c(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function d(e,t=c(e)){if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();setTimeout(()=>{n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)},4)}function u(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function h(e,t=c(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function p(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function m(e){setTimeout(()=>{e.focus(),e.select()},4)}function g(e,t,n){const i=e.toLowerCase(),s=n?t.toLowerCase():t;let a=0,r="";for(const l of s){const t=i.indexOf(l,a);if(-1===t)break;r+=Object(o.j)(e.substring(a,t)),r+=`<span class="highlight">${Object(o.j)(e.substr(t,l.length))}</span>`,a=t+l.length}return r+Object(o.j)(e.substring(a))}function f(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function b(){return document.queryCommandSupported("copy")}function y(){return"download"in document.createElement("a")}function v(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(Object(l.i)()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function S(e){return navigator.clipboard.writeText(e).then(e=>!0).catch(e=>!1)}function C({content:e,toastContainer:t}){(navigator.clipboard?S:v)(e).then(n=>{n&&t&&Object(a.a)({text:"Copied to clipboard!",container:t,source:e})})}const E=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function k(e,t,n){const i=e.parentElement;i.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),i.classList.remove("loading")});const s=w(t,{ignoreRandomEmotar:!!n,size:e.width});s&&Object.assign(e,s)}const O=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],D={};function w(e,t={}){if(!e||!e.email)return{src:Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png"};let n=!1;if("ignoreRandomEmotar"in t&&(n=t.ignoreRandomEmotar),!n&&e.emotar){let t=e.emotar.replace(/_\w/g,e=>e.charAt(1).toUpperCase());return t=Object(r.f)(t),{src:`${Zeplin.urls.appURL}/img/emotars/emotar${t}.png`}}if(e.avatar)return{src:e.avatar};var i;if(n)return{src:Zeplin.urls.appURL+"/img/emotars/icRandom.svg"};var a=D[e._id];a||(a=Array.from(s()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),D[e._id]=a),i=O[a%O.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=Object(r.f)(i),i=`${Zeplin.urls.appURL}/img/emotars/emotar${i}.png`;const o="https://secure.gravatar.com/avatar/"+s()(e.email);return{src:`${o}?${t.size?"s="+t.size+"&":""}d=${i}`,srcset:`${o}?${t.size?"s="+2*t.size+"&":""}d=${i} 2x`}}},function(e,t,n){"use strict";var i=n(78);t.a=i.a},function(e,t,n){"use strict";var i;"function"==typeof window.require&&(i=window.require("electron")),t.a=i},function(e,t,n){"use strict";t.a={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",STAR:"star"}},function(e,t,n){"use strict";var i=n(397);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(45),s=n(150),a=n(83),o=n(309),r=n(72);function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],s=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;s<a;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,a)))):i.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,a)))),s+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var n=65536,i=t.getTypeOf(e),s=!0;if("uint8array"===i?s=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(s=d.applyCanBeUsed.nodebuffer),s)for(;n>1;)try{return d.stringifyByChunk(e,i,n)}catch(e){n=Math.floor(n/2)}return d.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=u;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},p.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var i=t.getTypeOf(n);return p[i][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,n){o(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,a,o,l){return r.Promise.resolve(n).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new r.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(n){var d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(l?n=s.decode(n):a&&!0!==o&&(n=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):r.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t,n){"use strict";var i=n(404);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var i=n(21),s=n.n(i),a=n(28),o=n(30),r=n(17),l=n(5);function c(e,t){return t=t||{},e>=400&&e<500?new a.a(e,t.title,t.message):e>=500&&e<600?new o.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.h&&console.error(e),e instanceof o.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n)):r.a(n);else if(e instanceof a.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(c=t.clientErrorHandler[401]))return void c();s.a.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),r.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var i=t.clientErrorHandler;if("function"==typeof i)i(e);else if("object"==typeof i){var c;"function"==typeof(c=i[e.status])?c(e):"default"in i&&i.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n);else r.a(n);else if(Raven.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.g?null:{testid:"genericErrorDialog"};r.a(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(44);n.d(t,"generateShortlink",function(){return i._6}),n.d(t,"getOrganizations",function(){return i._21}),n.d(t,"getOrganization",function(){return i._12}),n.d(t,"getOrganizationMembers",function(){return i._17}),n.d(t,"inviteOrganizationMembers",function(){return i._45}),n.d(t,"updateOrganizationMemberRole",function(){return i._86}),n.d(t,"updateOrganizationMemberAccessibility",function(){return i._85}),n.d(t,"updateOrganizationMembersTags",function(){return i._87}),n.d(t,"removeMemberFromOrganization",function(){return i._58}),n.d(t,"transferOrganizationOwnership",function(){return i._71}),n.d(t,"getOrganizationBilling",function(){return i._13}),n.d(t,"updateOrganizationBilling",function(){return i._84}),n.d(t,"changePlan",function(){return i.t}),n.d(t,"changeOrganizationName",function(){return i.s}),n.d(t,"createSubscription",function(){return i.J}),n.d(t,"getOrganizationCards",function(){return i._14}),n.d(t,"getOrganizationInvoices",function(){return i._15}),n.d(t,"updateCard",function(){return i._76}),n.d(t,"getOrganizationMemberProfile",function(){return i._16}),n.d(t,"requestOrganizationInvitation",function(){return i._65}),n.d(t,"getPlans",function(){return i._22}),n.d(t,"createOrganization",function(){return i.B}),n.d(t,"getOrganizationSSO",function(){return i._18}),n.d(t,"getOrganizationSSOSAMLMetadata",function(){return i._19}),n.d(t,"addOrganizationSSOGoogle",function(){return i.e}),n.d(t,"addOrganizationSSOSAML",function(){return i.f}),n.d(t,"updateOrganizationSSOPolicy",function(){return i._88}),n.d(t,"updateOrganizationSSOSessionDuration",function(){return i._90}),n.d(t,"updateOrganizationAllowExternalMembers",function(){return i._83}),n.d(t,"updateOrganizationSSOProvider",function(){return i._89}),n.d(t,"deleteOrganizationSSO",function(){return i.N}),n.d(t,"getCoupon",function(){return i._8}),n.d(t,"getProjects",function(){return i._29}),n.d(t,"getV1Projects",function(){return i._43}),n.d(t,"getProject",function(){return i._23}),n.d(t,"getV1Project",function(){return i._42}),n.d(t,"getProjectOrganization",function(){return i._27}),n.d(t,"activateProject",function(){return i.a}),n.d(t,"archiveProject",function(){return i.k}),n.d(t,"inviteProjectUser",function(){return i._46}),n.d(t,"inviteProjectUsersByTag",function(){return i._47}),n.d(t,"transferProjectOwnership",function(){return i._72}),n.d(t,"updateProjectUserRole",function(){return i._107}),n.d(t,"removeUserFromProject",function(){return i._61}),n.d(t,"deleteProject",function(){return i.O}),n.d(t,"createProject",function(){return i.C}),n.d(t,"updateProjectName",function(){return i._102}),n.d(t,"updateProjectDescription",function(){return i._101}),n.d(t,"updateProjectDensityScale",function(){return i._100}),n.d(t,"updateProjectAccessibility",function(){return i._92}),n.d(t,"moveScreen",function(){return i._54}),n.d(t,"createSection",function(){return i.F}),n.d(t,"updateSectionScreens",function(){return i._112}),n.d(t,"deleteSection",function(){return i.V}),n.d(t,"updateSection",function(){return i._110}),n.d(t,"updateSectionOrder",function(){return i._111}),n.d(t,"authProjectSlack",function(){return i.m}),n.d(t,"getProjectSlackIntegrationEmojis",function(){return i._28}),n.d(t,"deleteProjectIntegration",function(){return i.R}),n.d(t,"getProjectExtensions",function(){return i._25}),n.d(t,"removeExtensionFromProject",function(){return i._56}),n.d(t,"addExtensionToProject",function(){return i.c}),n.d(t,"removeExtensionFromStyleguide",function(){return i._57}),n.d(t,"addExtensionToStyleguide",function(){return i.d}),n.d(t,"updateScreen",function(){return i._108}),n.d(t,"createProjectColor",function(){return i.D}),n.d(t,"updateProjectColor",function(){return i._93}),n.d(t,"deleteProjectColor",function(){return i.P}),n.d(t,"createProjectTextStyle",function(){return i.E}),n.d(t,"updateProjectTextStyle",function(){return i._104}),n.d(t,"deleteProjectTextStyle",function(){return i.T}),n.d(t,"getProjectComponentSections",function(){return i._24}),n.d(t,"addProjectComponentSection",function(){return i.g}),n.d(t,"updateProjectComponentSection",function(){return i._96}),n.d(t,"mergeProjectComponentSection",function(){return i._52}),n.d(t,"updateProjectComponent",function(){return i._95}),n.d(t,"deleteProjectComponent",function(){return i.Q}),n.d(t,"updateProjectComponentsOrder",function(){return i._99}),n.d(t,"updateProjectComponentSectionsOrder",function(){return i._97}),n.d(t,"updateProjectStyleguideLink",function(){return i._103}),n.d(t,"removeProjectStyleguideLink",function(){return i._59}),n.d(t,"getProjectIntegrationEvents",function(){return i._26}),n.d(t,"addProjectIntegrationEvent",function(){return i.h}),n.d(t,"deleteProjectIntegrationEvent",function(){return i.S}),n.d(t,"getSnapshot",function(){return i._30}),n.d(t,"updateCommitColor",function(){return i._77}),n.d(t,"deleteVersion",function(){return i._3}),n.d(t,"getVersions",function(){return i._44}),n.d(t,"getDots",function(){return i._9}),n.d(t,"createDot",function(){return i.y}),n.d(t,"deleteDot",function(){return i.M}),n.d(t,"changeDotColor",function(){return i.q}),n.d(t,"updateDotStatus",function(){return i._80}),n.d(t,"updateDotPosition",function(){return i._79}),n.d(t,"updateCommitMessage",function(){return i._78}),n.d(t,"createComment",function(){return i.x}),n.d(t,"editComment",function(){return i._5}),n.d(t,"deleteComment",function(){return i.L}),n.d(t,"renameScreen",function(){return i._63}),n.d(t,"deleteScreen",function(){return i.U}),n.d(t,"updateProjectThumbnail",function(){return i._106}),n.d(t,"updateTags",function(){return i._128}),n.d(t,"getNotifications",function(){return i._11}),n.d(t,"getUserAcquaintances",function(){return i._39}),n.d(t,"updateNotificationLastReadTime",function(){return i._82}),n.d(t,"logoutUser",function(){return i._51}),n.d(t,"getSsoLoginParams",function(){return i._31}),n.d(t,"resetPassword",function(){return i._66}),n.d(t,"deleteUserSSOProvider",function(){return i._2}),n.d(t,"updateEmailNotifications",function(){return i._81}),n.d(t,"updateUserEmotar",function(){return i._130}),n.d(t,"cancelUserSubscription",function(){return i.p}),n.d(t,"changeUserSubscription",function(){return i.u}),n.d(t,"subscribeUser",function(){return i._70}),n.d(t,"cancelOrganizationSubscription",function(){return i.o}),n.d(t,"downgradeOrganizationSubscription",function(){return i._4}),n.d(t,"transferUserSubscription",function(){return i._74}),n.d(t,"createIntercomMessage",function(){return i.z}),n.d(t,"getUserUpcomingInvoice",function(){return i._41}),n.d(t,"getOrganizationUpcomingInvoice",function(){return i._20}),n.d(t,"createIntercomUserTag",function(){return i.A}),n.d(t,"updateScreensOrder",function(){return i._109}),n.d(t,"getStyleguides",function(){return i._38}),n.d(t,"getStyleguide",function(){return i._32}),n.d(t,"getStyleguideOrganization",function(){return i._35}),n.d(t,"getStyleguideProjects",function(){return i._36}),n.d(t,"createStyleguide",function(){return i.G}),n.d(t,"deleteStyleguide",function(){return i.W}),n.d(t,"archiveStyleguide",function(){return i.l}),n.d(t,"activateStyleguide",function(){return i.b}),n.d(t,"transferStyleguideOwnership",function(){return i._73}),n.d(t,"inviteStyleguideUser",function(){return i._48}),n.d(t,"inviteStyleguideUsersByTag",function(){return i._49}),n.d(t,"removeUserFromStyleguide",function(){return i._62}),n.d(t,"updateStyleguideUserRole",function(){return i._127}),n.d(t,"updateStyleguideName",function(){return i._123}),n.d(t,"updateStyleguideDescription",function(){return i._122}),n.d(t,"updateStyleguideDensityScale",function(){return i._121}),n.d(t,"updateStyleguideAccessibility",function(){return i._113}),n.d(t,"getStyleguideExtensions",function(){return i._33}),n.d(t,"authStyleguideSlack",function(){return i.n}),n.d(t,"getStyleguideSlackIntegrationEmojis",function(){return i._37}),n.d(t,"deleteStyleguideIntegration",function(){return i.Z}),n.d(t,"createStyleguideColor",function(){return i.H}),n.d(t,"updateStyleguideColor",function(){return i._114}),n.d(t,"deleteStyleguideColor",function(){return i.X}),n.d(t,"createStyleguideTextStyle",function(){return i.I}),n.d(t,"updateStyleguideTextStyle",function(){return i._125}),n.d(t,"deleteStyleguideTextStyle",function(){return i._1}),n.d(t,"addStyleguideComponentSection",function(){return i.i}),n.d(t,"updateStyleguideComponentSection",function(){return i._117}),n.d(t,"mergeStyleguideComponentSection",function(){return i._53}),n.d(t,"updateStyleguideComponent",function(){return i._116}),n.d(t,"deleteStyleguideComponent",function(){return i.Y}),n.d(t,"updateStyleguideParent",function(){return i._124}),n.d(t,"removeStyleguideParent",function(){return i._60}),n.d(t,"getStyleguideIntegrationEvents",function(){return i._34}),n.d(t,"addStyleguideIntegrationEvent",function(){return i.j}),n.d(t,"deleteStyleguideIntegrationEvent",function(){return i._0}),n.d(t,"updateStyleguideComponentsOrder",function(){return i._120}),n.d(t,"updateStyleguideComponentSectionsOrder",function(){return i._118}),n.d(t,"getUserStatus",function(){return i._40}),n.d(t,"checkUsernameAvailable",function(){return i.w}),n.d(t,"changeUsername",function(){return i.v}),n.d(t,"changeEmail",function(){return i.r}),n.d(t,"deleteAccount",function(){return i.K}),n.d(t,"updatePassword",function(){return i._91}),n.d(t,"updateBilling",function(){return i._75}),n.d(t,"getCards",function(){return i._7}),n.d(t,"updateUserCard",function(){return i._129}),n.d(t,"requestInvoiceSent",function(){return i._64}),n.d(t,"getInvoices",function(){return i._10}),n.d(t,"sendVerificationEmail",function(){return i._67}),n.d(t,"verifyUser",function(){return i._132}),n.d(t,"loginUser",function(){return i._50}),n.d(t,"signupUser",function(){return i._68}),n.d(t,"updateProjectColorsStyleguide",function(){return i._94}),n.d(t,"updateProjectTextStylesStyleguide",function(){return i._105}),n.d(t,"updateProjectComponentSectionsStyleguide",function(){return i._98}),n.d(t,"updateStyleguideColorsStyleguide",function(){return i._115}),n.d(t,"updateStyleguideTextStylesStyleguide",function(){return i._126}),n.d(t,"updateStyleguideComponentSectionsStyleguide",function(){return i._119}),n.d(t,"project",function(){return i._55}),n.d(t,"styleguide",function(){return i._69}),n.d(t,"user",function(){return i._131})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(56),s=n.n(i),a=n(5);function o(e){var t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),s=document.createElement("form"),o=document.createElement("button"),r=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),r.appendChild(c),function(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!a.g&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),r.appendChild(n),i.classList.add("message"),r.appendChild(i),e&&e.input){r.classList.add("inputDialogContainer");var d=document.createElement("div"),u=document.createElement("span"),h=document.createElement("input");d.classList.add("inputContainer"),u.classList.add("subtitle"),u.textContent=e.input.title,h.type=e.input.type,d.appendChild(u),d.appendChild(h),s.appendChild(d)}if(e&&e.cancel){var p=document.createElement("button");p.classList.add("cancel"),p.type="submit",p.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&p.addEventListener("click",e.cancel.cb),l.appendChild(p)}return o.classList.add("done"),o.type="submit",o.autofocus=!0,o.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&o.addEventListener("click",e.done.cb),l.appendChild(o),l.classList.add("buttonContainer"),s.appendChild(l),s.setAttribute("method","dialog"),r.appendChild(s),t.appendChild(r),document.querySelector("body").appendChild(t),t}function r(e,t){if(!document.querySelector("dialog.generic")||e){var n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",a=!1;if(t&&"defer"in t&&(a=t.defer),a)sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));else{var r=o(e);s.a.registerDialog(r),r.querySelector(".title").textContent=n,r.querySelector(".message").textContent=i,r.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("close",function(){r.remove()}),e||r.classList.add("generic"),r.showModal()}}}n.d(t,"b",function(){return s.a});var l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),r(l))},function(e,t,n){"use strict";t.a=Object.freeze({PROJECT:"project",STYLEGUIDE:"styleguide"})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(138),r=n(37);function l(e){const{avatarUrl:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h(r.a,{width:"36",height:"36",src:t}))}l.propTypes={avatarUrl:a.a.string.isRequired,subIconType:a.a.string},t.a=l},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"i",function(){return d}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return h});const i=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),s=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),a=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function o(){return/iPad|iPhone/.test(navigator.userAgent)?i.IOS:/Android/.test(navigator.userAgent)?i.ANDROID:/Macintosh/.test(navigator.userAgent)?i.MAC:/Windows/.test(navigator.userAgent)?i.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?i.LINUX:i.UNKNOWN}function r(e){return o()===i.MAC?e.metaKey:e.ctrlKey}function l(){return/Mobi/.test(navigator.userAgent)?a.MOBILE:a.DESKTOP}function c(){return/Edge/.test(navigator.userAgent)?s.EDGE:/OPR/.test(navigator.userAgent)?s.OPERA:/Firefox/.test(navigator.userAgent)?s.FIREFOX:/Chrome/.test(navigator.userAgent)?s.CHROME:/Safari/.test(navigator.userAgent)?s.SAFARI:s.UNKNOWN}function d(){return navigator.userAgent.match(/ipad|iphone/i)}function u(){return"object"==typeof process}function h(e){const t=e.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/);return t&&2===t.length?t[1]:"unknown"}},,function(e,t,n){"use strict";var i=n(262),s=n(57),a=n(115),o=(n(263),n(124));n(518);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";var i=n(402);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return f});var i,s,a,o,r=n(185),l=n.n(r),c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",lastSelectedTab:"projects",styleguidesTabVisited:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,globalStyleguidesWhatsNewSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,hideDensityMismatchWarning:!1},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dotListingsStatusFilter:"open",dotListingsColorFilter:null,projectInfoWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,collapsedSections:{},showOptimizedSVG:!0,versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:[],androidResFolderReminderSeen:!1,extensionsMigrated:!1,assetNames:{}},u={extensions:[]};function h(){i=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"userPrefs",version:1}),s=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"projectPrefs",version:1}),a=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"styleguidePrefs",version:1}),o=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"extensionPrefs",version:1})}h();var p={getAll:function(){var e=c;return i.iterate(function(t,n){e[n]=t}).then(function(){return e})},get:function(e){return i.getItem(e).then(function(t){return null===t?c[e]:t})},set:function(e,t){return i.setItem(e,t)}},m={getAll:e=>s.getItem(e).then(e=>Object.assign({},d,e)),get:(e,t,n)=>s.getItem(e).then(function(e){return e&&t in e&&(!n||n in e[t])?n?e[t][n]:e[t]:n?d[n]:d[t]}),set:(e,t,n,i)=>s.getItem(e).then(function(a){return a||(a={}),i?(a[t]||(a[t]={}),a[t][n]=i,s.setItem(e,a)):(a[t]=n,s.setItem(e,a))})},g={getAll:e=>a.getItem(e).then(e=>Object.assign({},u,e)),get:(e,t,n)=>a.getItem(e).then(e=>e&&t in e&&(!n||n in e[t])?n?e[t][n]:e[t]:n?u[n]:u[t]),set:(e,t,n,i)=>a.getItem(e).then(s=>(s||(s={}),i?(s[t]||(s[t]={}),s[t][n]=i,a.setItem(e,s)):(s[t]=n,a.setItem(e,s))))},f={get:function(e,t,n){return o.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:null})},set:function(e,t,n,i){return o.getItem(e).then(function(s){return s||(s={}),s[t]||(s[t]={}),s[t][n]=i,o.setItem(e,s)})},remove:function(e){return o.removeItem(e)}};function b(e){return function(...t){return e(...t).catch(()=>(h(),e(...t)))}}m.get=b(m.get),m.set=b(m.set),g.get=b(g.get),g.set=b(g.set),p.get=b(p.get),p.set=b(p.set),f.get=b(f.get),f.set=b(f.set),s.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),e.extensionsMigrated&&(n=n||["iosStyleExportType","androidStyleExportType","webStyleExportType","osxStyleExportType","styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin","androidLineSpacingType","attributedStringShowDefaultAttributes","iosDeploymentTarget","osxDeploymentTarget","extensionPrefsMigrated","selectedExtension"].map(function(t){return function(e,t){if(t in e){var n=e[t];return delete e[t],n}return null}(e,t)}).some(Boolean)),n&&s.setItem(t,e)})},function(e,t,n){"use strict";var i=n(0),s=n(113);class a extends i.default.Component{shouldComponentUpdate(e,t){return Object(s.a)(this.props,e)||Object(s.a)(this.state,t)}}a.isPureReactComponent=!0,t.a=a},function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=i},function(e,t,n){"use strict";var i=n(236),s=n(112);n.d(t,"b",function(){return s.a}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.a=i},,function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.a=i},function(e,t,n){"use strict";var i=n(208);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return C}),n.d(t,"e",function(){return E});var i,s,a,o,r=n(21),l=n.n(r),c=n(287),d=n.n(c),u=n(87),h=n(16),p=n(1),m=n(5),g=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),f=3e4;function b(){return i?Promise.resolve(i):h.getPlans().then(e=>i=Object.freeze(e))}function y(){o||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(o=setTimeout(function(){u.b({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},f))}window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}}),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+m.n;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,s=function(){s.c(arguments)};s.q=[],s.c=function(e){s.q.push(e)},e.Intercom=s,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),l.a.get("userToken")&&(Intercom("boot",{app_id:m.n,user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),(s=new d.a(m.s,{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:`${Zeplin.urls.baseURL}/v2/pusher/auth`,auth:{headers:{"Zeplin-Token":l.a.get("userToken")}}})).connection.bind("failed",y),s.connection.bind("unavailable",y),s.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",s.connection.socket_id),clearTimeout(o),u.a("socket")}),(a=s.subscribe(`${m.B}${Zeplin.user._id}`)).bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),a.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),a.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),a.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),a.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),a.bind("DeleteUser",Zeplin.logout));const v=document.querySelector("#billingTab");function S(e,t){if(u.a("payment"),v){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",v.checked=!0}}function C(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(p.P)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> organization payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){S(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(p.P)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){S(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&u.b({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function E(e){return h.updateUserEmotar(e)}},function(e,t,n){"use strict";var i=n(382);n.n(i);t.a=new i.Dispatcher},function(e,t,n){"use strict";var i=n(180),s=n(392),a=n(51);const o=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"}),r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}class Color extends a.a{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,r:s,g:a,b:o,a:r=1}=e;this.id=t||n,this.r=l(s),this.g=l(a),this.b=l(o),this.a=function(e){return Math.max(0,Math.min(e,1))}(r),this.name=i}static get NAMED_COLORS(){return s.a}static fromHex(e){const t=parseInt(e.replace("#",""),16);return new Color({r:t>>16&255,g:t>>8&255,b:255&t})}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,name:this.name}}equals(e){const t=new Color(e);return this.r===t.r&&this.g===t.g&&this.b===t.b&&r.format(this.a)===r.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&1===(t=t.blend(n)).a)break;return t}hexBase(){return d(this.r)+d(this.g)+d(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=d(Math.trunc(n+n/255));t=e?i+t:t+i}return`#${t}`}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e} ${r.format(this.a)}`:`rgb ${e}`}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${r.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),s=Math.min(e,t,n),a=(i+s)/2;let o,r;if(i===s)o=0,r=0;else{const l=i-s;switch(r=a>.5?l/(2-i-s):l/(i+s),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:r,l:a}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${r.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t);default:return this.toHexString()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,a=-1;for(let r=0;r<s.b.length;r++){const l=new Color(s.b[r]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.a)(l.name,o[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(a<0||t<a)&&(a=t,n=r)}return Object(i.a)(s.b[n].name,o[e])}}t.a=Color},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(138),r=n(259);function l(e){const{iconType:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h(r.a,{type:t}))}l.propTypes={iconType:a.a.string.isRequired,subIconType:a.a.string},t.a=l},function(e,t,n){"use strict";var i=n(242);t.a=i.a},function(e,t,n){"use strict";const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,NOT_FOUND:404,PRECONDITION_FAILED:412},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.a=i},function(e,t,n){"use strict";var i=n(679),s=n.n(i),a=n(113);const o={pure:!0,withProps:!1,withContext:!1};t.a=((e,t)=>{const n=class extends e{constructor(e,n){super(e,n),this.options=Object.assign({},o,t||{}),this._getState=this._getState.bind(this),this._getStores=this._getStores.bind(this),this._fluxContainerSubscriptions=new s.a,this._fluxContainerSubscriptions.setStores(this._getStores(e)),this._fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this._getState(e,t,n))});const i=this._getState(void 0,e,n);this.state=Object.assign({},this.state||{},i)}_getState(t,n,i){const s=this.options.withProps?n:void 0,a=this.options.withContext?i:void 0;return e.calculateState(t,s,a)}_getStores(t,n){const i=this.options.withProps?t:void 0,s=this.options.withContext?n:void 0;return e.getStores(i,s)}componentWillReceiveProps(e,t){super.componentWillReceiveProps&&super.componentWillReceiveProps(e,t),(this.options.withProps||this.options.withContext)&&(this._fluxContainerSubscriptions.setStores(this._getStores(e,t)),this.setState(n=>this._getState(n,e,t)))}shouldComponentUpdate(e,t){return this.options.pure?Object(a.a)(this.props,e)||Object(a.a)(this.state,t):super.shouldComponentUpdate?super.shouldComponentUpdate(e,t):void 0}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this._fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n})},function(e,t,n){"use strict";var i=n(5),s=window.performance,a="JS_Timing";let o=location.pathname.match(/\/(\w+)(.html)?/)?location.pathname.match(/\/(\w+)(.html)?/)[1]:"/";var r=`version:${i.C};page:${o}`,l=1;function c(e,t){(t=t||{}).end?s.measure(e,t.start,t.end):t.start?s.measure(e,t.start):s.measure(e);var n=s.getEntriesByName(e);if(n.length){var i=n[n.length-1],o=t.labels,l=t.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),i.duration>l&&function(e,t,n){n=n?n+";"+r:r,ga("legacyTracker.send","timing",a,e,t,n)}(e,Math.round(i.duration),o),s.clearMeasures(e)}}var d=!1;function u(){d||(d=!0,c("page.timeToFirstInteraction"))}function h(){c("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}var p,m,g,f,b=!1;function y(){}window.addEventListener("load",function(){b=!0}),s&&s.mark&&s.measure&&s.timing&&s.getEntriesByName?(p=function(){var e="_mark_"+l;return s.mark(e),l++,e},m=c,g=function(){b?h():window.addEventListener("load",h)},f=function(){document.addEventListener("click",function e(t){u(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){u(),document.removeEventListener("scroll",e,!0)},!0)}):(p=y,m=y,g=y,f=y),t.a={mark:p,measure:m,measurePageDefaults:g,measureFirstInteraction:f}},function(e,t,n){"use strict";const i=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4});t.a=i;const s=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"});t.c=s;const a=Object.freeze({BASE:"base",ANDROID:"android",IOS:"ios",OSX:"osx",MACOS:"osx",WEB:"web"});t.b=a},function(e,t,n){"use strict";var i=n(516),s=n(118),a=n(119),o=n(293),r=n(517);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"e",function(){return r.a})},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){"use strict";t._6=function(e,t){const n=t?`?path=${t}`:"";return o.a.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(u).then(e=>e.url).catch(t=>e)},t._21=function(){return o.a.get(`${Zeplin.urls.baseURL}/organizations`).then(u).then(e=>e.organizations)},t._12=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(u)},t._17=function(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`).then(e=>(p("api.getOrganizationMembers",t,e.status),u(e)))},t._45=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return o.a.post(n,{members:t}).then(u)},t._86=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return o.a.put(i,{role:n}).then(h)},t._85=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return o.a.put(i,{restricted:Boolean(n)}).then(h)},t._87=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return o.a.put(n,{members:t}).then(h)},t._58=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}`;return o.a.delete(n).then(h)},t._71=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(u)},t._13=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(u)},t._84=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(h)},t.t=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(h)},t.s=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(h)},t.J=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(h)},t._14=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(u)},t._15=function(e,t){const n=Object(l.B)(t),i=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices?${n}`;return o.a.get(i).then(u)},t._76=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,t).then(h)},t._16=function(e,t){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(u)},t._65=function(e){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(h)},t._22=function(){return o.a.get(`${Zeplin.urls.baseURL}/api/config/plans`).then(u)},t.B=function(e){return o.a.post(`${Zeplin.urls.baseURL}/organizations`,e).then(u)},t._18=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(u)},t._19=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(u)},t.e=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:c.k,code:t}).then(u)},t.f=function(e,t,n,i){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(u)},t._88=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(h)},t._90=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(h)},t._83=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(h)},t._89=function(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(h)},t.N=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/${t}`).then(h)},t._8=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(u)},t._29=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:`${Zeplin.urls.baseURL}/v2/projects`;return o.a.get(t,{cache:"no-cache"}).then(u).then(e=>e.projects)},t._43=function(){return o.a.get(`${Zeplin.urls.baseURL}/projects`).then(u)},t._23=m,t._42=function(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}`).then(u)},t._27=g,t.a=function(e){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(h)},t.k=function(e){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(h)},t._46=f,t._47=b,t._72=y,t._107=v,t._61=S,t.O=C,t.C=function({oid:e,platform:t,densityScale:n,name:i="Untitled"}){const s=e&&"user"!==e?`/organizations/${e}`:"";return o.a.post(`${Zeplin.urls.baseURL}${s}/projects`,{name:i,type:t,densityScale:n}).then(u)},t._102=E,t._101=k,t._100=O,t._92=D,t._54=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(h)},t.F=function(e,t){var n={name:t.name};"description"in t&&(n.description=t.description);"index"in t&&(n.index=t.index);"screens"in t&&(n.screens=t.screens);return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(u)},t._112=function(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(h)},t.V=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(h)},t._110=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(h)},t._111=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return o.a.put(n,t).then(h)},t.m=w,t._28=j,t.R=T,t._25=_,t._56=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(h)},t.c=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(u)},t._57=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(h)},t.d=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(u)},t._108=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(h)},t.D=x,t._93=R,t.P=I,t.E=P,t._104=L,t.T=A,t._24=N,t.g=M,t._96=U,t._52=B,t._95=z,t.Q=F,t._99=H,t._97=q,t._103=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(h)},t._59=function(e){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(h)},t._26=V,t.h=W,t.S=$,t._30=function(e,t,n){const i=r.a.mark(),s=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return o.a.get(s).then(e=>(p("api.getSnapshot",i,e.status),d(e),e.json().then(function(t){if(e.ok)return"string"==typeof t.snapshot?function(e){const t=r.a.mark();return fetch(e).then(e=>(p("cdn.getSnapshot",t,e.status),d(e),e.json().then(function(t){if(e.ok)return t.layers=t.layers||[],t;throw Object(a.a)(e.status)})))}(t.snapshot):t.snapshot;throw Object(a.a)(e.status,t)})))},t._77=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return o.a.put(s,{color:i}).then(h)},t._3=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return o.a.delete(i).then(h)},t._44=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return o.a.get(n).then(u)},t._9=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,i=r.a.mark();return o.a.get(n).then(e=>(p("api.getDots",i,e.status),u(e)))},t.y=function(e,t,n){const i=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return o.a.post(i,n).then(u)},t.M=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return o.a.delete(i).then(h)},t.q=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return o.a.put(s,i).then(h)},t._80=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return o.a.put(s,i).then(h)},t._79=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return o.a.put(s,i).then(h)},t._78=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return o.a.put(s,i).then(h)},t.x=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return o.a.post(s,i).then(u)},t._5=function(e,t,n,i,s){const a=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return o.a.put(a,s).then(h)},t.L=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return o.a.delete(s).then(h)},t._63=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return o.a.put(i,n).then(h)},t.U=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return o.a.delete(n).then(h)},t._106=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return o.a.put(n,t).then(h)},t._128=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return o.a.put(n,t).then(h)},t._11=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;e&&(n+=`&date_before=${e}`);return o.a.get(n).then(u)},t._39=function(){return o.a.get(`${Zeplin.urls.baseURL}/users/acquaintances`).then(u)},t._82=function(){const e=`${Zeplin.urls.baseURL}/users/notificationLastReadTime`;return o.a.put(e).then(u)},t._51=function(){const e=`${Zeplin.urls.baseURL}/users/logout`;return o.a.post(e)},t._31=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return o.a.get(t).then(u)},t._66=function(e){const t=`${Zeplin.urls.baseURL}/users/requests/password`;return o.a.post(t,{handle:e}).then(h)},t._2=function(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/users/sso`,{password:e,code:t,redirectUri:n}).then(u)},t._81=function(e){const t=`${Zeplin.urls.baseURL}/users/emailNotifications`,n={emailNotifications:e};return o.a.put(t,n).then(h)},t._130=function(e){const t=`${Zeplin.urls.baseURL}/users/emotar`,n={emotar:e};return o.a.put(t,n).then(h)},t.p=function(){const e=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.delete(e).then(h)},t.u=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.put(t,e).then(h)},t._70=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.post(t,e).then(h)},t.o=function(e){const t=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return o.a.delete(t).then(h)},t._4=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return o.a.post(n,t).then(h)},t._74=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return o.a.post(t).then(u)},t.z=function(e){return o.a.post(`${Zeplin.urls.baseURL}/intercom/messages`,{message:e}).then(h)},t._41=function(){return o.a.get(`${Zeplin.urls.baseURL}/stripe/users/invoices/next`).then(u).then(e=>e.invoice)},t._20=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(u).then(e=>e.invoice)},t.A=function(e){return o.a.post(`${Zeplin.urls.baseURL}/intercom/users/tags`,{name:e}).then(h)},t._109=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens/order`,{screens:n}).then(h)},t._38=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:`${Zeplin.urls.baseURL}/styleguides`;return o.a.get(t,{cache:"no-cache"}).then(u).then(e=>e.styleguides)},t._32=G,t._35=Z,t._36=function(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(u)},t.G=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const s=e&&"user"!==e?`/organizations/${e}`:"";return o.a.post(`${Zeplin.urls.baseURL}${s}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(u)},t.W=Y,t.l=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return o.a.post(t).then(h)},t.b=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return o.a.post(t).then(h)},t._73=K,t._48=X,t._49=J,t._62=Q,t._127=ee,t._123=te,t._122=ne,t._121=ie,t._113=se,t._33=ae,t.n=oe,t._37=re,t.Z=le,t.H=ce,t._114=de,t.X=ue,t.I=he,t._125=pe,t._1=me,t.i=ge,t._117=fe,t._53=be,t._116=ye,t.Y=ve,t._124=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(h)},t._60=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return o.a.delete(t).then(h)},t._34=Se,t.j=Ce,t._0=Ee,t._120=ke,t._118=Oe,t._40=De,t.w=we,t.v=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/username`,e).then(h)},t.r=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/email`,e).then(u)},t.K=function(e){return o.a.post(`${Zeplin.urls.baseURL}/users/delete`,e).then(h)},t._91=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/password`,e).then(u)},t._75=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/billing`,e).then(h)},t._7=function(){return o.a.get(`${Zeplin.urls.baseURL}/stripe/users/cards`).then(u)},t._129=function(e){return o.a.put(`${Zeplin.urls.baseURL}/stripe/users/cards`,e).then(h)},t._64=function(e,t){let n;n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`;return o.a.post(n).then(h)},t._10=function(e){const t=Object(l.B)(e),n=`${Zeplin.urls.baseURL}/stripe/users/invoices?${t}`;return o.a.get(n).then(u)},t._67=function(){return o.a.post(`${Zeplin.urls.baseURL}/users/requests/verification`).then(h)},t._132=function(){const e=`${Zeplin.urls.baseURL}/users/verify`;return o.a.post(e).then(u)},t._50=je,t._68=Te,t._94=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(h)},t._105=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(h)},t._98=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(h)},t._115=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(h)},t._126=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(h)},t._119=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(h)},n.d(t,"_55",function(){return _e}),n.d(t,"_69",function(){return xe}),n.d(t,"_131",function(){return Re});var i=n(21),s=n.n(i),a=n(15),o=n(38),r=n(40),l=n(1),c=n(5);function d(e){const t=e.headers.get("Zeplin-Token");t&&(s.a.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function u(e){return d(e),e.json().then(t=>{if(e.ok)return t;throw Object(a.a)(e.status,t)})}function h(e){if(d(e),!e.ok)return e.json().then(t=>{throw Object(a.a)(e.status,t)})}function p(e,t,n){r.a.measure(e,{start:t,minTime:50,labels:{status:n}})}function m(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(p("api.getProject",t,e.status),d(e),e.json().then(t=>{if(!e.ok)throw Object(a.a)(e.status,t);return e.status===o.a.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function g(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(function(e){return p("api.getProjectOrganization",t,e.status),u(e)})}function f(e,t){const n=t?{handle:t}:null;return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(u)}function b(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(u)}function y(e,t,n=!1){const i=n?"organizations":"users",s=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return o.a.post(s).then(u)}function v(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(h)}function S(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return o.a.delete(n).then(h)}function C(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return o.a.delete(t).then(h)}function E(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(h)}function k(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(h)}function O(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(h)}function D(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(h)}function w(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(d(e),e))}function j(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(u)}function T(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(h)}function _(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(u)}function x(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(u)}function R(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(h)}function I(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(h)}function P(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(u)}function L(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(h)}function A(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(h)}function N(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(u)}function M(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function U(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(h)}function B(e,t,n,i){const s=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:s}).then(h)}function z(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(h)}function F(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function H(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(h)}function q(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(h)}function V(e,t){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(u)}function W(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function $(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function G(e,{projectId:t=null,styleguideId:n=null}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(d(e),e.json().then(t=>{if(!e.ok)throw Object(a.a)(e.status,t);return e.status===o.a.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function Z(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(u)}function Y(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return o.a.delete(t).then(h)}function K(e,t,n=!1){const i=n?"organizations":"users",s=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return o.a.post(s).then(u)}function X(e,t){const n=t?{handle:t}:null;return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(u)}function J(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(u)}function Q(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return o.a.delete(n).then(h)}function ee(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(h)}function te(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(h)}function ne(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(h)}function ie(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(h)}function se(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(h)}function ae(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(u)}function oe(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(d(e),e))}function re(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(u)}function le(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(h)}function ce(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(u)}function de(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(h)}function ue(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(h)}function he(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(u)}function pe(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(h)}function me(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(h)}function ge(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function fe(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(h)}function be(e,t,n,i){const s=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:s}).then(h)}function ye(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(h)}function ve(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function Se(e,t){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(u)}function Ce(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function Ee(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function ke(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(h)}function Oe(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(h)}function De(e){return o.a.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(u)}function we(e){return o.a.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(h)}function je(e,t){return o.a.post(`${Zeplin.urls.baseURL}/users/login`,{handle:e,password:t}).then(u)}function Te(e,t){return fetch(`${Zeplin.urls.baseURL}/users`,{method:"POST",headers:t,body:JSON.stringify(e)}).then(u)}const _e={get:m,inviteUser:f,inviteUsersByTag:b,delete:C,getOrganization:g,updateName:E,updateDescription:k,updateDensityScale:O,updateAccessibility:D,updateUserRole:v,transferOwnership:y,removeUser:S,getSlackIntegrationEmojis:j,deleteIntegration:T,getExtensions:_,createColor:x,updateColor:R,deleteColor:I,createTextStyle:P,updateTextStyle:L,deleteTextStyle:A,getComponentSections:N,addComponentSection:M,updateComponentSection:U,mergeComponentSection:B,updateComponent:z,deleteComponent:F,updateComponentsOrder:H,updateComponentSectionsOrder:q,authSlack:w,getIntegrationEvents:V,addIntegrationEvent:W,deleteIntegrationEvent:$},xe={get:G,inviteUser:X,inviteUsersByTag:J,delete:Y,getOrganization:Z,updateName:te,updateDescription:ne,updateDensityScale:ie,updateAccessibility:se,updateUserRole:ee,transferOwnership:K,removeUser:Q,getSlackIntegrationEmojis:re,deleteIntegration:le,getExtensions:ae,createColor:ce,updateColor:de,deleteColor:ue,createTextStyle:he,updateTextStyle:pe,deleteTextStyle:me,addComponentSection:ge,updateComponentSection:fe,mergeComponentSection:be,updateComponent:ye,deleteComponent:ve,updateComponentsOrder:ke,updateComponentSectionsOrder:Oe,authSlack:oe,getIntegrationEvents:Se,addIntegrationEvent:Ce,deleteIntegrationEvent:Ee},Re={checkUsernameAvailable:we,getUserStatus:De,loginUser:je,signupUser:Te}},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),t.blob=0===s.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(144).Readable}catch(e){t.nodestream=!1}}).call(t,n(70).Buffer)},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)s(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,i,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),s);else for(var a=0;a<i;a++)e[s+a]=t[n+a]},flattenChunks:function(e){var t,n,i,s,a,o;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),s=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,s),s+=a.length;return o}},o={arraySet:function(e,t,n,i,s){for(var a=0;a<i;a++)e[s+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},function(e,t,n){"use strict";var i=n(206);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.c="Project ended";t.a="Moved to team plan";t.e="Switched to another tool";t.d="Ran into issue";t.f="Too expensive";t.b="Other"},function(e,t,n){"use strict";var i=n(370),s=n(116),a=n(117),o=n(292),r=n(515);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"e",function(){return r.a})},function(e,t,n){"use strict";const i={source:null,text:null,container:null,visible:!1,removeTimeout:null},s=50,a=3e3;function o(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},a)}t.a=function({text:e,source:t,container:n=document.body}){if(i.visible){const n=i.container.querySelector(".toastContainer");if(n&&t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(n));n&&n.remove()}const a=document.createElement("div"),r=document.createElement("div");a.appendChild(r),a.classList.add("toastContainer"),r.classList.add("toast"),r.textContent=e,n.appendChild(a),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{a.classList.add("show"),i.removeTimeout=o(a)},s)}},function(e,t,n){"use strict";function i(){}i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.a=i},function(e,t,n){"use strict";var i=n(353);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(81),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=n(71);a.inherits=n(59);var o=n(145),r=n(101);a.inherits(u,o);for(var l=s(r.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),r.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";var i=n(204);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(408);n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";t.a={RESET:"barrel/reset",LOAD:"barrel/load",UPDATE_STATE:"barrel/updateState",SET_ORGANIZATION_ID:"barrel/setOrganizationId",SET_BARREL_ID:"barrel/setBarrelId",SET_BARREL_USER:"barrel/setBarrelUser",CHANGE_SELECTED_VIEW:"barrel/changeSelectedView",ADD_TO_SLACK:"barrel/addToSlack",UPDATE_NAME:"barrel/updateName",UPDATE_DESCRIPTION:"barrel/updateDescription",UPDATE_DENSITY_SCALE:"barrel/updateDensityScale",ADD_INTEGRATION:"barrel/addIntegration",REMOVE_INTEGRATION:"barrel/removeIntegration",ADD_MEMBERS:"barrel/addMembers",UPDATE_USER_ROLE:"barrel/updateUserRole",UPDATE_USER_DATA:"barrel/updateUserData",TRANSFER_OWNERSHIP:"barrel/transferOwnership",OWNERSHIP_TRANSFERRED:"barrel/ownershipTransferred",REMOVE_MEMBER:"barrel/removeMember",ADD_COLOR:"barrel/addColor",ADD_MULTIPLE_COLORS:"barrel/addMultipleColors",UPDATE_COLOR:"barrel/updateColor",REMOVE_COLOR:"barrel/removeColor",EMPTY_COLORS:"barrel/emptyColors",ADD_TEXT_STYLE:"barrel/addTextStyle",ADD_MULTIPLE_TEXT_STYLES:"barrel/addMultipleTextStyles",UPDATE_TEXT_STYLE:"barrel/updateTextStyle",REMOVE_TEXT_STYLE:"barrel/removeTextStyle",EMPTY_TEXT_STYLES:"barrel/emptyTextStyles",ADD_COMPONENT:"barrel/addComponent",UPDATE_COMPONENT:"barrel/updateComponent",REMOVE_COMPONENT:"barrel/removeComponent",ADD_COMPONENT_VERSION:"barrel/addComponentVersion",UPDATE_COMPONENTS_ORDER:"barrel/updateComponentsOrder",ADD_COMPONENT_SECTION:"barrel/addComponentSection",UPDATE_COMPONENT_SECTION:"barrel/updateComponentSection",MERGE_COMPONENT_SECTION:"barrel/mergeComponentSection",REMOVE_COMPONENT_SECTION:"barrel/removeComponentSection",REMOVE_COMPONENT_SECTIONS:"barrel/removeComponentSections",UPDATE_COMPONENT_SECTIONS_ORDER:"barrel/updateComponentSectionsOrder",SET_ASSET_EXPORT_TARGET:"barrel/setAssetExportTarget",CHANGE_ASSET_NAME:"barrel/changeAssetName",CHANGE_ASSET_DENSITY_SCALE_PREF:"barrel/changeAssetDensityScalePref",CHANGE_ASSET_NAMING_CONVENTION:"barrel/changeAssetNamingConvention",TOGGLE_SVG_OPTIMIZATION:"barrel/toggleSVGOptimization",CHANGE_EXPORT_TARGET:"barrel/changeExportTarget",OPEN_EXPORT_TARGET:"barrel/openExportTarget",DOWNLOAD_ASSET:"barrel/downloadAsset",DOWNLOAD_MULTIPLE_ASSET:"barrel/downloadMultipleAsset",EXPORT_CODE:"barrel/exportCode",HIDE_SLACK_RECONNECTION_AUNTIE:"barrel/hideSlaclReconnectionAuntie",OPEN_EXTENSION_SETTINGS:"barrel/openExtensionSettings",CLOSE_EXTENSION_SETTINGS:"barrel/closeExtensionSettings",TOGGLE_SCENE:"barrel/toggleScene",COPY_COMPONENT_SECTION_WEB_LINK:"barrel/copyComponentSectionWebLink",COPY_COMPONENT_SECTION_APP_URI:"barrel/copyComponentSectionAppURI",JOIN:"barrel/join",STOP_JOIN_LOADING:"barrel/stopLoadingJoin",SET_SHORTLINK:"barrel/setShortlink",MOVE_RESOURCES_REQUEST:"barrel/moveResourcesRequest",MOVE_RESOURCES_SUCCESS:"barrel/moveResourcesSuccess",MOVE_RESOURCES_FAIL:"barrel/movesResourcesFail"}},function(e,t,n){"use strict";for(var i=n(13),s=n(45),a=n(83),o=n(26),r=new Array(256),l=0;l<256;l++)r[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;r[254]=r[254]=1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}t.utf8encode=function(e){return s.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,o,r=e.length,l=0;for(a=0;a<r;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},t.utf8decode=function(e){return s.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,s,a,o=e.length,l=new Array(2*o);for(n=0,t=0;t<o;)if((s=e[t++])<128)l[n++]=s;else if((a=r[s])>4)l[n++]=65533,t+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&t<o;)s=s<<6|63&e[t++],a--;a>1?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(s.uint8array?"uint8array":"array",e))},i.inherits(c,o),c.prototype.processChunk=function(e){var n=i.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var a=n;(n=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),n.set(a,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+r[e[n]]>t?n:t}(n),l=n;o!==n.length&&(s.uint8array?(l=n.subarray(0,o),this.leftOver=n.subarray(o,n.length)):(l=n.slice(0,o),this.leftOver=n.slice(o,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,i.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,function(e,t,n){"use strict";var i=n(238);t.a=i.a},function(e,t,n){"use strict";var i=n(389);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(416);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(347);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(274),s=n(76),a=n(175);n(585);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a})},function(e,t,n){!function(){var t=n(67),i=n(43).utf8,s=n(68),a=n(43).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?a.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=t.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var m=o._ff,g=o._gg,f=o._hh,b=o._ii;for(p=0;p<r.length;p+=16){var y=c,v=d,S=u,C=h;d=b(d=b(d=b(d=b(d=f(d=f(d=f(d=f(d=g(d=g(d=g(d=g(d=m(d=m(d=m(d=m(d,u=m(u,h=m(h,c=m(c,d,u,h,r[p+0],7,-680876936),d,u,r[p+1],12,-389564586),c,d,r[p+2],17,606105819),h,c,r[p+3],22,-1044525330),u=m(u,h=m(h,c=m(c,d,u,h,r[p+4],7,-176418897),d,u,r[p+5],12,1200080426),c,d,r[p+6],17,-1473231341),h,c,r[p+7],22,-45705983),u=m(u,h=m(h,c=m(c,d,u,h,r[p+8],7,1770035416),d,u,r[p+9],12,-1958414417),c,d,r[p+10],17,-42063),h,c,r[p+11],22,-1990404162),u=m(u,h=m(h,c=m(c,d,u,h,r[p+12],7,1804603682),d,u,r[p+13],12,-40341101),c,d,r[p+14],17,-1502002290),h,c,r[p+15],22,1236535329),u=g(u,h=g(h,c=g(c,d,u,h,r[p+1],5,-165796510),d,u,r[p+6],9,-1069501632),c,d,r[p+11],14,643717713),h,c,r[p+0],20,-373897302),u=g(u,h=g(h,c=g(c,d,u,h,r[p+5],5,-701558691),d,u,r[p+10],9,38016083),c,d,r[p+15],14,-660478335),h,c,r[p+4],20,-405537848),u=g(u,h=g(h,c=g(c,d,u,h,r[p+9],5,568446438),d,u,r[p+14],9,-1019803690),c,d,r[p+3],14,-187363961),h,c,r[p+8],20,1163531501),u=g(u,h=g(h,c=g(c,d,u,h,r[p+13],5,-1444681467),d,u,r[p+2],9,-51403784),c,d,r[p+7],14,1735328473),h,c,r[p+12],20,-1926607734),u=f(u,h=f(h,c=f(c,d,u,h,r[p+5],4,-378558),d,u,r[p+8],11,-2022574463),c,d,r[p+11],16,1839030562),h,c,r[p+14],23,-35309556),u=f(u,h=f(h,c=f(c,d,u,h,r[p+1],4,-1530992060),d,u,r[p+4],11,1272893353),c,d,r[p+7],16,-155497632),h,c,r[p+10],23,-1094730640),u=f(u,h=f(h,c=f(c,d,u,h,r[p+13],4,681279174),d,u,r[p+0],11,-358537222),c,d,r[p+3],16,-722521979),h,c,r[p+6],23,76029189),u=f(u,h=f(h,c=f(c,d,u,h,r[p+9],4,-640364487),d,u,r[p+12],11,-421815835),c,d,r[p+15],16,530742520),h,c,r[p+2],23,-995338651),u=b(u,h=b(h,c=b(c,d,u,h,r[p+0],6,-198630844),d,u,r[p+7],10,1126891415),c,d,r[p+14],15,-1416354905),h,c,r[p+5],21,-57434055),u=b(u,h=b(h,c=b(c,d,u,h,r[p+12],6,1700485571),d,u,r[p+3],10,-1894986606),c,d,r[p+10],15,-1051523),h,c,r[p+1],21,-2054922799),u=b(u,h=b(h,c=b(c,d,u,h,r[p+8],6,1873313359),d,u,r[p+15],10,-30611744),c,d,r[p+6],15,-1560198380),h,c,r[p+13],21,1309151649),u=b(u,h=b(h,c=b(c,d,u,h,r[p+4],6,-145523070),d,u,r[p+11],10,-1120210379),c,d,r[p+2],15,718787259),h,c,r[p+9],21,-343485551),c=c+y>>>0,d=d+v>>>0,u=u+S>>>0,h=h+C>>>0}return t.endian([c,d,u,h])};o._ff=function(e,t,n,i,s,a,o){var r=e+(t&n|~t&i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._gg=function(e,t,n,i,s,a,o){var r=e+(t&i|n&~i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._hh=function(e,t,n,i,s,a,o){var r=e+(t^n^i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._ii=function(e,t,n,i,s,a,o){var r=e+(n^(t|~i))+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(o(e,n));return n&&n.asBytes?i:n&&n.asString?a.bytesToString(i):t.bytesToHex(i)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var s=e[i]<<16|e[i+1]<<8|e[i+2],a=0;a<4;a++)8*i+6*a<=8*e.length?n.push(t.charAt(s>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,s=0;i<e.length;s=++i%4)0!=s&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(i))>>>6-2*s);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var i=n(0),s=n(6);t.a=function(e){const{asset:t,descriptors:n}=e,a=Object(s.e)(t);return delete e.asset,delete e.descriptors,i.default.h("img",Object.assign({src:a,srcset:Object(s.f)(a,n)},e))}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(295),s=n(296),a=n(297);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n),s=(e=r(e,i)).write(t,n);s!==i&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?r(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=r(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function f(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,s);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,s){var a,o=1,r=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,r/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var d=-1;for(a=n;a<r;a++)if(c(e,a)===c(t,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===l)return d*o}else-1!==d&&(a-=a-d),d=-1}else for(n+l>r&&(n=r-l),a=n;a>=0;a--){for(var u=!0,h=0;h<l;h++)if(c(e,a+h)!==c(t,h)){u=!1;break}if(u)return a}return-1}function y(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i))>s&&(i=s):i=s;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var r=parseInt(t.substr(2*o,2),16);if(isNaN(r))return o;e[n+o]=r}return o}function v(e,t,n,i){return H(z(t,e.length-n),e,n,i)}function S(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function C(e,t,n,i){return S(e,t,n,i)}function E(e,t,n,i){return H(F(t),e,n,i)}function k(e,t,n,i){return H(function(e,t){for(var n,i,s,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,s=n%256,a.push(s),a.push(i);return a}(t,e.length-n),e,n,i)}function O(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;s<n;){var a,o,r,l,c=e[s],d=null,u=c>239?4:c>223?3:c>191?2:1;if(s+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(a=e[s+1]))&&(l=(31&c)<<6|63&a)>127&&(d=l);break;case 3:a=e[s+1],o=e[s+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:a=e[s+1],o=e[s+2],r=e[s+3],128==(192&a)&&128==(192&o)&&128==(192&r)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&r)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),s+=u}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=w));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return d(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,s){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=n-t,r=Math.min(a,o),c=this.slice(i,s),d=e.slice(t,n),u=0;u<r;++u)if(c[u]!==d[u]){a=c[u],o=d[u];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function j(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}function _(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var s="",a=t;a<n;++a)s+=B(e[a]);return s}function x(e,t,n){for(var i=e.slice(t,n),s="",a=0;a<i.length;a+=2)s+=String.fromCharCode(i[a]+256*i[a+1]);return s}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,i,s,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function P(e,t,n,i){t<0&&(t=65535+t+1);for(var s=0,a=Math.min(e.length-n,2);s<a;++s)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var s=0,a=Math.min(e.length-n,4);s<a;++s)e[n+s]=t>>>8*(i?s:3-s)&255}function A(e,t,n,i,s,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,a){return a||A(e,0,n,4),s.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,a){return a||A(e,0,n,8),s.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var s=t-e;n=new l(s,void 0);for(var a=0;a<s;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=t,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);I(this,e,t,n,s-1,-s)}var a=0,o=1,r=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===r&&0!==this[t+a-1]&&(r=1),this[t+a]=(e/o>>0)-r&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);I(this,e,t,n,s-1,-s)}var a=n-1,o=1,r=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===r&&0!==this[t+a+1]&&(r=1),this[t+a]=(e/o>>0)-r&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s,a=i-n;if(this===e&&n<t&&t<i)for(s=a-1;s>=0;--s)e[s+t]=this[s+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:z(new l(e,i).toString()),r=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%r]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,s=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&a.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var s=0;s<i&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}}).call(t,n(60))},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(70).Buffer)},function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(323),e.exports={Promise:i}},function(e,t,n){"use strict";var i=n(97);t.a=i.a},function(e,t,n){"use strict";var i=n(0);t.a=class{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.domNode=i.default.render(i.default.h(this.preactComponent,this.props),this.domContainer,this.domNode)}update(e){Object.assign(this.props,e),this.domNode=i.default.render(i.default.h(this.preactComponent,this.props),this.domContainer,this.domNode)}remove(){i.default.render(null,this.domContainer,this.domNode),this.domNode=null,this.props=null}}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c});const i=100,s=1e-4;function a(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function o(e,t){return`${e*i/t}%`}function r(e,t){return`${a(e*i/t,1)}%`}function l(e,t,n){return a(e/t,1)+n}function c(e,t,n=s){return e===t||Math.abs(e-t)<n}},function(e,t,n){"use strict";t.a={SET_PREF:"project/setPref",OPEN_SCREEN:"project/openScreen",OPEN_SCREEN_FROM_COMPONENT:"project/openScreenFromComponent",OPEN_COMPONENT_FROM_LAYER:"project/openComponentFromLayer",OPEN_LINK:"project/openLink",RENAME_SECTION:"project/renameSection",CHANGE_SECTION_DESCRIPTION:"project/changeSectionDescription",COPY_SECTION_WEB_LINK:"project/copySectionWebLink",COPY_SECTION_APP_URI:"project/copySectionAppURI",DOWNLOAD_SECTION_SCREEN_IMAGES:"project/downloadSectionScreenImages",OPEN_SECTION_MOVE_DIALOG:"project/openSectionMoveDialog",SECTION_DELETE:"project/deleteSection",RENAME_SCREEN:"project/renameScreen",OPEN_MANAGE_TAGS_POPUP:"project/openManageTagsPopup",SET_SCREEN_AS_PROJECT_THUMBNAIL:"project/setScreenAsThumbnail",DOWNLOAD_SCREEN_IMAGE:"project/downloadScreenImage",COPY_SCREEN_WEB_LINK:"project/copyScreenWebLink",COPY_SCREEN_APP_URI:"project/copyScreenAppURI",OPEN_MOVE_SCREEN_DIALOG:"project/openMoveScreenDialog",DELETE_SCREEN:"project/deleteScreen",UPDATE_SECTION_ORDER:"project/updateDashboardSectionOrder",UPDATE_SCREEN_ORDER:"project/updateDashboardScreenOrder",SPLIT_SECTION:"project/splitDashboardSection",COPY_TAG_WEB_LINK:"project/copyTagWebLink",COPY_TAG_APP_URI:"project/copyTagAppURI",DOWNLOAD_SCREEN_IMAGES_FROM_TAG:"project/downloadScreenImagesFromTag",CONVERT_TAG_TO_SECTION:"project/convertTagToSection",DELETE_TAG:"project/deleteTag",GENERATE_TAG_SHORT_LINK:"project/generateTagShortLink",SHOW_TOAST:"project/showToast",LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";var i=n(266),s=n(107),a=n(108),o=n(346);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(79);n.n(r);function l(e){const{children:t,baseRef:n,class:s,type:a,disabled:r,inverted:l,primary:c,secondary:d,warning:u,onClick:h,onMouseEnter:p,onMouseLeave:m,"data-testid":g}=e,f=Object(o.a)("button",s,{inverted:!!l,primary:!!c,secondary:!!d,warning:!!u});return i.default.h("button",{ref:n,type:a,disabled:r,onClick:h,onMouseEnter:p,onMouseLeave:m,class:f},t)}l.propTypes={class:a.a.string,disabled:a.a.bool,children:a.a.oneOfType([a.a.node,a.a.element]),onClick:a.a.func,primary:a.a.bool,secondary:a.a.bool},l.defaultProps={type:"button"},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(213);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,a,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,i)});default:for(s=new Array(o-1),a=0;a<s.length;)s[a++]=arguments[a];return process.nextTick(function(){e.apply(null,s)})}}}:e.exports=process},function(e,t,n){var i=n(70),s=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return s(e,t,n)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),a(s,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=s(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,n(70).Buffer)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var i=n(822);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(894),s=(n(126),n(253),n(625));n(895);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText);e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex);if(t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var s in e.bodyCallbacks)t.querySelector(s).addEventListener("click",e.bodyCallbacks[s]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var i=document.getElementById("bannerTemplate")},function(e,t,n){"use strict";t.c=c,t.d=function(e,t){if(!t||!t.png)return{png:c(e)};return t},t.e=function(e,t,n){return!e[t]||e[t].includes(n)},t.g=function(e,t){return o[e]-o[t]},t.a=d,t.b=function(e,t){if(e.localName)return e.localName;return d(e,t)},t.f=function(e,t){const{format:n,density:i,densityScale:s=Object(a.p)(i)}=t;return r[e].includes(n)&&l[e].includes(s)};var i=n(180),s=n(41),a=n(1);const o={png:0,jpg:1,svg:2,pdf:3},r=Object.freeze({[s.b.BASE]:["svg"],[s.b.ANDROID]:["png","jpg","svg"],[s.b.IOS]:["png","jpg","pdf"],[s.b.OSX]:["png","jpg","pdf"],[s.b.WEB]:["png","jpg","svg"]}),l=Object.freeze({[s.b.BASE]:[s.a._1x],[s.b.ANDROID]:[s.a.MDPI,s.a.HDPI,s.a.XHDPI,s.a.XXHDPI,s.a.XXXHDPI],[s.b.IOS]:[s.a._1x,s.a._2x,s.a._3x],[s.b.OSX]:[s.a._1x,s.a._2x],[s.b.WEB]:[s.a._1x,s.a._2x,s.a._3x]});function c(e){return l[e]}function d(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.a)(e.layerName,t)}},,function(e,t,n){"use strict";var i=n(75),s=n(35),a=n(51);const o=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),r=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),h=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const p=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),m=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function g(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,h.EXTRA_LIGHT).replace(/heavy/i,h.EXTRA_BOLD):e}(e),n=t.match(r);n?(t=d(t,n=n[n.length-1]),n=function(e){return/black|heavy|900/gi.test(e)?h.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?h.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?h.SEMI_BOLD:/bold|700/gi.test(e)?h.BOLD:/medium|500/gi.test(e)?h.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?h.EXTRA_LIGHT:/light|300/gi.test(e)?h.LIGHT:/thin|hairline|100/gi.test(e)?h.THIN:h.REGULAR}(n.toLowerCase())):n=h.REGULAR;let i=t.match(l);i?(t=d(t,i=i[i.length-1]),i=i.toLowerCase()):i="normal";let s=t.match(c);return s?(t=d(t,s=s[s.length-1]),s=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?m.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?m.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?m.SEMI_CONDENSED:/condensed/i.test(e)?m.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?m.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?m.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?m.SEMI_EXPANDED:/expanded/i.test(e)?m.EXPANDED:m.NORMAL}(s.toLowerCase())):s=m.NORMAL,{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:s}}t.a=class extends a.a{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:a,fontFace:r,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:p,color:f}=e;let b,y,v,S;this.id=n,this.sourceId=i,this.name=a,this.fontFace=r,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=f&&new s.a(f),p?(this.fontVariationSettings=p,b=r,({style:y,weight:v,stretch:S}=function(e){const t=o.WEIGHT in e?e[o.WEIGHT]:h.REGULAR,n=o.WIDTH in e?e[o.WIDTH]:m.NORMAL;let i;return{style:i=o.SLANT in e?`oblique ${e[o.SLANT]}deg`:e[o.ITALIC]?"italic":"normal",weight:t,stretch:n}}(p))):({family:b,style:y,weight:v,stretch:S}=g(r)),this.fontFamily=b,this.fontStyle=y,this.fontWeight=v,this.fontStretch=S}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return p[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.a)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.a)(this.fontSize,e.fontSize)&&Object(i.a)(this.lineHeight,e.lineHeight)&&Object(i.a)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.a)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.a)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.a)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}},function(e,t,n){"use strict";t.a={OPEN_PREVIOUS_SCREEN:"screen/openPreviousScreen",OPEN_NEXT_SCREEN:"screen/openNextScreen",SELECT_LAYER:"screen/selectLayer",DESELECT_LAYER:"screen/deselectLayer",ENTER_LAYER:"screen/enterLayer",LEAVE_LAYER:"screen/leaveLayer",CHANGE_PERCENTAGE_MODE:"screen/changePercentageMode",COPY_LAYER_CODE:"screen/copyLayerCode",COPY_LAYER_CONTENT:"screen/copyLayerContent",COPY_SCREEN_LINK:"screen/copyScreenLink",UPDATE_SCREEN:"screen/updateScreen",OPEN_MANAGE_TAGS:"screen/openManageTags",OPEN_SOURCE_FILE:"screen/openSourceFile",OPEN_SOURCE_FOLDER:"screen/openSourceFolder",LOAD_DOTS:"screen/loadDots",SELECT_DOT:"screen/selectDot",CLOSE_DOT_POPUP:"screen/closeDotPopup",CHANGE_DOT_FILTER:"screen/changeDotFilter",DOTS_FLASHED:"screen/dotsFlashed",FOLLOW_FLOW_LINK:"screen/followFlowLink",CHANGE_DOT_POSITION:"screen/changeDotPosition",REVERT_DOT_POSITION:"screen/revertDotPosition",CANCEL_DOT_POSITION:"screen/cancelDotPosition",COMMIT_DOT_POSITION:"screen/commitDotPosition",UPDATE_DOT_STATUS:"screen/updateDotStatus",COPY_DOT_LINK:"screen/copyDotLink",DELETE_DOT:"screen/deleteDot",OPEN_DOT_MENU:"screen/openDotMenu",CLOSE_DOT_MENU:"screen/closeDotMenu",COPY_SCREEN_CODE:"screen/copyScreenCode",POPOUT:"screen/popout",CLOSE_LAYER_VIEW:"screen/closeLayerView",CHANGE_ZOOM_LEVEL:"screen/changeZoomLevel",ZOOM_IN:"screen/zoomIn",ZOOM_OUT:"screen/zoomOut",RESET_ZOOM:"screen/resetZoom",ZOOM_APPLIED:"screen/zoomApplied",START_GESTURE:"screen/startGesture",ZOOM_WITH_GESTURE:"screen/zoomWithGesture",ZOOM_WITH_WHEEL:"screen/zoomWithWheel",TOGGLE_LAYOUT_GRID:"screen/toggleLayoutGrid",ENABLE_NOTE_MODE:"screen/enableNoteMode",DISABLE_NOTE_MODE:"screen/disableNoteMode",CREATE_NOTE:"screen/createNote",SHOW_NOTES:"screen/showNotes",HIDE_NOTES:"screen/hideNotes",SHOW_VERSIONS:"screen/showVersions",HIDE_VERSIONS:"screen/hideVersions",SHOW_VERSIONS_AUNTIE:"screen/showVersionsAuntie",HIDE_VERSIONS_AUNTIE:"screen/hideVersionsAuntie",NEW_VERSIONS_FOUND:"screen/newVersionsFound",SHOW_FLOW_LINKS:"screen/showFlowLinks",HIDE_FLOW_LINKS:"screen/hideFlowLinks",CHANGE_SIDEBAR_TAB:"screen/changeSidebarTab",CHANGE_SIDEBAR_WIDTH:"screen/changeSidebarWidth"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(277),s=n(619);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(988);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return U});var i=n(33),s=n(17),a=n(15),o=n(16),r=n(1),l=n(6),c=n(5),d=n(74),u=n(189),h=n(110),p=n(10);const m=new d.a(u.a,document.body),g=new d.a(h.a,document.body),f=document.getElementById("planChooserOverlay"),b=document.getElementById("planChooserContent"),y=document.getElementById("discountNotice"),v=document.getElementById("couponForm"),S=document.getElementById("couponCode"),C=document.getElementById("plans"),E=document.getElementById("applyCouponButton"),k=document.getElementById("friendlyReminderDialog"),O=document.getElementById("cancelFriendlyReminderButton"),D=document.getElementById("continueToPaymentButton");let w,j,T,_,x,R,I,P,L;s.b.registerDialog(k);const A={},N=Object.freeze({monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly_v2"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual_v3"}}),M=Object.freeze(["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly_v2","organization_annual_v3"]);function U(){!p.a||!p.a.features||!p.a.features.webviews?(f.classList.remove("hidden"),mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")):location.replace(Object(r.P)("profile-billing",{query:{period:"annual"}}))}const B=document.getElementById("updatePlanButton");function z(e){i.a().then(t=>{const n=t.find(t=>t.id===e);w=e,(_=n.price)?([j,T="monthly"]=e.split("_"),x=j,R=T):(x=j=e,R=T="annual",B&&("banker_bilo"===e?B.querySelector("button").textContent="".repeat(3):"bff"===e&&(B.querySelector("button").textContent=""))),b.dataset.currentPlanId=e,"period"in A?(H(A.period),document.getElementById(`${A.period}Payment`).checked=!0,delete A.period,U()):(H(T),document.getElementById(`${T}Payment`).checked=!0),"coupon"in A&&(S.value=A.coupon,S.parentElement.classList.toggle("typed",!!S.value),V(A.coupon),delete A.coupon,U())}).catch(a.b)}function F(e,t,n,i){const s=t.price/("monthly"===n?1:12),a=e.querySelector(".planPrice"),o=e.querySelector(".planProjectCount");let r=s*("organization"===e.dataset.planId?t.quantity:1);e.classList.toggle("annual","annual"===n),function(e,t){if(!t||"annual"===e)return!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return!1;return!0}(R,i)&&(r-=i.percent_off?r*i.percent_off/100:i.amount_off,r=Math.max(r,0)),a.dataset.value=r;const l=(r/=100)%1;a.textContent=Math.trunc(r),a.dataset.fr=l>0?l.toFixed(2).substring(1,4):"",o.textContent=function(e){switch(e.projectLimit){case 1:return"1 active project";case 999:case-1:return e.multi?`Unlimited projects\nincludes ${e.quantity} members`:"Unlimited projects";default:return`${e.projectLimit} Active Projects`}}(t),"organization"===e.dataset.planId&&(e.querySelector(".perMember").textContent=`$${s/100}/mo per additional member`)}function H(e="monthly",t){const n=document.querySelector(".plan.growing"),s=document.querySelector(".plan.organization");let o=document.querySelector(".plan.current");R=e,v.classList.toggle("invisible","annual"===e),y.textContent=q(R,P),i.a().then(i=>{if(Array.from(document.querySelectorAll(".plan")).forEach(n=>{const s=i.find(t=>N[e][n.dataset.planId]===t.id);F(n,s,e,t)}),o&&(o.classList.remove("current"),o.querySelector("button").disabled=!1),n.classList.toggle("recommended","growing"!==j||"monthly"===T&&"annual"===e),s.querySelector(".createLink").href=Object(r.P)("organization-create",{query:{period:e}}),_&&e===T&&"company"!==j&&M.includes(w)){(o=document.querySelector(`.plan.${j}`)).classList.add("current"),o.querySelector("button").disabled=!0;const t=i.find(e=>w===e.id);F(o,t,e)}}).catch(a.b)}function q(e,t){if(!t||"annual"===e)return"";if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return"This coupon is expired.";if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return"This coupon is maxed out.";return`${t.percent_off?`${t.percent_off}% off`:`${Object(r.m)(t.amount_off/100)} off`} ${function(e,t){switch(t.duration){case"once":return`for the first ${"monthly"===e?"month":"year"}`;case"repeating":return`for ${t.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}.`}function V(e,t="auto"){(function(e){return e?o.getCoupon(encodeURIComponent(e)):Promise.resolve(null)})(e).then(e=>{P=e,E.disabled=!0;const n=e.metadata&&e.metadata.source;mixpanel.webapp.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(e=>{P=null,E.disabled=!1,a.b(e)}).then(()=>{y.textContent=q(R,P),H(R,P)})}function W(e){e.preventDefault(),f.classList.add("hidden"),m.render({oid:L&&L._id,organizationPlan:L&&L.paymentPlan,onClose(){m.remove()},onBackClick(){f.classList.remove("hidden"),m.remove()}})}Array.from(b.querySelectorAll("[name='paymentPeriod']")).forEach(e=>{e.addEventListener("change",e=>{H(e.target.value,P)})}),S.parentElement.classList.toggle("typed",!!S.value),S.addEventListener("keyup",()=>{S.parentElement.classList.toggle("typed",!!S.value),S.value||(P=null,H(R))}),S.addEventListener("blur",()=>{S.parentElement.classList.toggle("typed",!!S.value),S.value||(P=null,H(R))}),S.addEventListener("input",()=>{E.disabled=P&&P.id===S.value}),v.addEventListener("submit",e=>{e.preventDefault(),V(S.value,"manual")});const $=StripeCheckout.configure({name:"Zeplin, Inc.",key:c.y,image:Object(l.e)("img/favicon/128x128.png"),zipCode:!0,allowRememberMe:!1,token(e){g.render(),function(e,t,n,i){g.render();const s={plan:N[n][t],stripeToken:e};"monthly"===n&&i&&(s.coupon=i.id),o.subscribeUser(s).then(()=>{fbq("track","Purchase",{value:I/100,currency:"USD",content_type:"product",content_ids:[N[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+N[n][t]),mixpanel.webapp.track("Subscribed",{to:N[n][t]}),Zeplin.updateUser({paymentPlan:N[n][t]}),location.replace(Object(r.P)("thanks",{query:{at:"ns"}}))}).catch(e=>{g.remove(),a.b(e)})}(e.id,x,R,P)}});function G(e,t){$.open({email:Zeplin.user.email,description:e,panelLabel:t,amount:I}),mixpanel.webapp.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}O.addEventListener("click",()=>{k.close()}),D.addEventListener("click",()=>{G(k.dataset.planName,"Pay 0/mo")}),C.addEventListener("click",e=>{if(e.target.classList.contains("choosePlan")){const t=e.target.closest(".plan");if(x=t.dataset.planId,_)"organization"===x?f.classList.add("hidden"):L?function(e,t,n,i){s.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb(){g.render();const s={plan:N[n][t]};"monthly"===n&&i&&(s.coupon=i.id),o.downgradeOrganizationSubscription(e,s).then(()=>{Zeplin.updateUser({paymentPlan:N[n][t]}),location.replace(Object(r.P)("projects"))}).catch(e=>{g.remove(),a.b(e)})}},cancel:{name:"CANCEL"}})}(L._id,x,R,P):function(e,t,n){s.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb(){g.render();const i={plan:N[t][e]};"monthly"===t&&n&&(i.coupon=n.id),o.changeUserSubscription(i).then(()=>{mixpanel.webapp.track("Changed plan",{from:Zeplin.user.paymentPlan,to:N[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+N[t][e]),Zeplin.updateUser({paymentPlan:N[t][e]}),location.replace(Object(r.P)("thanks",{query:{at:"us"}}))}).catch(e=>{g.remove(),a.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.webapp.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}(x,R,P);else if((I=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===P.duration){let e;"monthly"===R?e="Pay {{amount}}/mo":(e="Pay {{amount}}/year",I*=12),G(t.querySelector(".planName").textContent,e)}else!function(e,t,n){let s;switch(n.duration){case"once":s="30 days";break;case"repeating":s=`${n.duration_in_months} months`}Array.from(k.querySelectorAll(".friendlyReminderDuration")).forEach(e=>{e.textContent=s}),k.dataset.planName=e.querySelector(".planName").textContent,i.a().then(n=>{const i=n.find(n=>N[t][e.dataset.planId]===n.id);k.querySelector(".friendlyReminderPrice").textContent=i.price/100,k.showModal(),mixpanel.webapp.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}(t,R,P)}else e.target.classList.contains("cancelPlan")&&W(e)}),Array.from(b.querySelectorAll(".warning .cancelPlanLink")).forEach(e=>{e.addEventListener("click",W)}),b.addEventListener("click",e=>{e.stopPropagation()}),f.addEventListener("click",()=>{f.classList.add("hidden")}),f.addEventListener("keydown",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&f.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");A[decodeURIComponent(t)]=decodeURIComponent(n)});const[,Z]=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i)||[];Z?o.getOrganization(Z).then(e=>{L=e,"organization_free"!==e.paymentPlan&&z(e.paymentPlan),function(e){const t=i.b.subscribe(c.q+e);t.bind("CreateOrganizationSubscription",({body:{plan:e}})=>{L.paymentPlan=e,z(e),H(T),document.getElementById(`${T}Payment`).checked=!0}),t.bind("UpdateOrganizationSubscription",({body:{plan:e}})=>{L.paymentPlan=e,z(e),H(T),document.getElementById(`${T}Payment`).checked=!0})}(e._id)}).catch(a.b):(z(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",({body:{plan:e}})=>{z(e),H(T),document.getElementById(`${T}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e})}),e.bind("UpdateUserSubscription",({body:{plan:e}})=>{z(e),H(T),document.getElementById(`${T}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e})}),e.bind("CancelUserSubscription",()=>{z("free"),H(T),document.getElementById(`${T}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(i.f))},function(e,t,n){"use strict";t.a=function(e,t){if("pawn"===e)return`Only organization members can ${t}.`;return[i.default.h("p",{key:"tooltipExplanation"},"Your organization role is ",a.y(e)," ",function(e){const t=a.v(e);return i.default.h("img",{src:Object(s.e)(`img/${t}.png`),srcSet:`${Object(s.e)(`img/${t}@2x.png`)} 2x, ${Object(s.e)(`img/${t}@3x.png`)} 3x`})}(e)," , only ",a.y("rook"),"s or higher can ",t,"."),i.default.h("p",{key:"tooltipLink"},i.default.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")]};var i=n(0),s=n(6),a=n(1)},function(e,t,n){"use strict";t.a=function(e){var t=Object.assign({},e);return delete t.class,i.default.h("div",{class:Object(s.a)("checkbox",e.class)},i.default.h("input",Object.assign(t,{type:"checkbox"})),i.default.h("div",{class:"indicator"}))};var i=n(0),s=n(2),a=n(98);n.n(a)},function(e,t){},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(s(n))for(r=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,l=0;l<o;l++)c[l].apply(this,r);return!0},n.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}return s.listener=t,this.on(e,s),this},n.prototype.removeListener=function(e,t){var n,a,o,r;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,a=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(r=o;r-- >0;)if(n[r]===t||n[r].listener&&n[r].listener===t){a=r;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(145)).Stream=t,t.Readable=t,t.Writable=n(101),t.Duplex=n(53),t.Transform=n(149),t.PassThrough=n(304)},function(e,t,n){"use strict";(function(t,i){var s=n(81);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var s=i.callback;t.pendingcb--,s(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var o,r=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?t:s.nextTick;b.WritableState=f;var l=n(71);l.inherits=n(59);var c={deprecate:n(303)},d=n(146),u=n(82).Buffer,h=i.Uint8Array||function(){};var p,m=n(147);function g(){}function f(e,t){o=o||n(53),e=e||{};var i=t instanceof o;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var l=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:i&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(s.nextTick(a,i),s.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(a(i),e._writableState.errorEmitted=!0,e.emit("error",i),k(e,t))}(e,n,i,t,a);else{var o=C(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||S(e,n),i?r(v,e,n,o,a):v(e,n,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(o=o||n(53),!(p.call(b,this)||this instanceof o))return new b(e);this._writableState=new f(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,i,s,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(s,t.onwrite):e._write(s,a,t.onwrite),t.sync=!1}function v(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),k(e,t)}function S(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var r=0,l=!0;n;)s[r]=n,n.isBuf||(l=!1),n=n.next,r+=1;s.allBuffers=l,y(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,d=n.encoding,u=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(b,d),f.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(f.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof f)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i=this._writableState,a=!1,o=!i.objectMode&&function(e){return u.isBuffer(e)||e instanceof h}(e);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),s.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(i,o),a=!1),a}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,i,s,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,i,s);i!==o&&(n=!0,s="buffer",i=o)}var r=t.objectMode?1:i.length;t.length+=r;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,r,i,s,a);return l}(this,i,o,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||S(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(380).setImmediate,n(60))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(153)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(72),s=n(157),a=n(158),o=n(159);a=n(158);function r(e,t,n,i,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=s}r.prototype={getContentWorker:function(){var e=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},e.exports=r},function(e,t,n){"use strict";var i=n(13);var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var a=s,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^a[255&(e^t[r])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var a=s,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^a[255&(e^t.charCodeAt(r))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";t.a={REQUEST_INVITE:"requestInvite",ADD_ORGANIZATION:"addOrganization",UPDATE_ORGANIZATION:"updateOrganization",UPDATE_ORGANIZATION_PROFILE:"updateOrganizationProfile",REMOVE_ORGANIZATION:"removeOrganization",GET_ORGANIZATIONS_REQUESTED:"getOrganizationsRequested",GET_ORGANIZATIONS_SUCCESS:"getOrganizationsSuccess",GET_ORGANIZATIONS_FAILED:"getOrganizationsFailed",GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:"getOrganizationMemberProfilesRequested",GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:"getOrganizationMemberProfilesSuccess",ADD_ORGANIZATION_MEMBER_PROFILE:"addOrganizationMemberProfile"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(525),s=n(91),a=n(92),o=n(268),r=n(267),l=n(269);n(526);n.d(t,"f",function(){return l.a}),n.d(t,"c",function(){return i.a}),n.d(t,"b",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"e",function(){return o.a}),n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var i=n(191);t.a=i.a},function(e,t,n){"use strict";var i=n(209);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(61),r=n(1),l=n(4),c=n(2),d=n(56),u=n.n(d),h=n(239);n.n(h);class p extends i.default.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),u.a.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonDisabled:s,negativeButtonDisabled:a,fallbackButtonDisabled:d,onPositiveButtonClick:u,onNegativeButtonClick:h,onFallbackButtonClick:p,hideNegativeButton:m,onClose:g,width:f,footer:b,class:y}=this.props;return i.default.h(o.a,null,i.default.h("dialog",{onClick:r.N,onClose:g,style:{width:f},class:Object(c.a)(y,"dialog"),ref:Object(l.a)(this,"dialog")},this.props.children,i.default.h("form",{method:"dialog",class:"buttonsContainer"},b&&i.default.h("div",{class:"footer"},b),n&&i.default.h("button",{class:"secondary fallback",onClick:p,type:"submit",disabled:d},n),!m&&i.default.h("button",{class:"secondary",onClick:h,type:"submit",disabled:a},t),i.default.h("button",{autofocus:!0,class:"primary",onClick:u,type:"submit",disabled:s},e))))}}p.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0},p.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,width:a.a.number,onClose:a.a.func,children:a.a.arrayOf(a.a.element),footer:a.a.arrayOf(a.a.element)},t.a=p},function(e,t,n){"use strict";t.a=((e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1})},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={GET_PROJECTS_SUCCESS:"projects/getProjectsSuccess",GET_PROJECTS_FAILED:"projects/getProjectsFailed",GET_PROJECT_REQUESTED:"projects/getProjectRequested",GET_PROJECT_SUCCESS:"projects/getProjectSuccess",GET_PROJECT_FAILED:"projects/getProjectFailed",ADD_PROJECT:"projects/addProject",UPDATE_PROJECT:"projects/updateProject",DELETE_PROJECT:"projects/deleteProject",ACTIVATE_PROJECT:"projects/activateProject",ARCHIVE_PROJECT:"projects/archiveProject",JOIN_PROJECT:"projects/joinProject",LEAVE_PROJECT:"projects/leaveProject",TRANSFER_OWNERSHIP:"projects/transferOwnerShip",UPDATE_USER_ROLE:"projects/updateUserRole",UPDATE_USER_DATA:"projects/updateUserData",REMOVE_USER:"projects/removeUser",REMOVE_INTEGRATION:"projects/removeIntegration",ADD_PROJECT_SCREEN:"projects/addPreviewProjectScreen",REMOVE_PROJECT_SCREEN:"projects/removePreviewProjectScreen",UPDATE_PROJECT_SCREEN:"projects/updatePreviewProjectScreen",UPDATE_PROJECT_SCREENS_ORDER:"projects/updatePreviewProjectScreensOrder",UPDATE_ORGANIZATION_MEMBER_ACCESSILITY:"projects/updateOrganizationMemberAccessibility",CREATE_PROJECT:"projects/createProject",JOIN_PROJECT_FROM_PREVIEW:"projects/joinProjectFromPreviewRequest",INIT_TRANSFER_OWNERSHIP:"projects/initTransferOwnerShip",OPEN_PROJECT_PREVIEW:"projects/openProjectPreview",CLOSE_PROJECT_PREVIEW:"projects/closeProjectPreview",INVITE_USER:"projects/inviteUser"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",ADD_STYLEGUIDE:"styleguides/addStyleguide",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",DELETE_STYLEGUIDE:"styleguides/deleteStyleguide",ACTIVATE_STYLEGUIDE:"styleguides/activateStyleguide",ARCHIVE_STYLEGUIDE:"styleguides/archiveStyleguide",JOIN_STYLEGUIDE:"styleguides/joinStyleguide",LEAVE_STYLEGUIDE:"styleguides/leaveStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",UPDATE_USER_ROLE:"styleguides/updateUserRole",UPDATE_USER_DATA:"styleguides/updateUserData",REMOVE_USER:"styleguides/removeUser",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",JOIN_STYLEGUIDE_FROM_PREVIEW:"styleguides/joinStyleguideFromPreview",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",OPEN_STYLEGUIDE_PREVIEW:"styleguides/openStyleguidePreview",CLOSE_STYLEGUIDE_PREVIEW:"styleguides/closeStyleguidePreview",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";var i,s,a=n(10),o=n(24),r=n(1),l=["assetNamingConvention","showOptimizedSVG"];!function(){if(!a.a)return;const e=!!a.a&&!!a.a.features&&!!a.a.features.webviews,t=!!a.a&&!!a.a.features&&!!a.a.features.globalStyleguides;i=Object.defineProperties({},{addRecentProject:{value:function(e){a.a.ipcRenderer.send("add-recent-project",{id:e.id,name:e.name})}},updateProjectPreferences:{value:function(e){a.a.ipcRenderer.send("project-preferences-changed",e)}},bindProjectPreferences:{value:function(e){a.a.ipcRenderer.removeAllListeners("project:"+s+":preferenceMenuItemClicked"),s=e.id,a.a.ipcRenderer.on("project:"+s+":preferenceMenuItemClicked",function(e,t,n){var i;l.includes(t)&&("string"==typeof n?(i=document.querySelector("input[type='radio'][name='"+t+"'][value='"+n+"']")).checked=!0:(i=document.querySelector("input[type='checkbox'][name='"+t+"']")).checked=n,i.dispatchEvent(new Event("change")))}),Promise.all(l.map(function(t){return o.b.get(e.id,t)})).then(function(t){var n=l.reduce(function(e,n,i){return e[n]=t[i],e},{});a.a.ipcRenderer.send("project-preferences",{id:e.id,type:e.type},n)})}},updateEditCapabilities:{value:function(e){a.a.ipcRenderer.send("edit-capabilities",e)}},setViewMenuContext:{value:function(e,n){if(t){let t=e;"dashboard"===e||"styleguide"===e?t=`project-${e}`:"standalone-styleguide"===e&&(t="styleguide"),a.a.ipcRenderer.send("view-menu-context",t,n)}else a.a.ipcRenderer.send("view-menu-context",e,n)}}}),a.a.ipcRenderer.on("open-recent-project",function(e,t){i.onOpenRecentProject?i.onOpenRecentProject(t):location.assign(r.P("project",{url:{bid:t}}))}),e||a.a.ipcRenderer.on("projects",function(){i.onProjects?i.onProjects():location.assign(r.P("projects"))})}(),t.a=i},function(e,t,n){"use strict";var i=n(0),s=n(25);t.a=class extends s.a{render(){const e=Object.assign({},this.props);delete e.class;const t=`<${this.props.type} ${Object.keys(e).map(t=>`${t}="${e[t]}"`).join(" ")}></${this.props.type}>`;return i.default.h("div",{class:this.props.class,dangerouslySetInnerHTML:{__html:t}})}}},function(e,t,n){"use strict";var i=n(290),s=(n(114),n(291));n(519);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(57),o=n(115),r=n(263),l=n(76);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{loading:!0,loadingJoin:!1,organizationId:null,barrelType:"project",barrelId:null,barrelUser:null,selectedView:"dashboard",assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,bitmapInfoHidden:!1,densityWarningHidden:!1,showSlackReconnectionAuntie:!1,extensionDialogOpen:!1,shortlinks:{},linkingProjectToStyleguide:"",movingResourcesToStyleguide:""}}reset(){return this.getInitialState()}load(e){return Object.assign({},this.getInitialState(),{loading:!1},e)}updateState(e,t){return Object.assign({},e,t)}setOrganizationId(e,t){return Object.assign({},e,{organizationId:t})}setBarrelId(e,t){return Object.assign({},e,{barrelId:t})}setBarrelUser(e,t){return Object.assign({},e,{barrelUser:t})}changeSelectedView(e,t){return Object.assign({},e,{selectedView:t})}setAssetExportTarget(e,t){return Object.assign({},e,{assetExportTarget:t})}changeAssetName(e,{containerId:t,snapshot:n,assetId:i,name:s}){return r.a.changeAssetName(e.barrelId,t,n,i,s),Object.assign({},e)}changeAssetDensityScalePref(e,t,n){const i=Object.assign({},e.assetDensityScalePrefs,{[t]:n});return r.a.setAssetDensityScalePrefs(e.barrelId,i),Object.assign({},e,{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return r.a.changeAssetNamingConvention(e.barrelId,t),Object.assign({},e,{assetNamingConvention:t})}toggleSVGOptimization(e,t){return r.a.toggleSVGOptimization(e.barrelId,t),Object.assign({},e,{showOptimizedSVG:t})}hideSlackReconnectionAuntie(e){return r.a.markSlackReconnectionAuntieAsSeen(e.barrelId),Object.assign({},e,{showSlackReconnectionAuntie:!1})}openExtensionSettings(e,{extensionId:t}){return Object.assign({},e,{extensionDialogOpen:!0,extensionId:t})}closeExtensionSettings(e){return Object.assign({},e,{extensionDialogOpen:!1})}join(e){return Object.assign({},e,{loadingJoin:!0})}stopLoadingJoin(e){return Object.assign({},e,{loadingJoin:!1})}setShortlink(e,t,n){return Object.assign({},e,{shortlinks:Object.assign({},e.shortlinks,{[t]:n})})}moveResourcesRequest(e,{targetStyleguideId:t}){return Object.assign({},e,{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return Object.assign({},e,{movingResourcesToStyleguide:""})}moveResourcesFail(e){return Object.assign({},e,{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return Object.assign({},e,{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return Object.assign({},e,{linkingProjectToStyleguide:""})}reduce(e,t){switch(t.type){case a.a.RESET:return this.reset();case a.a.LOAD:return this.load(t.barrel);case a.a.UPDATE_STATE:return this.updateState(e,t.update);case a.a.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case a.a.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case a.a.SET_BARREL_USER:return this.setBarrelUser(e,t.barrelUser);case a.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case a.a.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case a.a.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case a.a.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case a.a.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case a.a.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case a.a.OPEN_EXTENSION_SETTINGS:return this.openExtensionSettings(e,t);case a.a.CLOSE_EXTENSION_SETTINGS:return this.closeExtensionSettings(e);case a.a.JOIN:return this.join(e);case a.a.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case a.a.SET_SHORTLINK:return this.setShortlink(e,t.longURL,t.shortURL);case a.a.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case a.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case a.a.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case l.a.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case l.a.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(1),s=n(35),a=n(90),o=n(51);function r(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function l(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var s,a;n<14?(s=24,a=14):i>36?(s=36,a=24):(s=Math.min(36,n),a=Math.max(14,i));var o=n===i?0:(s-a)/(n-i);e[0].scaledFontSize=Math.round(s);for(var r=1;r<e.length;r++){var l=e[r-1].fontSize/t,c=e[r].fontSize/t;e[r].scaledFontSize=Math.round(e[r-1].scaledFontSize-(l-c)*o)}}}}function c(e,t,n){let i;switch(n){case"ios":case"osx":i=t.replace(/\s+/g,"");break;case"android":i="_"+t.replace(/\s+/g,"_").toLowerCase();break;case"web":default:i="-"+t.replace(/\s+/g,"-").toLowerCase()}return e+i}function d(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function u(e,t){e.forEach(e=>{e.components.forEach(e=>{e.usedScreens=t.filter(t=>t.versions[0].snapshot.componentNames&&t.versions[0].snapshot.componentNames.includes(e.name))}),u(e.componentSections,t)})}function h(e,t,n){let i;for(const s of e){if(i=s.components.find(e=>e[t]===n))return i;if(i=h(s.componentSections,t,n))return i}return null}function p(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),p(e.componentSections,n)})}function m(e){return e.components.concat(...e.componentSections.map(m))}function g(e){const t=Object.assign({},e);if(t.users.sort(i.L.role),t.integration&&t.integration.slacks||(t.integration={slacks:[]}),t.extensions||(t.extensions=[]),t.colors&&(t.colors=t.colors.map(e=>new s.a(e))),t.textStyles&&(t.textStyles=t.textStyles.map(e=>new a.a(e)).sort(i.l),l(t.textStyles,t.densityScale)),t.complete){if(t.screens){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))}),function(e){e.forEach(e=>{"versions"in e||(e.latestVersion.commit=e.latestVersion.commit||{},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion)})}(t.screens),u(t.componentSections,t.screens)}t.componentSections&&p(t.componentSections,[])}Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},description:{get:function(){return t.description},set:function(e){t.description=e},enumerable:!0},colors:{get:function(){return t.colors},enumerable:!0},densityScale:{get:function(){return t.densityScale},set:function(e){t.densityScale=e},enumerable:!0},extensions:{get:function(){return t.extensions},set:function(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:function(){return t.integration},set:function(e){t.integration=e},enumerable:!0},prefix:{get:function(){return t.prefix},set:function(e){t.prefix=e},enumerable:!0},public:{get:function(){return t.public},set:function(e){t.public=e},enumerable:!0},versionLimit:{value:3,writable:!0,enumerable:!0},screens:{get:function(){return t.screens},set:function(e){t.screens=e},enumerable:!0},sections:{get:function(){return t.sections},set:function(e){t.sections=e},enumerable:!0},status:{get:function(){return t.status},set:function(e){t.status=e},enumerable:!0},textStyles:{get:function(){return t.textStyles},enumerable:!0},thumbnail:{get:function(){return t.thumbnail},set:function(e){t.thumbnail=e},enumerable:!0},users:{get:function(){return t.users},enumerable:!0},slackTeamId:{get:function(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:function(){if(!t.screens)return null;var e=[];return new Set(t.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort(i.L.naturally)},enumerable:!0},dimensionSuffix:{get:function(){return r(t.densityScale,t.type).dimensionSuffix},enumerable:!0},textDimensionSuffix:{get:function(){return r(t.densityScale,t.type).textDimensionSuffix},enumerable:!0},updated:{get:function(){return t.updated},set:function(e){t.updated=e},enumerable:!0},componentSections:{get:function(){return t.componentSections},set:function(e){t.componentSections=e},enumerable:!0},parent:{get:function(){return t.parent},set:function(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:function(){return t.ancestors},set:function(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0}})}g.prototype=Object.create(o.a.prototype),g.prototype.constructor=g,g.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){return e.toObject()}),density:i.q(this.type,this.densityScale)}},g.prototype.addTextStyle=function(e){this.textStyles.push(new a.a(e)),this.textStyles.sort(i.l),l(this.textStyles,this.densityScale)},g.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(i.l),l(this.textStyles,this.densityScale))},g.prototype.removeTextStyle=function(e){var t=i.b(this.textStyles,function(t){return t.id===e});return l(this.textStyles,this.densityScale),t},g.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},g.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},g.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},g.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},g.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},g.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},g.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.L.role)},g.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.L.role))},g.prototype.removeUser=function(e){return i.b(this.users,function(t){return t.user._id===e})},g.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.L.role)),this.screens.forEach(function(n){n.dots&&n.dots.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach(function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)})}),n.versions.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)})})},g.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},g.prototype.addColor=function(e){this.colors.push(new s.a(e))},g.prototype.removeColor=function(e){return i.b(this.colors,function(t){return t.id===e})},g.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},g.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},g.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},g.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},g.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},g.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},g.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},g.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},g.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},g.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(c(t,Math.round(100*e.a).toString(),this.type))},g.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=c(e,d(++n),this.type);return t},g.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},g.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},g.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},g.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var s=this.sections.findIndex(function(t){return e===t._id}),a=i.screens.splice(t,i.screens.length-t);return this.sections.splice(s+1,0,{name:n,screens:a}),this.sections[s+1]}},g.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},g.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.b(this.sections,function(t){return t._id===e})}},g.prototype.updateSectionOrder=function(e,t){var n=this,s=[].concat(e).map(function(e){return i.b(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(s))},g.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},g.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},g.prototype.addScreensToSection=function(e,t,n){var s=this,a=this.findSection(e);a&&(t.forEach(function(e){var t=s.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},g.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},g.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},g.prototype.findScreenByName=function(e){return this.screens.find(function(t){return t.name===e})},g.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.b(n.screens,function(e){return e===t}))return i.b(this.screens,function(e){return e._id===t})},g.prototype.updateScreenOrder=function(e,t,n){var s=this.findSection(e);s&&(t=[].concat(t).map(function(e){return i.b(s.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(s.screens,[n,0].concat(t)))},g.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.versionLimit?n.versions.pop():void 0},g.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var s=i.b(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,s}},g.prototype.addIntegration=function(e,t){this.integration[e].push(t)},g.prototype.removeIntegration=function(e,t){return i.b(this.integration[e],function(e){return e._id===t})},g.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var i=new s.a(n),a=i.toCSS(e);t[a]=i.name}),t},g.prototype.removeExtension=function(e){return i.b(this.extensions,function(t){return t._id===e})},g.prototype.findComponentById=function(e){return h(this.componentSections,"_id",e)},g.prototype.findComponentByName=function(e){return h(this.componentSections,"name",e)},g.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(!(t=t.componentSections.find(e=>e._id===n)))return null;return t},g.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t),this.screens&&u(this.componentSections,this.screens))},g.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const s=i.components.find(e=>e._id===t);s&&(Object.assign(s,n),"name"in n&&this.screens&&u(this.componentSections,this.screens))},g.prototype.updateComponentOrder=function(e,t,n,s){const a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.components,e=>e._id===n);r&&(r.idPath=[...t,r._id],o.components.splice(s,0,r))},g.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const s=i.b(n.components,e=>e._id===t);return s?(this.screens&&u(this.componentSections,this.screens),s):void 0},g.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),p([n],e),i.componentSections.splice(t,0,n))},g.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},g.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const s=e.pop(),a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.componentSections,e=>e._id===s);r&&(n?o.components.push(...m(r)):(o.components.push(...r.components),o.componentSections.push(...r.componentSections)),p(this.componentSections,[]))},g.prototype.updateComponentSectionOrder=function(e,t,n){const s=e.pop(),a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.componentSections,e=>e._id===s);r&&(o.componentSections.splice(n,0,r),p([r],t))},g.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const s=i.b(n.componentSections,e=>e._id===t);return s?(this.screens&&u(this.componentSections,this.screens),s):void 0},t.a=g},function(e,t,n){"use strict";t.a={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_FILTER_VALUE:"styleguide/changeFilterValue",CHANGE_SELECTED_STYLEGUDE_SECTION:"styleguide/changeSelectedStyleguideSection",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide"}},function(e,t,n){"use strict";var i=n(735),s=n(736),a=n(737);n.d(t,"c",function(){return a.a}),n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(753);t.a=i.a},function(e,t,n){"use strict";var i=n(134);t.a=i.a},function(e,t,n){"use strict";t.d=function(e,t,n){o=n,c=t,u(e),i.a.ipcRenderer.send("query-asset-download-target",e)},t.b=function(e){u(e.projectId),i.a.ipcRenderer.removeAllListeners("assets-downloaded"),i.a.ipcRenderer.once("assets-downloaded",h),i.a.ipcRenderer.send("download-assets",e)},t.a=function(){if(!l||!c)return;u(l),i.a.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})},t.c=function(){if(!r)return;i.a.ipcRenderer.send("open-item",r)};var i=n(10),s=n(50);const a=document.querySelector("main");let o,r,l,c,d;function u(e){const t=`${l=e}:asset-download-target`;i.a.ipcRenderer.removeAllListeners(t),i.a.ipcRenderer.once(t,(e,t)=>{r=t.projectFolder,o(t)})}function h(e,t){clearTimeout(d),d=setTimeout(e=>{Object(s.a)({text:`Exported to ${t.projectName}`,container:a,source:"assetExportTargetProject"})},200),"android"===c&&mixpanel.webapp.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}},function(e,t,n){"use strict";var i=n(523),s=n(171),a=n(172),o=n(524);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";var i=n(817);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(990);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(6),o=n(135);n.n(o);const r={default:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/sketch-integration/exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/quick-start/exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/pricing-and-plans"}],projects:[{text:"Inviting users",url:"https://support.zeplin.io/zeplin-101/adding-a-teammate-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/profile"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/faq/transferring-a-project"}],"project-dashboard":[{text:"Adding a project to Slack",url:"https://support.zeplin.io/faq/adding-a-project-to-slack"},{text:"Moving screens between projects",url:"https://support.zeplin.io/zeplin-101/moving-screens-between-projects"},{text:"Downloading screens as images",url:"https://support.zeplin.io/zeplin-101/downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/zeplin-101/organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/quick-start/collaborating-with-your-team"}],"project-styleguide":[{text:"Organizing Styleguide colors",url:"https://support.zeplin.io/zeplin-101/organizing-styleguide-colors"},{text:"Changing color formats",url:"https://support.zeplin.io/zeplin-101/changing-color-formats"},{text:"Exporting React Native code snippets",url:"https://support.zeplin.io/zeplin-101/exporting-react-native-code-snippets"}],"project-screen":[{text:"Updating a screen",url:"https://support.zeplin.io/zeplin-101/updating-a-screen"},{text:"Exporting grids (layouts) from Sketch or Photoshop",url:"https://support.zeplin.io/zeplin-101/exporting-grids-layouts-from-sketch-or-photoshop"},{text:"Changing units",url:"https://support.zeplin.io/faq/changing-units"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/zeplin-101/comparing-appwebsite-with-designs-using-pop-out"},{text:"Exporting assets",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"}],styleguide:[{text:"Organizing Styleguide colors",url:"https://support.zeplin.io/zeplin-101/organizing-styleguide-colors"},{text:"Changing color formats",url:"https://support.zeplin.io/zeplin-101/changing-color-formats"},{text:"Exporting React Native code snippets",url:"https://support.zeplin.io/zeplin-101/exporting-react-native-code-snippets"}],"organization-dashboard":[{text:"Assigning roles to organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members"},{text:"Restricting organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/restricting-organization-members"},{text:"Grouping organization members by tags",url:"https://support.zeplin.io/pricing-and-plans/organization/grouping-organization-members-by-tags"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Transfer organization ownership",url:"https://support.zeplin.io/pricing-and-plans/organization/transferring-an-organization"}],"organization-projects":[{text:"Transferring personal projects to org",url:"https://support.zeplin.io/faq/transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},{text:"Assigning roles to organization members",url:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/zeplin-101/archiving-a-project"}],"organization-profile":[{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/pricing-and-plans/organization/updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/pricing-and-plans/updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/pricing-and-plans/setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/profile/updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/faq/sending-invoices"}],profile:[{text:"Setting your profile picture",url:"https://support.zeplin.io/profile/setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/pricing-and-plans/updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/pricing-and-plans/setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/pricing-and-plans/changing-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/pricing-and-plans/transferring-subscription"}]};class l extends i.default.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){Intercom("showMessages")}handleLinkClick(e){mixpanel.webapp.track("Clicked support link",{article:e.target.textContent})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler),Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{page:e}=this.props,t=r[e].map(e=>i.default.h("li",{key:e.url},i.default.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.default.h("span",null,e.text))));return i.default.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.default.h("h3",null,"Handy articles:"),i.default.h("ul",null,t),i.default.h("hr",null),i.default.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question? "),i.default.h("hr",null),i.default.h("button",{type:"button",onClick:this.showMessages},i.default.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.default.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=Object(s.a)("supportButton",{popupOpen:e,intercomOpen:t});return i.default.h("div",{class:n,onClick:this.buttonClickHandler},i.default.h("img",{src:a.e("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}l.defaultProps={page:"default"},t.a=l},function(e,t){},function(e,t,n){"use strict";t.a={ADD_NOTIFICATION:"addNotification",GET_NOTIFICATIONS_REQUESTED:"getNotificationsRequested",GET_NOTIFICATIONS_SUCCESS:"getNotificationsSuccess",GET_NOTIFICATIONS_FAILED:"getNotificationsFailed",UPDATE_NOTIFICATION_LAST_READ_TIME:"updateNotificationLastReadTime"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(259),r=n(2),l=n(401);n.n(l);function c(e){const{children:t,subIconType:n,class:s}=e,a=Object(r.a)("icon",s);return i.default.h("div",{class:a},t,n&&i.default.h(o.a,{class:"subIcon",type:n}))}c.propTypes={class:a.a.string,subIconType:a.a.string},t.a=c},function(e,t,n){"use strict";var i=n(420);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(422);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={LOAD_USER_INFO:"user/loadUserInfo",SET_SELECTED_VIEW:"user/setSelectedView",MARK_GLOBAL_STYLEGUIDES_WHATS_NEW_AS_SEEN:"user/markGlobalStyleguidesWhatsNewAsSeen"}},function(e,t,n){"use strict";t.a={LOAD_INITIAL_STATE:"space/loadInitialState",CHANGE_SELECTED_TAB:"space/changeSelectedTab",CHANGE_SELECTED_ORGANIZATION:"space/changeSelectedOrganization",CHANGE_FILTER_VALUE:"space/changeFilterValue",CHANGE_PROJECT_SELECTED_SORT_TYPE:"space/changeProjectSelectedSortType",HIDE_BARREL_HIGHLIGHT:"space/hideProjectHighlight",SET_STYLEGUIDES_TAB_VISITED:"space/setStyleguidesTabVisited",OPEN_CREATE_PROJECT_DIALOG:"space/openCreateProjectDialog",CLOSE_CREATE_PROJECT_DIALOG:"space/closeCreateProjectDialog",HIDE_LOADING:"space/hideLoading",CLOSE_UPGRADE_PLAN_DIALOG:"space/closeUpgradePlanDialog",OPEN_UPGRADE_PLAN_DIALOG:"space/openUpgradePlanDialog"}},function(e,t,n){"use strict";t.a=function(e){return s[e]};var i=n(41);const s={[i.c.COLORS]:"colors",[i.c.TEXT_STYLES]:"textStyles",[i.c.COMPONENTS]:"componentSections"}},function(e,t,n){e.exports=n(298)},function(e,t,n){"use strict";(function(t){var i=n(81);e.exports=y;var s,a=n(299);y.ReadableState=b;n(99).EventEmitter;var o=function(e,t){return e.listeners(t).length},r=n(146),l=n(82).Buffer,c=t.Uint8Array||function(){};var d=n(71);d.inherits=n(59);var u=n(300),h=void 0;h=u&&u.debuglog?u.debuglog("stream"):function(){};var p,m=n(301),g=n(147);d.inherits(y,r);var f=["error","close","destroy","pause","resume"];function b(e,t){s=s||n(53),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(o||0===o)?o:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(148).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(s=s||n(53),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function v(e,t,n,i,s){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}(e,o)):(s||(a=function(e,t){var n;(function(e){return l.isBuffer(e)||e instanceof c})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):D(e,o)):S(e,o,t,!1))):i||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function S(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),D(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),v(this,e,t,!1,n)},y.prototype.unshift=function(e){return v(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(148).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var C=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(O,e):O(e))}function O(e){h("emit readable"),e.emit("readable"),_(e)}function D(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(w,e,t))}function w(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function j(e){h("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,s=n.data;e-=s.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?s+=a:s+=a.slice(0,e),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,s}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,s=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var a=i.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++s,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(o));break}++s}return t.length-=s,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):k(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&R(this),null;var i,s=t.needReadable;return h("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",s=!0),t.ended||t.reading?h("reading or ended",s=!1):s&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(i=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,h("pipe count=%d opts=%j",s.pipesCount,t);var r=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:y;function l(t,i){h("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",f),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",m),u=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}s.endEmitted?i.nextTick(r):n.once("end",r),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,_(e))}}(n);e.on("drain",d);var u=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==P(s.pipes,e))&&!u&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){h("onerror",t),y(),e.removeListener("error",g),0===o(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",b),y()}function b(){h("onfinish"),e.removeListener("close",f),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",f),e.once("finish",b),e.emit("pipe",n),s.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<s;a++)i[a].emit("unpipe",this,n);return this}var o=P(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&k(this):i.nextTick(j,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var s in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(s){(h("wrapped data"),n.decoder&&(s=n.decoder.write(s)),!n.objectMode||null!==s&&void 0!==s)&&((n.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause())))}),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var a=0;a<f.length;a++)e.on(f[a],this.emit.bind(this,f[a]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=x}).call(t,n(60))},function(e,t,n){e.exports=n(99).EventEmitter},function(e,t,n){"use strict";var i=n(81);function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(s,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var i=n(82).Buffer,s=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=r,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function r(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var s=o(t[i]);if(s>=0)return s>0&&(e.lastNeed=s-1),s;if(--i<n||-2===s)return 0;if((s=o(t[i]))>=0)return s>0&&(e.lastNeed=s-2),s;if(--i<n||-2===s)return 0;if((s=o(t[i]))>=0)return s>0&&(2===s?s=0:e.lastNeed=s-3),s;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=a;var i=n(53),s=n(71);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){r(e,t,n)}):r(this,null,null)}function r(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}s.inherits=n(59),s.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var i=n(13),s=n(45),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,s,o,r,l,c,d=[],u=0,h=e.length,p=h,m="string"!==i.getTypeOf(e);u<e.length;)p=h-u,m?(t=e[u++],n=u<h?e[u++]:0,s=u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,s=u<h?e.charCodeAt(u++):0),o=t>>2,r=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|s>>6:64,c=p>2?63&s:64,d.push(a.charAt(o)+a.charAt(r)+a.charAt(l)+a.charAt(c));return d.join("")},t.decode=function(e){var t,n,i,o,r,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=s.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(o=a.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(r=a.indexOf(e.charAt(c++)))>>2,i=(3&r)<<6|(l=a.indexOf(e.charAt(c++))),u[d++]=t,64!==r&&(u[d++]=n),64!==l&&(u[d++]=i);return u}},function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(312);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(102),s=n(84).document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,n){"use strict";(function(t){var i=n(13),s=n(325),a=n(26),o=n(150),r=n(45),l=n(72),c=null;if(r.nodestream)try{c=n(326)}catch(e){}function d(e,n){return new l.Promise(function(s,a){var r=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",function(e,t){r.push(e),n&&n(t)}).on("error",function(e){r=[],a(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(c,function(e,n){var i,s=0,a=null,o=0;for(i=0;i<n.length;i++)o+=n[i].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(a=new Uint8Array(o),i=0;i<n.length;i++)a.set(n[i],s),s+=n[i].length;return a;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,r),d);s(e)}catch(e){a(e)}r=[]}).resume()})}function u(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new s(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(t,n(70).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var i=n(13),s=n(26);function a(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},function(e,t,n){"use strict";var i=n(13),s=n(26);function a(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,s),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},e.exports=a},function(e,t,n){"use strict";var i=n(26),s=n(105);function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(13).inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=a},function(e,t,n){"use strict";var i=n(26);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n(329)},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var s=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(s=s+t[i++]|0)|0}while(--o);s%=65521,a%=65521}return s|a<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,s){var a=i,o=s+n;e^=-1;for(var r=s;r<o;r++)e=e>>>8^a[255&(e^t[r])];return-1^e}},function(e,t,n){"use strict";var i=n(46),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),r=0;r<256;r++)o[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,s,a,o,r=e.length,l=0;for(a=0;a<r;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(s-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(s-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,s,a,r=t||e.length,c=new Array(2*r);for(i=0,n=0;n<r;)if((s=e[n++])<128)c[i++]=s;else if((a=o[s])>4)c[i++]=65533,n+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&n<r;)s=s<<6|63&e[n++],a--;a>1?c[i++]=65533:s<65536?c[i++]=s:(s-=65536,c[i++]=55296|s>>10&1023,c[i++]=56320|1023&s)}return l(c,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var i=n(13),s=n(45),a=n(168),o=n(343),r=n(344),l=n(170);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new r(e):s.uint8array?new l(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},function(e,t,n){"use strict";var i=n(169);function s(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(13).inherits(s,i),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===s)return a-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&s===a[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(13);function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=s},function(e,t,n){"use strict";var i=n(168);function s(e){i.call(this,e)}n(13).inherits(s,i),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";t.a={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(542);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"k",function(){return ve}),n.d(t,"b",function(){return Ee}),n.d(t,"h",function(){return ke}),n.d(t,"j",function(){return ge}),n.d(t,"f",function(){return pe}),n.d(t,"g",function(){return he}),n.d(t,"d",function(){return fe}),n.d(t,"e",function(){return be}),n.d(t,"i",function(){return ye});n(561);var i=n(17),s=n(1),a=n(8),o=n(16),r=n(15);const l=new Set,c=document.getElementById("inviteUserPopup"),d=document.getElementById("inviteUserPopupAnchor"),u=document.getElementById("inviteeHandle"),h=c.querySelector(".userList"),p=document.getElementById("inviteeTemplate"),m=document.getElementById("inviteNewUserTemplate"),g=document.getElementById("typedUserAlreadyAddedTemplate"),f=document.getElementById("inviteByTagTemplate"),b=document.querySelector(".organizationInviteeList"),y=document.querySelector(".tagList"),v=document.querySelector(".showRemainingTags"),S=document.querySelector(".memberList"),C=document.querySelector(".membersWithTagHeader"),E=document.querySelector(".membersWithTagList"),k=document.querySelector(".wildlingList"),O=3;let D,w,j,T,_,x,R,I,P={},L=[],A=[],N=new Set,M={},U=new Set,B=new Set,z=new Set,F=!0;function H(e){let t;return(t=I===e&&M.members?Promise.resolve(M):o.getOrganizationMembers(e)).then(t=>{I=e,P=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}((M=t).members)})}function q(e){if(e.classList.contains("newUser")){if(!u.checkValidity()&&!/^\w{3,30}$/.test(u.value))return Object(a.n)(u.parentElement),void(F=!0);c.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))le(u.value,e);else if(e.classList.contains("user")){var t=A.find(function(t){return t._id===e.dataset.uid});le(t.username||t.email,e)}else if(e.classList.contains("member")){var n=M.members.find(function(t){return t.user._id===e.dataset.mid});le(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var s=M.wildlings.find(function(t){return t.user._id===e.dataset.wid});le(s.user.username||s.user.email,e)}else e.classList.contains("inviteByTag")&&function(e,t){o[w].inviteUsersByTag(M._id,j,e).then(function(e){ce(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),i.a({done:{cb(){Object(a.g)(u),F=!0}}})})}(e.dataset.tag,e)}function V(){c.classList.contains("organizationBarrel")?J():Q()}function W(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function $(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function G(e){return y.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function Z(e){return S.querySelector("[data-mid='"+e.user._id+"']")}function Y(e){return k.querySelector("[data-wid='"+e.user._id+"']")}function K(e,t,n,i){t.forEach(function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)});for(var s=0;s<e.childElementCount-t.length;s++){var a=e.children[s];a.classList.add("hidden"),a.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function X(e,t,n){var i={};if(!e)return[];var s=e.filter(function(e){if(z.has(e.user._id)){var s=n(e);if(!s)return!1;if(!s.classList.contains("inviteDone"))return!1}var a=0;return e.user.username&&(a+=W(e.user.username,t)),!!(a+=W(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=a,!0)});return s.sort(function(e,t){return i[t.user._id]-i[e.user._id]}),s}function J(){te(".wildlingList .newUser"),te(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=u.value.toLowerCase();if(c.classList.remove("noNewInvitees","noInvitees"),b.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),E.innerHTML="",u.placeholder="Invite with email/username",n){e=!!(t=B.has(n))||U.has(n);var i=Object.keys(P);i.sort();var s={},a=i.filter(function(e){var t=W(e.toLowerCase(),n);return!!t&&(s[e]=t,!0)}).sort(function(e,t){return s[t]-s[e]});K(y,a,G,"noTags");var o=X(M.members,n,Z);K(S,o,Z,"noMembers");var r=G(a[0]);b.classList.toggle("hasMembersWithTag",1===a.length&&(P[a[0]]>0||r&&r.classList.contains("inviteDone")))&&(C.textContent=a[0],E.innerHTML="",M.members.forEach(function(e){var t=Z(e);if((!z.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(a[0])){var n=ie(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),E.appendChild(n)}}));var l=X(M.wildlings,n,Y);if(K(k,l,Y,"noWildlings"),e||n.includes("@")){if(!e){b.classList.add("showAddsToTheBarrelOnlyInfo");var d=document.importNode(m.content,!0);d.querySelector(".invitee").classList.add("wildling"),d.querySelector(".newUserHandle").textContent=u.value,k.appendChild(d)}}else b.classList.add("writeAnEmailToInvite");if(t&&!b.querySelector(".invitee.inviteDone")){var h=document.importNode(g.content,!0);h.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),h.querySelector("span").textContent=u.value,b.appendChild(h)}}else{if($(y,"noTags"),v.textContent){var p=Array.from(y.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});p.sort(),p.forEach(function(e){var t=G(e);y.appendChild(t)});for(var f=y.firstElementChild,D=O;D<y.childElementCount;D++){var w=y.children[D];w.classList.add("hidden"),y.insertBefore(w,f)}y.childElementCount-O>0?(v.textContent=y.childElementCount-O,v.classList.toggle("multiple",y.childElementCount-O>1)):v.textContent=""}$(S,"noMembers"),$(k,"noWildlings")}var j=b.querySelectorAll(".invitee:not(.hidden)");if(j.length)j[0].classList.add("selected");else if(!t&&!b.classList.contains("writeAnEmailToInvite")){const e=(M.members||[]).filter(e=>!z.has(e.user._id)),t=(M.wildlings||[]).filter(e=>!z.has(e.user._id));e.length+t.length===0&&T.length>1?c.classList.add("noNewInvitees"):1===T.length&&(c.classList.add("noInvitees"),u.placeholder="Invite with email")}}function Q(){te(".userList .user.newUser"),te(".userList .userListTypedUserAlreadyAdded"),h.classList.remove("writeAnEmailToInvite"),u.placeholder="Invite with email/username";var e,t,n=u.value.toLowerCase(),i=document.importNode(g.content,!0);if(n){e=!!(t=B.has(n))||l.has(n);var s={},a=A.filter(function(e){var t=0;return e.username&&(t+=W(e.username,n)),(t+=W(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(s[e._id]=t,!0)}).sort(function(e,t){return s[t._id]-s[e._id]});a.forEach(function(e){var t=ee(e._id);t.classList.remove("hidden","selected"),h.appendChild(t)});for(var o=0;o<A.length-a.length;o++){var r=h.children[o].classList;r.add("hidden"),r.remove("selected")}}else A.forEach(function(e){var t=ee(e._id);t.classList.remove("hidden","selected"),h.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var d=document.importNode(m.content,!0);d.querySelector(".invitee").classList.add("user"),d.querySelector(".newUserHandle").textContent=u.value,h.appendChild(d)}}else h.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=u.value,h.appendChild(i))}c.classList.remove("noInvitees"),c.classList.remove("noNewInvitees");var p=h.querySelectorAll(".user:not(.hidden)");p.length?p[0].classList.add("selected"):t||h.classList.contains("writeAnEmailToInvite")||(L.length?c.classList.add("noNewInvitees"):(c.classList.add("noInvitees"),u.placeholder="Invite with email"))}function ee(e){return h.querySelector(".invitee[data-uid='"+e+"']")}function te(e){var t=document.querySelector(e);t&&t.remove()}function ne(e,t,n){var i=document.importNode(f.content,!0),s=i.querySelector(".inviteByTag"),a=i.querySelector(".tagName"),o=i.querySelector(".memberCount");return s.classList.toggle("hidden",!!n),s.dataset.tag=e,a.textContent=e,a.title=e,o.textContent=t+(t>1?" members":" member"),i}function ie(e){var t=document.importNode(p.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),s=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Object(a.m)(i,e.user),e.user.username?(s.textContent=e.user.username,s.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(s.textContent=e.user.email,s.title=e.user.email,o.textContent="Pending Invitation");var l=e.tags.join(", ");return r.textContent=l,r.title=l,t}function se(e){var t=document.importNode(p.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),s=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Object(a.m)(i,e.user),s.textContent=e.user.username,s.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(r.textContent="Pending Invitation"),t}function ae(e,t){var n=document.importNode(p.content,!0),i=n.querySelector(".invitee"),s=n.querySelector(".userImage"),o=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),l=e.username||e.email;(i.classList.add("user"),Object(a.m)(s,e),i.dataset.uid=e._id,o.textContent=l,o.title=l,e.username)?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation";return t&&i.classList.add("hidden"),n}function oe(e){N.has(e._id)||(L.push(e),N.add(e._id),e.username&&l.add(e.username),l.add(e.email))}function re(e){z.add(e._id),e.username&&B.add(e.username),B.add(e.email)}function le(e,t){o[w].inviteUser(j,e).then(function(e){ce(e,t)}).catch(function(e){c.querySelector(".inputArea img").classList.add("hidden"),ke()||t.classList.contains("newUser")?(F=!1,r.b(e,{dialogCallback(){Object(a.g)(u),F=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){i.a({done:{cb(){Object(a.g)(u),F=!0}}})})}function ce(e,t){Object(a.g)(u),c.querySelector(".inputArea img").classList.add("hidden"),x&&x(e),e.users?e.users.forEach(function(e){re(e.user)}):(re(e.user),t.classList.contains("user")&&oe(e.user));var n=e.users?e.users:[e];(mixpanel.master.track("Invited user"),D&&D.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),c.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach(function(e){if(M.members){var t=M.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){P[e]-=1})}}),Object.keys(P).forEach(function(e){var t=P[e],n=G(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")}));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(b.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){A.push(e.user);var i=ae(e.user);i.querySelector(".user").classList.add("inviteDone"),h.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),ue(i)}else{M.wildlings&&M.wildlings.push({user:e.user}),U.add(e.user.email);var s=se(e);s.querySelector(".wildling").classList.add("inviteDone"),k.querySelector(".wildling.selected")||s.querySelector(".wildling").classList.add("selected"),k.appendChild(s)}}function de(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function ue(e){h.lastElementChild&&h.lastElementChild.classList.contains("user")?h.appendChild(e):h.insertBefore(e,h.lastElementChild)}function he(e){e.forEach(function(e){(oe(e.user),D&&!z.has(e.user._id))&&(A.some(function(t){return t._id===e.user._id})||(A.push(e.user),ue(ae(e.user))))}),ke()||V()}function pe(e,t){if(oe(t),D){if(j===e)re(t),s.b(A,function(e){return e._id===t._id});else A.some(function(e){return e._id===t._id})||A.push(t);var n,i=u.value;if(n=c.classList.contains("organizationBarrel")?Z(t):ee(t.user._id),j===e&&n){if(n.classList.contains("selected")&&h.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!h.querySelector(".user:not(.hidden)")){var a=document.importNode(g.content,!0);a.querySelector(".userListTypedUserAlreadyAdded").classList.add(u.value===Zeplin.user.username||u.value===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=u.value,h.appendChild(a)}}else j!==e&&(n?n.classList.contains("newUser")&&(h.appendChild(ae(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):ue(ae(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))))}}function me(e,t,n,i){var s=t(n),a=!(!u.value||n.user.username&&n.user.username.includes(u.value)||n.user.email.includes(u.value));s.querySelector(".invitee").classList.toggle("hidden",a),a?e.append(s):(e.insertBefore(s,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(i))}function ge(e,t){if(j===e)if(c.classList.contains("organizationBarrel")){var n,i,s=M.members.find(function(e){return e.user._id===t});s?(n=s,i=Z(s),s.tags.forEach(function(e){P[e]?P[e]+=1:P[e]=1;var t=G(e);if(t)t.querySelector(".memberCount").textContent=P[e]+(P[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ne(e,P[e]);n.querySelector(".invitee").classList.toggle("hidden",!!u.value&&!e.includes(u.value))?y.appendChild(n):y.insertBefore(ne(e,P[e]),y.querySelector(".invitee:not(.hidden)"))}})):i=Y(n=M.wildlings.find(function(e){return e.user._id===t})),z.delete(t),B.delete(n.user.username),B.delete(n.user.email);var a=b.querySelector(".userListTypedUserAlreadyAdded");if(u.value===n.user.username&&a&&a.remove(),!D)return;i?i.classList.remove("inviteDone"):s?me(S,ie,s,"noMembers"):me(k,se,n,"noWildlings")}else{var o=L.find(function(e){return e._id===t});if(function(e){z.delete(e._id),e.username&&(B.delete(e.username),l.add(e.username)),B.delete(e.email),l.add(e.email),A.some(function(t){return t._id===e._id})||A.push(e)}(o),!D)return;var r=u.value,d=ee(o._id);d?d.classList.remove("inviteDone"):ue(ae(o,r&&!(o.username&&o.username.includes(r))&&!o.email.includes(r)))}}function fe(e){var t=L.find(function(t){return t._id===e._id});if(t&&(Object.assign(t,e),D)){var n=ee(e._id);n&&(n.querySelector(".username").textContent=e.username,n.querySelector(".inviteExtraInfo").textContent="")}}function be(e){var t=s.b(L,function(t){return t._id===e});if(t&&(function(e){z.delete(e._id),N.delete(e._id),e.username&&(B.delete(e.username),l.delete(e.username)),B.delete(e.email),l.delete(e.email),s.b(A,function(t){return t._id===e._id})}(t),D)){var n=ee(t._id);n&&(h.removeChild(n),n.classList.contains("selected")&&h.querySelector(".user:not(.hidden)")&&h.querySelector(".user:not(.hidden)").classList.add("selected"))}}function ye(e){e&&"user"!==e&&e!==I&&H(e)}function ve({bt:e,popupContainer:t,bid:n,members:i,oid:a,onInvite:o,onDismiss:r}){const d=a&&"user"!==a;w=e,c.classList.toggle("organizationBarrel",d),R=r,x=o,d?H(a).then(()=>{!function(e,t,n){if(t!==j){Se(),B=new Set,z=new Set,U=new Set,j=t,(T=n).forEach(function(e){re(e.user)}),M.members&&M.members.forEach(function(e){z.has(e.user._id)?e.tags.forEach(function(e){P[e]>0&&(P[e]-=1,0===P[e]&&delete P[e])}):(U.add(e.user.username).add(e.user.email),S.appendChild(ie(e)))}),b.classList.toggle("noMembers",!S.childElementCount);var i=Object.keys(P);i.sort(),i.forEach(function(e){y.appendChild(ne(e,P[e],!1))});var s=i.length-O;s>0&&(v.textContent=s,v.classList.toggle("multiple",s>1)),b.classList.toggle("noTags",!i.length),M.wildlings&&M.wildlings.forEach(function(e){z.has(e.user._id)||(U.add(e.user.username).add(e.user.email),k.appendChild(se(e)))}),b.classList.toggle("noWildlings",!k.childElementCount)}else Object.keys(P).forEach(function(e){0===P[e]&&delete P[e]}),_&&new Date-_>1e4&&(v.textContent=Object.keys(P).length-O,v.classList.toggle("multiple",Object.keys(P).length-O>1)),de(y),de(S),de(k);_=0,D=e,e.appendChild(c),e.getBoundingClientRect().right+80>window.innerWidth&&c.classList.add("left");J(),c.classList.remove("hidden"),b.scrollTop=0,u.focus()}(t,n,i)}):function(e,t,n){t!==j?(Se(),A=[],B=new Set,z=new Set,j=t,(T=n).forEach(function(e){re(e.user)}),L.forEach(function(e){z.has(e._id)||(A.push(e),e.username&&l.add(e.username),l.add(e.email))}),A.forEach(function(e){h.appendChild(ae(e))})):(de(h),z.forEach(function(e){s.b(A,function(t){return t._id===e})}));D=e,e.appendChild(c),e.getBoundingClientRect().right+80>window.innerWidth&&c.classList.add("left");Q(),c.classList.remove("hidden"),h.scrollTop=0,u.focus()}(t,n,i),document.addEventListener("click",e=>{if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!ke()){c.contains(e.target)||Ee()}},!0)}function Se(){h.innerHTML="",y.innerHTML="",v.textContent="",S.innerHTML="",k.innerHTML=""}function Ce(){u.value="",u.dispatchEvent(new Event("input"))}function Ee(){document.removeEventListener("click",Ee),D=null,c.classList.add("hidden"),c.classList.remove("left"),c.querySelector(".inputArea img").classList.add("hidden"),Ce(),_||(_=new Date),R&&R(),document.body.append(c)}function ke(){return c.classList.contains("hidden")}o.getUserAcquaintances().then(e=>{L=e.acquaintances,N=new Set(L.map(e=>e._id))}).catch(e=>{}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),q(t))}}let t,n;u.addEventListener("input",function(){u.parentElement.classList.toggle("typed",!!u.value),F=!0,V(),D&&D.dispatchEvent(new CustomEvent("listRefreshed"))}),c.addEventListener("click",function(e){e.stopPropagation()}),c.addEventListener("contextmenu",function(e){e.stopPropagation()}),h.addEventListener("click",e),b.addEventListener("click",e),c.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),c.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=c.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(ke())break;if(e.stopImmediatePropagation(),u.value){Ce();break}Ee();break;case Zeplin.KEY_CODE.ENTER:{if(ke()||!F)break;const e=c.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;F=!1,q(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(ke())break;F=!0,e.preventDefault(),function(e){c.classList.contains("organizationBarrel")?function(e){var t=b.querySelector(".invitee.selected");if(t){var n,i=Array.from(b.querySelectorAll(".invitee:not(.hidden)")),s=i.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?s-1:s+1)>-1&&n<i.length){var o=i[n];t.classList.remove("selected"),o.classList.add("selected"),Object(a.k)(o,b)}}else{var r=b.querySelector(".invitee:not(.hidden)");r&&(r.classList.add("selected"),Object(a.k)(r,b))}}(e):function(e){var t=h.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Object(a.k)(n))}else{var i=h.querySelector(".user:not(.hidden)");i&&(i.classList.add("selected"),Object(a.k)(i))}}(e)}(e)}}),v.addEventListener("click",function(e){e.stopPropagation(),v.textContent="",Array.from(y.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),y.appendChild(e)})})}()},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(355);t.a=i.a},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u});var i=n(0),s=n(7),a=n(636),o=n(637);const r=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in r&&t in r?l[e]-l[t]:e in r&&!(t in r)?-1:!(e in r)&&t in r?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:a,weightText:o,fontVariationSettings:r}=e,l=r||"normal"===a?"":` ${Object(s.f)(a)}`,c=r||"normal"===n?"":` ${Object(s.f)(n)}`,d=r?"":Object(s.f)(o);return{content:`${t+l}${d&&c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let h=[];if(n&&"left"!==n&&h.push(Object(s.f)(n)),u){const t=c(u).map(([t,n])=>i.default.h("span",{key:t},r[t]||i.default.h("code",null,t),": ",e.fontVariationAxis(n)));h.push(...t)}return l&&h.push(`Line height: ${e.textLength(l)}`),"number"==typeof d&&h.push(`Letter spacing: ${e.letterSpacing(d)}`),(h=[...Object(a.a)(h,Object(o.a)(", "))]).pop(),h}},function(e,t,n){"use strict";var i=n(1014);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(660);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(7);var s=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.f).join("");return"camelCase"===t?Object(i.d)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}(function(e){var t=e.match(s);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}(e),t)}},function(e,t,n){"use strict";t.a="newComponentSection"},function(e,t,n){"use strict";var i=n(711),s=n(7);function a(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var s=e[n];if(n=n.replace(/_/g," "),s.startsWith("alias:"))t[n]=s.substring(6);else{var o=a(n);o?o.aliases.push(n):i.a.push({emoji:s,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=a(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var i=0;i<n.aliases.length;i++)if(Object(s.a)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})}),t},searchEmoji:a}},function(e,t,n){"use strict";var i=n(762),s=(n(248),n(247),n(763));n(764);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2);function r({x:e,y:t},{top:n,right:i,bottom:s,left:a}){return i>e&&a<e&&s>t&&n<t}function l(e){return class extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.state={hover:!1}}changeHover(e){this.setState({hover:e}),this.props.onHoverChange&&this.props.onHoverChange(e)}handleMouseEnter(){this.changeHover(!0)}handleMouseLeave(e){const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:s,relatedTarget:a,target:o}=e,l=o.getBoundingClientRect();if(!t)if(n&&a&&r({x:i,y:s},l)){const e=this;a.addEventListener("mouseleave",function t(n){r({x:n.clientX,y:n.clientY},l)||e.changeHover(!1),a.removeEventListener("mouseleave",t)})}else this.changeHover(!1)}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){const t=Object.assign({},this.props,{hover:this.state.hover});return delete t.class,i.default.h("div",{class:Object(o.a)("hoverRegion",this.props.class),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.default.h(e,t))}}}l.displayName="HoverRegion",l.propTypes={class:a.a.string,initialHover:a.a.bool,ignoreOverlays:a.a.bool,onHoverChange:a.a.func},l.defaultProps={initialHover:!1,ignoreOverlays:!0},t.a=l},,,,,function(e,t,n){"use strict";var i=n(190);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(15),a=n(16),o=n(1),r=n(110),l=n(193),c=n(234),d=n(27);const u=255;function h(e,t,n){const i={Reason:e,Plan:n};if(t)for(let s=0;s*u<t.length;s++){const e=s*u;i[`Description${s?` ${s}`:""}`]=t.substring(e,e+u)}mixpanel.master.track("Cancelled plan",i),Intercom("trackEvent","cancelled plan",{reason:e,description:t,plan:n}),t&&Object(a.createIntercomMessage)(`Cancelled plan ${n}: ${e}\n\n${t}`)}function p(){location.replace(Object(o.P)("projects"))}function m(){location.replace(Object(o.P)("profile-account"))}function g(){Intercom("showNewMessage")}t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this),this.handleTransferPlanClick=this.handleTransferPlanClick.bind(this),this.handleTransferPlanFormSubmit=this.handleTransferPlanFormSubmit.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),this.performTransferUserPlan=this.performTransferUserPlan.bind(this),this.performCancelUserPlan=this.performCancelUserPlan.bind(this),this.performCancelOrgPlan=this.performCancelOrgPlan.bind(this),this.hideTransferPlanWarningDialog=this.hideTransferPlanWarningDialog.bind(this),this.hideTransferOrgOwnershipDialog=this.hideTransferOrgOwnershipDialog.bind(this),this.hideSubscriptionCancelledDialog=this.hideSubscriptionCancelledDialog.bind(this),this.hideCancelUserPlanDialog=this.hideCancelUserPlanDialog.bind(this),this.hideCancelOrgPlanDialog=this.hideCancelOrgPlanDialog.bind(this),this.handleGoToOrgDashboardClick=this.handleGoToOrgDashboardClick.bind(this),this.state={loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelUserPlanDialogShown:!1,cancelOrgPlanDialogShown:!1}}hideTransferPlanWarningDialog(){this.setState({transferPlanWarningDialogShown:!1})}hideTransferOrgOwnershipDialog(){this.setState({transferOrgOwnershipDialogShown:!1})}hideCancelUserPlanDialog(){this.setState({cancelUserPlanDialogShown:!1})}hideCancelOrgPlanDialog(){this.setState({cancelOrgPlanDialogShown:!1})}hideSubscriptionCancelledDialog(){this.setState({subscriptionCancelledDialogShown:!1})}performTransferUserPlan(){const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(a.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(o.P)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}performCancelUserPlan(){const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(a.cancelUserSubscription)().then(()=>{h(e,t,Zeplin.user.paymentPlan),Zeplin.updateUser({paymentPlan:"free"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}performCancelOrgPlan(){const{oid:e,organizationPlan:t}=this.props,{cancelReason:n,cancelDescription:i}=this.state;this.setState({loading:!0}),Object(a.cancelOrganizationSubscription)(e).then(()=>{h(n,i,t),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}handleQuestionChange(){this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}handleGoToOrgDashboardClick(){const{oid:e}=this.props;location.replace(Object(o.P)("organization-dashboard",{url:{oid:e}}))}handleCancelPlanClick(e,t){this.props.oid?this.setState({cancelReason:e,cancelDescription:t,cancelOrgPlanDialogShown:!0}):this.setState({cancelReason:e,cancelDescription:t,cancelUserPlanDialogShown:!0})}handleTransferPlanFormSubmit(e){this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(a.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(s.b)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}handleTransferPlanClick(){const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}render(){const{onClose:e,onBackClick:t}=this.props,{loading:n,transferEmail:s,transferPlanFormError:a,transferPlanFormShown:o,subscriptionCancelledDialogShown:u,cancelUserPlanDialogShown:h,cancelOrgPlanDialogShown:f,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:y}=this.state;return i.default.h("div",null,i.default.h(l.a,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:m,onContactSupportClick:g,transferPlanFormError:a,transferPlanFormShown:o}),n&&i.default.h(r.a,null),b&&i.default.h(c.a,{email:s,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),y&&i.default.h(d.a,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),h&&i.default.h(d.a,{title:"Cancel plan?",message:"Your projects will be archived, except the last updated one.",positiveButtonText:"CANCEL AND ARCHIVE",onPositiveButtonClick:this.performCancelUserPlan,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:this.hideCancelUserPlanDialog}),f&&i.default.h(d.a,{title:"Cancel plan?",message:"Your organization projects will be archived.",positiveButtonText:"CANCEL AND ARCHIVE",onPositiveButtonClick:this.performCancelOrgPlan,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:this.hideCancelOrgPlanDialog}),u&&i.default.h(d.a,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:p,onClose:this.hideSubscriptionCancelledDialog}))}}},function(e,t,n){"use strict";t.a=function(){return i.default.h("div",{class:"loadingOverlay"},i.default.h("div",{class:"ripple ripple1"}),i.default.h("div",{class:"ripple ripple2"}),i.default.h("div",{class:"ripple ripple3"}),i.default.h("div",{class:"ripple ripple4"}))};var i=n(0),s=n(192);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(194);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(195),o=n(198),r=n(233);n.n(r);t.a=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:r,onTransferPlanFormSubmit:l,onTransferPlanClick:c,onChangeEmailClick:d,onContactSupportClick:u,onQuestionChange:h,transferPlanFormError:p,transferPlanFormShown:m}=e;return i.default.h(a.a,{onClose:t},i.default.h("div",{class:"cancelPlanModal"},i.default.h("div",{class:"cancelPlanHeader"},i.default.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.default.h("img",{src:Object(s.e)("img/icNavUp.svg"),alt:"<"}),i.default.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.default.h("div",{class:"cancelPlanHero"},i.default.h("h2",{class:"title"},"Why are you cancelling?"),i.default.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.default.h(o.a,{onBackClick:n,onQuestionChange:h,onCancelPlanClick:r,onTransferPlanFormSubmit:l,onTransferPlanClick:c,onChangeEmailClick:d,onContactSupportClick:u,transferPlanFormShown:m,transferPlanFormError:p})))}},function(e,t,n){"use strict";var i=n(196);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1),r=n(197);n.n(r);class l extends i.default.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){return i.default.h("div",{class:"overlay",onClick:this.handleClose},this.props.children.map(e=>i.default.cloneElement(e,{onClick:o.N})))}}l.propTypes={onClose:a.a.func},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(199);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(200),a=n(202),o=n(232);n.n(o);t.a=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:o,onTransferPlanClick:r,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:h}=e;return i.default.h(s.a,{class:"cancelPlanSurvey",onChange:h},i.default.h(a.h,{onTransferPlanClick:r,onTransferPlanFormSubmit:o,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.default.h(a.e,{onBackClick:t}),i.default.h(a.c,{onCancelPlanClick:n}),i.default.h(a.a,{onCancelPlanClick:n}),i.default.h(a.f,{onCancelPlanClick:n}),i.default.h(a.d,{onContactSupportClick:c,onCancelPlanClick:n}),i.default.h(a.g,{onContactSupportClick:c,onCancelPlanClick:n}),i.default.h(a.b,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";var i=n(201);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=class extends i.default.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t}=this.props;return i.default.h("div",{class:t},this.props.children.map((t,n)=>i.default.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}},function(e,t,n){"use strict";var i=n(203),s=n(212),a=n(221),o=n(222),r=n(223),l=n(227),c=n(228),d=n(229);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return r.a}),n.d(t,"f",function(){return l.a}),n.d(t,"g",function(){return c.a}),n.d(t,"h",function(){return d.a})},function(e,t,n){"use strict";var i=n(0),s=n(54),a=n(47),o=n(31),r=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.a)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.default.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! "),i.default.h(s.a,null,i.default.h(a.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Moved to a team plan"})}}},function(e,t,n){"use strict";var i=n(0),s=n(205);n.n(s);t.a=function(e){return i.default.h("div",{class:"questionButtons"},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(2),o=n(207);n.n(o);t.a=function(e){const{secondary:t,class:n}=e,o=Object.assign({},e,{class:Object(a.a)("questionButton",n,{secondary:t})});return delete o.secondary,i.default.h(s.a,o)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(111),a=n(2),o=n(211);n.n(o);t.a=function(e){const{content:t,mainText:n,subText:o,onSelect:r,selected:l,value:c}=e;return i.default.h("div",{class:"cancelPlanSurveyQuestion"},i.default.h("label",{class:Object(a.a)("selectWithText",{hasSubText:!!o})},i.default.h(s.a,{onClick:r,checked:l,value:c}),i.default.h("div",{class:"textContainer"},i.default.h("p",{class:"mainText"},n),o&&i.default.h("p",{class:"subText"},o))),l&&i.default.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(210);n.n(a);t.a=function(e){const t=Object.assign({},e);return delete t.class,i.default.h("span",null,i.default.h("input",Object.assign(t,{type:"radio",class:"radioButtonRadio"})),i.default.h("div",{tabIndex:e.tabIndex,class:Object(s.a)("radioButton",e.class)},i.default.h("div",{class:"radioButtonInner"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(80),a=n(31),o=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.b,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.default.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.default.h(s.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.default.h(a.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Other"})}}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(47),r=n(214),l=n(217),c=n(220);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:h}=this.props,{value:p,dirty:m,isInputValid:g}=this.state,f="email"===c&&l.a||r.a,b=!m&&!!d,y=p&&p.trim()&&g;return i.default.h("form",{class:Object(s.a)("questionTextForm",{hasError:b},h),onSubmit:this.handleSubmit},n&&i.default.h("label",{class:"questionTextFormLabel"},n),i.default.h(f,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:p,inputRef:Object(a.a)(this,"textInput")}),b&&i.default.h("div",{class:"errorText"},d),i.default.h(o.a,{class:"questionTextFormButton",disabled:!y,type:"submit"},t))}}d.defaultProps={maxLength:2048},t.a=d},function(e,t,n){"use strict";var i=n(215);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(216);n.n(a);t.a=class extends i.default.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:a,class:o}=this.props;return i.default.h("div",{class:Object(s.a)("questionTextArea",o)},i.default.h("div",{class:"mirror"},i.default.h("pre",null,e,"")),i.default.h("textarea",{value:e,maxLength:a,placeholder:t,ref:n,onInput:this.handleInput}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(218);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(219);n.n(a);t.a=function(e){const t=Object.assign({},e,{class:Object(s.a)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.default.h("input",t)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(54),a=n(47),o=n(31),r=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.c)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.default.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! "),i.default.h(s.a,null,i.default.h(a.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Project ended, won't need Zeplin for a while"})}}},function(e,t,n){"use strict";var i=n(0),s=n(54),a=n(47),o=n(31),r=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.d)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.default.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. "),i.default.h(s.a,null,i.default.h(a.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.default.h(a.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Ran into an issue",subText:"e.g. I couldn't export my designs., I failed to install the Photoshop plugin."})}}},function(e,t,n){"use strict";var i=n(0),s=n(31),a=n(224);t.a=function(e){const{onSelect:t,selected:n,value:o,onBackClick:r}=e,l=[i.default.h("p",null,"You can always switch your billing frequency. ",i.default.h(a.a,{onClick:r},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.default.h("br",null),i.default.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.default.h(s.a,{onSelect:t,selected:n,value:o,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";var i=n(225);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(226);n.n(s);t.a=function(e){return i.default.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(80),a=n(31),o=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.e,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.default.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.default.h(s.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.default.h(a.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Switched to another tool"})}}},function(e,t,n){"use strict";var i=n(0),s=n(54),a=n(47),o=n(31),r=n(48);t.a=class extends i.default.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.f)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.default.h("p",null,"We wouldn't want to lose you over pricing. Mind contacting us and sharing why? We'd love to figure out the best plan for you and your team."),i.default.h(s.a,null,i.default.h(a.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.default.h(a.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.default.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Too expensive",subText:"e.g. Dollar is really high in my country"})}}},function(e,t,n){"use strict";var i=n(230);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(54),a=n(47),o=n(80),r=n(31),l=n(231);n.n(l);const c=254;t.a=function(e){const{onSelect:t,selected:n,value:l}=e;return i.default.h(r.a,{onSelect:t,selected:n,value:l,content:function(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:r,transferPlanFormError:l,transferPlanFormShown:d}=e;return d?[i.default.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.default.h("div",{class:"transferPlanFormContainer"},i.default.h("span",{class:"emoji"},""),i.default.h("div",{class:"text"},i.default.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.default.h("br",null),i.default.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.default.h(o.a,{class:"transferPlanForm",type:"email",maxLength:c,label:"Enter the email of the user to transfer to:",error:l,onSubmit:r,placeholder:"Email",buttonText:"Transfer plan"})]:[i.default.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.default.h(s.a,null,i.default.h(a.a,{onClick:n},"Transfer plan"),i.default.h(a.a,{onClick:t},"Change email"))]}(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. I used my personal email address., I subscribed with my own account, instead of our designers."})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(235);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(27),a=n(241);n.n(a);t.a=function(e){const{email:t}=e;return i.default.h(s.b,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.default.h("div",{class:"dialogWrapper"},i.default.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.default.h("div",{class:"dialogBody"},i.default.h("p",{class:"primaryInfo"},"Youre transferring your subscription to ",i.default.h("strong",null,'"',t,'"'),"."),i.default.h("p",null,"By transferring the subscription, you will ",i.default.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){"use strict";var i=n(237);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(112),l=n(240);n.n(l);function c(e){const{title:t,message:n,positiveButtonText:s,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,onClose:p,width:m,class:g}=e;return i.default.h(r.a,{class:Object(o.a)("basicDialog",g,{onlyMessage:!t}),positiveButtonText:s,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,width:m,onClose:p},i.default.h("div",{class:"dialogBody"},t&&i.default.h("h1",{class:"title"},t),i.default.h("div",{class:"message"},n)))}c.displayName="BasicDialog",c.propTypes={title:a.a.string,message:a.a.string.isRequired,positiveButtonText:a.a.string,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,onClose:a.a.func,width:a.a.number},t.a=c},function(e,t,n){"use strict";var i=n(0);class s extends i.default.Component{getChildContext(){return this.props.context}render(){const{children:e}=this.props;return e&&e[0]||null}}t.a=class extends i.default.Component{findNode(e){return"string"==typeof e?document.querySelector(e):e}componentDidMount(){this.renderLayer(!0)}componentDidUpdate(e){for(let t in e)if(e[t]!==this.props[t])return this.renderLayer(!0)}componentWillUnmount(){this.renderLayer(!1),this.remote&&this.remote.parentNode.removeChild(this.remote)}renderLayer(e){var t=this.props.into||document.body;t!==this.intoPointer&&(this.intoPointer=t,this.into&&this.remote&&(this.remote=i.default.render(i.default.h(s,null),this.into,this.remote)),this.into=this.findNode(t)),this.remote=i.default.render(i.default.h(s,{context:this.context},e&&this.props.children||null),this.into,this.remote),this.props.didRender&&e&&this.props.didRender(this.remote)}render(){return null}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(4),l=n(243),c=(n.n(l),"32"),d="32";class u extends i.default.Component{constructor(){super(),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}componentDidMount(){this.state.loading&&this.nodeRefs.img.src&&this.nodeRefs.img.complete&&this.handleLoad()}componentWillReceiveProps(e){e.src===this.props.src&&e.srcset===this.props.srcset||this.setState({loading:!0})}componentDidUpdate(){this.state.loading&&this.nodeRefs.img.src&&this.nodeRefs.img.complete&&this.handleLoad()}render(e,t){const n=e.width||c,s=e.height||d,a=Object(o.a)("avatarFrame",{loading:t.loading},e.type,e.class),l={};return"bgSize"in e&&(l.backgroundSize=e.bgSize),i.default.h("div",{class:a,style:l,title:e.title},i.default.h("img",{ref:Object(r.a)(this,"img"),srcSet:e.srcset,src:e.src,width:n,height:s,onLoad:this.handleLoad,alt:""}))}}u.propTypes={width:a.a.string,height:a.a.string,bgSize:a.a.number,class:a.a.string,type:a.a.oneOf(["user","organization"]),title:a.a.string,srcset:a.a.string,src:a.a.string.isRequired},t.a=u},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return j}),n.d(t,"e",function(){return E});var i=n(265),s=n.n(i),a=n(1),o=n(88),r=n(8),l=n(24),c=n(41),d=n(10),u=n(130);const h=d.a&&d.a.features&&d.a.features.downloadAssets,p=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"});function m(e,t){const n=Object(o.b)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:s=Object(a.p)(i)}=e;return n+(s===c.a.BASE?"":`@${s}x`)}function g(e,t,n){const{localName:i,layerName:s,displayName:a,contents:r}=e;return r.filter(e=>e.format===t&&Object(o.f)(n,e)).map(e=>Object.assign({localName:i,layerName:s,displayName:a},e))}function f(e,t){return"svg"===e.format&&t&&Object.assign(e,e.optimized),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>Object.assign({data:t},e))}function b(e,t,n,i){Object.keys(n).forEach((s,a)=>{setTimeout(a=>{u.b({projectId:e,projectType:t,format:s,assets:n[s],namingConvention:i})},a>0?300:0)})}function y(e,t,n,i){"android"===t?l.b.get(e,"androidResFolderReminderSeen").then(s=>{if(s)return void b(e,t,n,i);l.b.set(e,"androidResFolderReminderSeen",!0);const a=document.getElementById("androidResFolderReminderDoneButton");a&&a.addEventListener("click",function(s){s.stopPropagation(),b(e,t,n,i)});const o=document.getElementById("androidResFolderReminderDialog");o&&o.showModal()}):b(e,t,n,i)}function v(e,t=(e=>e.displayName)){const n={},i=new s.a;return e.forEach(e=>{let s=e;const a=t(s)+s.format;a in n||(n[a]=0);const o=++n[a];o>1&&((s=Object.assign({},e)).displayName+="_"+o,s.layerName+="_"+o),i.file(t(s)+"."+s.format,s.data)}),i}function S(e,t,n=!1){const i=n?`assets_${e}`:Object(o.b)(t[0],"snakeCase");return v(t,e=>{const t=Object(o.b)(e,"snakeCase"),{density:n,densityScale:i=Object(a.p)(n)}=e,s=Object(a.q)("android",i);return"svg"===e.format?t:`drawable-${s}/${t}`}).generateAsync({type:"blob"}).then(function(e){return{data:URL.createObjectURL(e),name:`${i}_${(new Date).toISOString().substr(0,10)}.zip`}})}function C(e,t,n,i=!1){let s;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:p[e.format]});return s=`${m(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:s})}const a=(new Date).toISOString().substr(0,10),r=v(t,e=>m(e,n));return s=`${i?`assets_${e}`:Object(o.b)(t[0],n)}_${a}.zip`,r.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:s}))}function E(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function k(e,t,n,i){return Object.assign({},e,{contents:e.contents.filter(e=>Object(o.f)(t,e)).map(e=>{const s="svg"===e.format&&"svg"===n&&i&&e.optimized?e.optimized.url:e.url,{densityScale:o,density:r=Object(a.q)(t,o)}=e;return Object.assign({},e,{url:s,density:r})})})}function O({barrelId:e,platform:t,containerName:n,version:i,assetId:s,format:a,assetDensityScalePrefs:o,assetNamingConvention:l,showOptimizedSVG:c}){if(!Object(r.b)())return;const d=D(i.snapshot.assets,o);if(h){let n;if(0===(n="all"===s?d:[d.find(e=>e._id===s)]).length)return;y(e,t,{[a]:function(e,t,n,i){return e.map(e=>k(e,t,n,i))}(n,t,a,c)},l)}else(function(e,t,n,i,s){let a;if("all"===n)a=[].concat.apply([],e.map(e=>g(e,i,t)));else{const s=e.find(e=>e._id===n);if(!s)return Promise.reject(`Asset with id ${n} not found.`);a=g(s,i,t)}return Promise.all(a.map(e=>f(e,s)))})(d,t,s,a,c).then(e=>{return("android"===t&&"svg"!==a?S:C)(n,e,l,"all"===s)}).then(E)}function D(e,t){return e.map(e=>Object.assign({},e,{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:s=Object(a.p)(i)}=e;return Object(o.e)(t,n,s)})}))}function w({barrelId:e,platform:t,containerName:n,version:i,assetList:s,assetDensityScalePrefs:a,assetNamingConvention:o,showOptimizedSVG:l}){if(!Object(r.b)())return;const c=D(i.snapshot.assets,a);if(h){const n={};return s.forEach(({assetId:e,format:i})=>{const s=c.find(t=>t._id===e);if(!s)return;let a;i in n?a=n[i]:(a=[],n[i]=a),a.push(k(s,t,i,l))}),void y(e,t,n,o)}(function(e,t,n,i){const s=t.map(({assetId:t,format:s})=>{const a=e.find(e=>e._id===t);return a?g(a,s,i).map(e=>f(e,n)):null}).filter(Boolean);return s.length?Promise.all(s.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(c,s,l,t).then(e=>{return("android"===t?S:C)(n,e,!0)}).then(E)}function j({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new s.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{E({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else E({data:URL.createObjectURL(new Blob([n.code],{type:p[n.language]})),name:n.filename})}},function(e,t,n){"use strict";t.a={INIT:"slackPreferences/init",LOAD:"slackPreferences/load",OPEN:"slackPreferences/open",CLOSE:"slackPreferences/close",UPDATE_EVENT_GROUP:"slackPreferences/updateEventGroup",EVENT_GROUP_UPDATED:"slackPreferences/eventGroupUpdated",EVENT_GROUP_UPDATE_FAILED:"slackPreferences/eventGroupUpdateFailed",EVENT_UPDATED:"slackPreferences/eventUpdated"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_FILTER_VALUE:"dashboard/changeFilterValue",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",SET_COLLAPSED_SECTIONS:"dashboard/setCollapsedSections",EXPAND_SECTION:"dashboard/expandSection",COLLAPSE_SECTION:"dashboard/collapseSection",HIGHLIGHT_SCREENS:"dashboard/highlightScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",OPEN_JUMP_TO_POPUP:"dashboard/openJumpToPopup",CLOSE_JUMP_TO_POPUP:"dashboard/closeJumpToPopup"}},function(e,t,n){"use strict";var i=n(602);n.d(t,"f",function(){return i.f}),n.d(t,"d",function(){return i.d}),n.d(t,"e",function(){return i.e}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return l});var i=n(1),s=n(610),a=n(611);function o({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:s,parentId:a,users:o}){return t.filter(t=>{let r;if(e)r=i.H.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=o.find(e=>"owner"===e.role);r=e&&n&&e.user._id===n.user._id}return r&&t._id!==s&&t._id!==a&&"active"===t.status&&!(t.ancestors||[]).includes(s)})}function r(e){const t={};return e.forEach((e,n)=>{const i=new s.a(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new a.a(t[e]))}function l(e){return e.map(e=>new s.a(e))}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(617),s=n(618),a=n(18),o=n(252);const r=["load","layer","screen","component","comment","colors","textStyles","exportColors","exportTextStyles","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class l{constructor(e){this._id=e._id,this._name=e.name,this._description=e.description,this._manifestURL=e.manifestURL,this._default=e.default,this._users=e.users,this._manifest=e.manifest,this._local=e.local,this._options={},this._barrelType="",this._loaded=!1,this._methods=[]}static loadManifest(e){return fetch(e).then(t=>{if(!t.ok)throw Error("Cannot load extension manifest: "+e);return t.json()})}static createLocal(e){const t=e.endsWith("manifest.json")?e:`${e.replace(/\/$/,"")}/manifest.json`;return l.loadManifest(t).then(e=>new l({_id:e.name,name:e.name,description:e.description,manifestURL:t,manifest:e,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0}))}workerLogger(e,t={}){this._local?(console.error(`Zeplin extension error (${this._name}):`,e),console.error("Data:",t)):Raven.captureException(e,{extra:Object.assign({extension:{name:this._name,id:this._id}},t)})}initWorker(e){const t=new i.a(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger.bind(this),methods:r});return this._supervisor=t,this._supervisor.load(e)}initOptions(e,t,n){const i=n.reduce((e,t)=>{return e[t.id]=t.default,e},{}),a=s.a.create(e,t,i);return a.getAll().then(e=>{this._storage=a,this._options=e})}load(e,t=a.a.PROJECT){const n=this._manifestURL;return this._barrelType=t,(this._local?Promise.resolve(this._manifest):l.loadManifest(n)).then(t=>(this._manifest=t,this.initOptions(this._id,e,this.optionsSchema).then(()=>this.initWorker(new URL(t.moduleURL,n).toString())).then(e=>(this._loaded=!0,this._methods=e,this)))).catch(()=>this)}reload(){if(this._loaded)return this._supervisor.load(new URL(this._manifest.moduleURL,this._manifestURL).toString())}get manifest(){return this._manifest}get id(){return this._id}get name(){return this._name}get description(){return this._description}get optionsSchema(){return this._manifest&&this._manifest.options||[]}get options(){return this._options}get default(){return this._default}get loaded(){return this._loaded}get author(){const{user:e={displayName:"Anonymous"}}=this._users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this._manifest&&this._manifest.author&&this._manifest.author.url}}get repository(){return this._manifest&&this._manifest.repository}get local(){return this._local}terminate(){this._supervisor&&this._supervisor.terminate(),this._local&&s.a.clear(this._id)}setOption(e,t){this._options[e]=t,this._storage.set(e,t)}getOption(e){return this._options[e]}getContext(e){const t=this._barrelType===a.a.PROJECT,n={options:this._options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this._options}}}hasMethod(e){return this._methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this._supervisor.colors(this.getContext(e)):this._supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(o.c)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this._supervisor.textStyles(this.getContext(e)):this._supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(o.c)(e,"Font")))}layer(e,t,n){const i=Object(o.a)(n.snapshot,t.id);return i?this._supervisor.layer(this.getContext(e),i,Object(o.e)(n)):Promise.resolve(null)}screen(e,t,n){return this._supervisor.screen(this.getContext(e),Object(o.e)(t),Object(o.d)(n))}component(e,t,n){return this._supervisor.component(this.getContext(e),Object(o.e)(t),Object(o.b)(n))}comment(e,t){return this._supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this._supervisor.exportColors(this.getContext(e)):this._supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(o.c)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this._supervisor.exportTextStyles(this.getContext(e)):this._supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(o.c)(e,"Font")))}}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return c});var i=n(271),s=n(18);function a(e,t){return{model:t,data:e}}function o(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function r(e){const{name:t,description:n}=e;return{model:"Component",data:{name:t,description:n}}}function l(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=e.snapshot.layers||[];return t.snapshot.layers=n.map(e=>{return new i.a(e).toObject()}),{model:"Version",data:t}}function c(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,s]of e.layers.entries()){if(s._id===t)return n.concat(i);const e=c(s,t,n.concat(i));if(e)return e}return null}function d(e,t){let n=t[e],i=n.toObject();const s=i;for(;n;){const e=t[n.parent],s=e?e.toObject():null;n=e,i.parent=s,i=s}return s}function u(e,t,n){const i=e.toObject();return t===s.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?i.styleguide=d(e.styleguideLink.styleguide._id,n):t===s.a.STYLEGUIDE&&e.parent&&(i.parent=d(e.parent,n)),i}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(898);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(910);n.d(t,"b",function(){return i.a});var s=n(912);n.d(t,"a",function(){return s.a})},function(e,t,n){"use strict";var i=n(922);n.d(t,"a",function(){return i.a}),t.b=i.b},function(e,t,n){"use strict";t.d=function(e){const{styleguides:t}=o.c.getState(),n=Object.keys(t);for(let i of n){const n=t[i][e];if(n)return{styleguide:n,organizationId:i}}return{}},t.a=function(e){const{styleguides:t}=o.c.getState();return!!t[e]},t.h=function(e){i.b.unsubscribe(s.q+e)},t.g=function(e){const t=s.z+e;return i.b.channel(t)||i.b.subscribe(t)},t.j=function(e){i.b.unsubscribe(s.z+e)},t.f=function(e){const t=s.r+e;return i.b.channel(t)||i.b.subscribe(t)},t.i=function(e){i.b.unsubscribe(s.r+e)},t.b=function(e){const{projects:t}=a.c.getState(),n=Object.keys(t);for(let i of n){const n=t[i][e];if(n)return{project:n,organizationId:i}}return{}},t.c=function(e){const{projects:t}=a.c.getState(),n=Object.keys(t);for(let i of n){const n=Object.values(t[i]);for(let t of n)for(let n of t.users)if(n.user._id===e)return{project:t,organizationId:i}}return{}},t.e=function(e){const{styleguides:t}=o.c.getState(),n=Object.keys(t);for(let i of n){const n=Object.values(t[i]);for(let t of n)for(let n of t.users)if(n.user._id===e)return{styleguide:t,organizationId:i}}return{}};var i=n(33),s=n(5),a=n(49),o=n(42)},,function(e,t,n){"use strict";var i=n(399);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(493);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a="emotars";t.b="userMenu"},function(e,t,n){"use strict";var i=n(115),s=n(57),a=n(124),o=n(7),r=n(49),l=n(42),c=n(35);function d(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}const u={project:r.c,styleguide:l.c};function h(e){if(!e.oid||!e.bid){const{organizationId:t,barrelId:n}=a.a.getState();e.oid=t,e.bid=n}return e}const p={reset(){i.a.dispatch({type:s.a.RESET})},load(e){i.a.dispatch(Object.assign({type:s.a.LOAD},e))},updateState(e){i.a.dispatch({type:s.a.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){i.a.dispatch({type:s.a.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){i.a.dispatch({type:s.a.SET_BARREL_ID,barrelId:e})},setBarrelUser({barrelUser:e}){i.a.dispatch({type:s.a.SET_BARREL_USER,barrelUser:e})},addToSlack(){i.a.dispatch({type:s.a.ADD_TO_SLACK})},getBarrel(){const{barrelType:e,organizationId:t,barrelId:n}=a.a.getState(),{[`${e}s`]:{[t]:{[n]:i}}}=u[e].getState();return i},updateName({name:e,syncWithApi:t=!1}){const{barrelId:n,organizationId:o}=a.a.getState();let r;t&&({name:r}=p.getBarrel()),i.a.dispatch({type:s.a.UPDATE_NAME,oid:o,bid:n,name:e,oldName:r,syncWithApi:t})},updateDescription({description:e,syncWithApi:t=!1}){const{barrelId:n,organizationId:o}=a.a.getState();let r;t&&({description:r}=p.getBarrel()),i.a.dispatch({type:s.a.UPDATE_DESCRIPTION,oid:o,bid:n,description:e,oldDescription:r,syncWithApi:t})},updateDensityScale({densityScale:e,syncWithApi:t=!1}){const{barrelId:n,organizationId:o}=a.a.getState();let r;t&&({densityScale:r}=p.getBarrel()),i.a.dispatch({type:s.a.UPDATE_DENSITY_SCALE,oid:o,bid:n,densityScale:e,oldDensityScale:r,syncWithApi:t})},addIntegration({intype:e,integration:t,syncWithApi:n=!1}){const{barrelId:o,organizationId:r}=a.a.getState();i.a.dispatch({type:s.a.ADD_INTEGRATION,oid:r,bid:o,intype:e,integration:t,syncWithApi:n})},removeIntegration({intype:e,inid:t,syncWithApi:n=!1}){const{barrelId:o,organizationId:r}=a.a.getState();let l;if(n){l=p.getBarrel().integration[e].find(({_id:e})=>e===t)}i.a.dispatch({type:s.a.REMOVE_INTEGRATION,oid:r,bid:o,intype:e,inid:t,removedIntegration:l,syncWithApi:n})},toggleScene({accessibility:e,syncWithApi:t=!1}){const{barrelId:n,organizationId:o}=a.a.getState();let r;t&&({public:r}=p.getBarrel()),i.a.dispatch({type:s.a.TOGGLE_SCENE,oid:o,bid:n,accessibility:e,oldAccessibility:r,syncWithApi:t})},enableScene(){p.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){p.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{oid:t,bid:n,members:a,syncWithApi:o=!1}=h(e);i.a.dispatch({type:s.a.ADD_MEMBERS,oid:t,bid:n,members:a,syncWithApi:o})},updateUserRole({uid:e,role:t,syncWithApi:n=!1}){const{organizationId:o,barrelId:r}=a.a.getState();let l;if(n){const t=p.getBarrel();({role:l}=t.findUser(e))}i.a.dispatch({type:s.a.UPDATE_USER_ROLE,oid:o,bid:r,uid:e,role:t,oldRole:l,syncWithApi:n})},updateUserData({uid:e,userData:t,syncWithApi:n=!1}){const{organizationId:o,barrelId:r}=a.a.getState();let l;if(n){const t=p.getBarrel();({user:l}=t.findUser(e))}i.a.dispatch({type:s.a.UPDATE_USER_DATA,oid:o,bid:r,uid:e,userData:t,oldUserData:l,syncWithApi:n})},transferOwnership({uid:e}){const{organizationId:t,barrelId:n}=a.a.getState();i.a.dispatch({type:s.a.TRANSFER_OWNERSHIP,syncWithApi:!0,oid:t,bid:n,uid:e})},ownershipTransferred({uid:e}){const{barrelUser:{user:{_id:t}},organizationId:n,barrelId:o}=a.a.getState();i.a.dispatch({type:s.a.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:t,targetId:e,oid:n,bid:o})},removeMember({uid:e,syncWithApi:t=!1}){const{organizationId:n,barrelId:o}=a.a.getState();let r;if(t){r=p.getBarrel().findUser(e)}i.a.dispatch({type:s.a.REMOVE_MEMBER,oid:n,bid:o,uid:e,removedMember:r,syncWithApi:t})},addColor(e){const{oid:t,bid:n,color:a,syncWithApi:r=!1}=h(e);let l=a;if(r){const e=p.getBarrel(),t=a.name?a.name:e.getColorName(new c.a(a)),n=a.id?a.id:Object(o.c)(24);l=Object.assign({},a,{name:t,_id:n})}i.a.dispatch({type:s.a.ADD_COLOR,oid:t,bid:n,color:l,syncWithApi:r})},addMultipleColors(e){const t=h(e),{oid:n,bid:a,syncWithApi:r=!1}=t;let{colors:l}=t;if(r){const e=p.getBarrel();l=l.map(t=>{const n=t.name?t.name:e.getColorName(new c.a(t)),i=t.id?t.id:Object(o.c)();return Object.assign({},t,{name:n,_id:i})})}i.a.dispatch({type:s.a.ADD_MULTIPLE_COLORS,oid:n,bid:a,colors:l,syncWithApi:r})},updateColor(e){const{oid:t,bid:n,cid:a,colorData:o,syncWithApi:r=!1}=h(e);let l;if(r){var c=p.getBarrel().findColorById(a);({}=c),l=d(c,[])}i.a.dispatch({type:s.a.UPDATE_COLOR,oid:t,bid:n,cid:a,colorData:o,oldColorData:l,syncWithApi:r})},removeColor(e){const{oid:t,bid:n,cid:a,syncWithApi:o=!1}=h(e);let r;if(o){r=p.getBarrel().findColorById(a)}i.a.dispatch({type:s.a.REMOVE_COLOR,oid:t,bid:n,cid:a,removedColor:r,syncWithApi:o})},updateColorOrder(e){const{cid:t,to:n,oid:a,bid:o}=h(e);i.a.dispatch({type:s.a.UPDATE_COLOR_ORDER,oid:a,bid:o,cid:t,to:n})},emptyColors({oid:e,bid:t}){i.a.dispatch({type:s.a.EMPTY_COLORS,oid:e,bid:t})},addTextStyle(e){const{bid:t,oid:n,textStyle:a,syncWithApi:r=!1}=h(e);let l=a;if(r){const e=p.getBarrel(),t=a.name?a.name:e.getTextStyleName(),n=a.id?a.id:Object(o.c)(24);l=Object.assign({},a,{name:t,_id:n})}i.a.dispatch({type:s.a.ADD_TEXT_STYLE,oid:n,bid:t,textStyle:l,syncWithApi:r})},addMultipleTextStyles(e){const t=h(e),{oid:n,bid:a,syncWithApi:r=!1}=t;let{textStyles:l}=t;if(r){const e=p.getBarrel();l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(o.c)();return Object.assign({},t,{name:n,_id:i})})}i.a.dispatch({type:s.a.ADD_MULTIPLE_TEXT_STYLES,oid:n,bid:a,textStyles:l,syncWithApi:r})},updateTextStyle(e){const{bid:t,oid:n,tsid:a,textStyleData:o,syncWithApi:r=!1}=h(e);let l;if(r){var c=p.getBarrel().findTextStyleById(a);({}=c),l=d(c,[])}i.a.dispatch({type:s.a.UPDATE_TEXT_STYLE,oid:n,bid:t,tsid:a,textStyleData:o,oldTextStyleData:l,syncWithApi:r})},removeTextStyle(e){const{bid:t,oid:n,tsid:a,syncWithApi:o=!1}=h(e);let r;if(o){r=p.getBarrel().findTextStyleById(a)}i.a.dispatch({type:s.a.REMOVE_TEXT_STYLE,oid:n,bid:t,tsid:a,removedTextStyle:r,syncWithApi:o})},emptyTextStyles({oid:e,bid:t}){i.a.dispatch({type:s.a.EMPTY_TEXT_STYLES,oid:e,bid:t})},addComponent(e){const{oid:t,bid:n,csids:a,component:o,index:r}=h(e);i.a.dispatch({type:s.a.ADD_COMPONENT,oid:t,bid:n,csids:a,component:o,index:r})},updateComponent(e){const{bid:t,oid:n,csids:a,coid:o,componentData:r,syncWithApi:l=!1}=h(e);let c;if(l){var u=p.getBarrel().findComponentById(o);({}=u),c=d(u,[])}i.a.dispatch({type:s.a.UPDATE_COMPONENT,oid:n,bid:t,csids:a,coid:o,componentData:r,oldComponentData:c,syncWithApi:l})},removeComponent(e){const{oid:t,bid:n,csids:a,coid:o,syncWithApi:r=!1}=h(e);let l;if(r){l=p.getBarrel().findComponentById(o)}i.a.dispatch({type:s.a.REMOVE_COMPONENT,oid:t,bid:n,csids:a,coid:o,oldComponent:l,syncWithApi:r})},addComponentVersion(e){const{oid:t,bid:n,csids:a,coid:o,componentVersion:r}=h(e);i.a.dispatch({type:s.a.ADD_COMPONENT_VERSION,oid:t,bid:n,csids:a,coid:o,componentVersion:r})},addComponentSection(e){const{oid:t,bid:n,csids:a,componentSection:o,syncWithApi:r=!1}=h(e);i.a.dispatch({type:s.a.ADD_COMPONENT_SECTION,oid:t,bid:n,csids:a,componentSection:o,syncWithApi:r})},updateComponentSection(e){const{oid:t,bid:n,csids:a,componentSectionData:o,syncWithApi:r=!1}=h(e);let l;if(r){var c=p.getBarrel().findComponentSection(a);({}=c),l=d(c,[])}i.a.dispatch({type:s.a.UPDATE_COMPONENT_SECTION,oid:t,bid:n,csids:a,componentSectionData:o,oldComponentSectionData:l,syncWithApi:r})},mergeComponentSection(e){const{bid:t,oid:n,csids:a,tcsids:o,flatten:r,index:l,syncWithApi:c=!1}=h(e);let d,u=o,m=r;if(c){const e=a.slice(0,a.length-1),t=p.getBarrel(),n=t.findComponentSection(e);d=t.findComponentSection(a);const i=n.componentSections.indexOf(d);let s=n.componentSections[i-1];s||(s=n),m="default"===s.name,u=s.idPath}i.a.dispatch({type:s.a.MERGE_COMPONENT_SECTION,oid:n,bid:t,csids:a,tcsids:u,flatten:m,index:l,oldComponentSection:d,syncWithApi:c})},removeComponentSection(e){const{bid:t,oid:n,csids:a}=h(e);i.a.dispatch({type:s.a.REMOVE_COMPONENT_SECTION,oid:n,bid:t,csids:a})},removeComponentSections({oid:e,bid:t,componentSections:n}){i.a.dispatch({type:s.a.REMOVE_COMPONENT_SECTIONS,oid:e,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,oid:n,componentSections:a,syncWithApi:o=!1}=h(e);i.a.dispatch({type:s.a.UPDATE_COMPONENT_SECTIONS_ORDER,oid:n,bid:t,componentSections:a,syncWithApi:o})},updateComponentsOrder(e){const{oid:t,bid:n,components:a,syncWithApi:o=!1}=h(e);i.a.dispatch({type:s.a.UPDATE_COMPONENTS_ORDER,oid:t,bid:n,components:a,syncWithApi:o})},changeSelectedView(e,t=!1){i.a.dispatch({type:s.a.CHANGE_SELECTED_VIEW,selectedView:e,changeURL:t})},setAssetExportTarget({assetExportTarget:e}){i.a.dispatch({type:s.a.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName({containerId:e,snapshot:t,assetId:n,name:a}){i.a.dispatch({type:s.a.CHANGE_ASSET_NAME,containerId:e,snapshot:t,assetId:n,name:a})},changeAssetDensityScalePref(e,t){i.a.dispatch({type:s.a.CHANGE_ASSET_DENSITY_SCALE_PREF,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){i.a.dispatch({type:s.a.CHANGE_ASSET_NAMING_CONVENTION,assetNamingConvention:e})},toggleSVGOptimization(e){i.a.dispatch({type:s.a.TOGGLE_SVG_OPTIMIZATION,showOptimizedSVG:e})},changeExportTarget(){i.a.dispatch({type:s.a.CHANGE_EXPORT_TARGET})},openExportTarget(){i.a.dispatch({type:s.a.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,version:t,assetId:n,format:a}){const{type:o}=p.getBarrel();i.a.dispatch({type:s.a.DOWNLOAD_ASSET,platform:o,containerName:e,version:t,assetId:n,format:a})},downloadMultipleAsset({containerName:e,version:t,assetList:n}){const{type:a}=p.getBarrel();i.a.dispatch({type:s.a.DOWNLOAD_MULTIPLE_ASSET,platform:a,containerName:e,version:t,assetList:n})},exportCode({resourceType:e,exportObjects:t,extension:n}){const{name:a,type:o}=p.getBarrel();i.a.dispatch({type:s.a.EXPORT_CODE,barrelName:a,platform:o,resourceType:e,exportObjects:t,extension:n})},hideSlackReconnectionAuntie(){i.a.dispatch({type:s.a.HIDE_SLACK_RECONNECTION_AUNTIE})},openExtensionSettings({extensionId:e}={}){i.a.dispatch({type:s.a.OPEN_EXTENSION_SETTINGS,extensionId:e})},closeExtensionSettings(){i.a.dispatch({type:s.a.CLOSE_EXTENSION_SETTINGS})},copyComponentSectionWebLink({seid:e}){i.a.dispatch({type:s.a.COPY_COMPONENT_SECTION_WEB_LINK,seid:e})},copyComponentSectionAppURI({cseid:e}){i.a.dispatch({type:s.a.COPY_COMPONENT_SECTION_APP_URI,cseid:e})},join(){i.a.dispatch({type:s.a.JOIN,syncWithApi:!0})},stopLoadingJoin(){i.a.dispatch({type:s.a.STOP_JOIN_LOADING})},setShortlink(e,t){i.a.dispatch({type:s.a.SET_SHORTLINK,longURL:e,shortURL:t})},moveResourcesRequest({resourceType:e,targetStyleguideId:t,data:n}){i.a.dispatch({type:s.a.MOVE_RESOURCES_REQUEST,targetStyleguideId:t,resourceType:e,data:n,syncWithApi:!0})},moveResourcesSuccess({resourceType:e,resources:t,oid:n,barrelId:a,barrelType:o,targetStyleguideId:r}){i.a.dispatch({type:s.a.MOVE_RESOURCES_SUCCESS,resourceType:e,oid:n,resources:t,barrelId:a,barrelType:o,targetStyleguideId:r})},moveResourcesFail(){i.a.dispatch({type:s.a.MOVE_RESOURCES_FAIL})}};t.a=p},function(e,t,n){"use strict";var i=n(24);t.a={changeAssetName:function(e,t,n,s,a){const o=n.assets.find(e=>e._id===s);return o?(o.localName=a,i.b.get(e,t,"assetNames").then(n=>(null===a?delete n[s]:n[s]=a,i.b.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:function(e,t){return i.b.set(e,"assetDensityScalePrefs",t)},changeAssetNamingConvention:function(e,t){return i.b.set(e,"assetNamingConvention",t)},toggleSVGOptimization:function(e,t){return i.b.set(e,"showOptimizedSVG",t)},markSlackReconnectionAuntieAsSeen:function(e){return i.b.set(e,"slackReconnectionAuntieSeen",!0)}}},function(e,t,n){"use strict";var i=n(1),s=n(125),a=n(35),o=n(90),r=n(181);let l=0;t.a=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t,oid:n}){const a=t.map(e=>new s.a(Object.assign({},e,{complete:!1})));return Object.assign({},e,{[this.barrelsPropertyName]:Object.assign({},e[this.barrelsPropertyName],{[n]:Object(i.D)(a,"_id")}),loading:!1})}getBarrelsFailed(e,{error:t}){return Object.assign({},e,{loading:!1,error:t})}getBarrelRequested(e){return Object.assign({},e,{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t,oid:n}){const i=this.updateBarrel(e,{[this.bidPropertyName]:t._id,oid:n,data:Object.assign({},t,{complete:!t.partial}),upsert:!0});return Object.assign({},i,{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return Object.assign({},e,{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{[this.barrelPropertyName]:t,oid:n}){const i=e[this.barrelsPropertyName][n];return i?Object.assign({},e,{[this.barrelsPropertyName]:Object.assign({},e[this.barrelsPropertyName],{[n]:Object.assign({},i,{[t._id]:new s.a(Object.assign({},t,{complete:!1}))})})}):e}updateBarrel(e,{[this.bidPropertyName]:t,oid:n,data:i,upsert:a}){const{[this.barrelsPropertyName]:{[n]:o={}}}=e,r=o[t];return r||a?Object.assign({},e,{[this.barrelsPropertyName]:Object.assign({},e[this.barrelsPropertyName],{[n]:Object.assign({},o,{[t]:new s.a(Object.assign({},r,"function"==typeof i?i(r):i))})})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n,oid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,oid:i,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}leaveBarrel(e,{[this.bidPropertyName]:t,uid:n,oid:i}){if("user"===i)return this.deleteBarrel(e,{[this.bidPropertyName]:t,oid:i});let s;const a=this.updateBarrelValue(e,{[this.bidPropertyName]:t,oid:i,key:"users",value:e=>(s=e.users.find(e=>e.user._id===n),e.users.filter(e=>e.user._id!==n))});return Object.assign({},a,{history:{deletedUsers:{[t]:{[n]:s}}}})}changeSelectedOrganization(e,{oid:t}){return e[this.barrelsPropertyName][t]?e:Object.assign({},e,{loading:!0})}updateName(e,{oid:t,bid:n,name:i}){return this.updateBarrel(e,{oid:t,[this.bidPropertyName]:n,data:{name:i}})}updateDescription(e,{oid:t,bid:n,description:i}){return this.updateBarrel(e,{oid:t,[this.bidPropertyName]:n,data:{description:i}})}updateDensityScale(e,{oid:t,bid:n,densityScale:i}){return this.updateBarrel(e,{oid:t,[this.bidPropertyName]:n,data:{densityScale:i}})}addIntegration(e,{oid:t,bid:n,intype:i,integration:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"integration",value:({integration:e})=>e[i].find(e=>e._id===s._id)?Object.assign({},e):Object.assign({},e,{[i]:[...e[i],s]})})}removeIntegration(e,{oid:t,bid:n,intype:i,inid:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"integration",value:({integration:e})=>Object.assign({},e,{[i]:e[i].filter(({_id:e})=>e!==s)})})}toggleScene(e,{oid:t,bid:n,accessibility:i}){return this.updateBarrel(e,{oid:t,[this.bidPropertyName]:n,data:{public:i}})}addMembers(e,{oid:t,bid:n,members:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"users",value(e){const t=i.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{oid:t,bid:n,uid:i,role:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==i?e:Object.assign({},e,{role:s}))})}removeUser(e,{oid:t,bid:n,uid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"users",value:({users:e})=>e.filter(({user:e})=>e._id!==i)})}addColor(e,{oid:t,bid:n,color:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"colors",value:({colors:e})=>[...e,new a.a(i)]})}addMultipleColors(e,{oid:t,bid:n,colors:i}){return i.reduce((e,i)=>this.addColor(e,{oid:t,bid:n,color:i}),e)}updateColor(e,{oid:t,bid:n,cid:i,colorData:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==i?e:new a.a(Object.assign({},e,s)))})}removeColor(e,{oid:t,bid:n,cid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==i)})}updateColorOrder(e,{oid:t,bid:n,cid:s,to:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"colors",value({colors:e}){const t=Object(i.b)(e,e=>e.id===s);return t?(e.splice(a,0,t),e):e}})}emptyColors(e,{oid:t,bid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"colors",value:[]})}addTextStyle(e,{oid:t,bid:n,textStyle:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"textStyles",value:({textStyles:e})=>[...e,new o.a(i)]})}addMultipleTextStyles(e,{oid:t,bid:n,textStyles:i}){return i.reduce((e,i)=>this.addTextStyle(e,{oid:t,bid:n,textStyle:i}),e)}updateTextStyle(e,{oid:t,bid:n,tsid:i,textStyleData:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==i?e:new o.a(Object.assign({},e,s)))})}emptyTextStyles(e,{oid:t,bid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"textStyles",value:[]})}removeTextStyle(e,{oid:t,bid:n,tsid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==i)})}addComponent(e,{oid:t,bid:n,csids:i,component:s,index:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){if(e.findComponentById(s._id))return e.componentSections;const t=e.findComponentSection(i);return t?(void 0===a?t.components.push(s):t.components.splice(a,0,s),[...e.componentSections]):e.componentSections}})}updateComponent(e,{oid:t,bid:n,csids:i,coid:s,componentData:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=e.findComponentSection(i);if(!t)return e.componentSections;const n=t.components.find(e=>e._id===s);return n?(Object.assign(n,a),[...e.componentSections]):e.componentSections}})}removeComponent(e,{oid:t,bid:n,csids:s,coid:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=e.findComponentSection(s);return t?(Object(i.b)(t.components,a),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{oid:t,bid:n,csids:i,coid:s,componentVersion:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=e.findComponentSection(i);if(!t)return e.componentSections;const n=t.components.find(e=>e===s);return n&&n.latestVersion._id!==a._id?(n.latestVersion=a,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{oid:t,bid:n,csids:s,componentSection:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=e.findComponentSection(s);if(!t)return e.componentSections;const n=Object.assign({},a);return n._id||(n._id=r.a,n.newSection=!0,n.key=`newComponentSection-${l++}`),a.components?n.components=a.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.b)(n.components,t.coid)}):n.components=[],a.componentSections||(n.componentSections=[]),void 0===a.index?t.componentSections.push(n):t.componentSections.splice(a.index,0,n),[...e.componentSections]}})}updateComponentSection(e,{oid:t,bid:n,csids:i,componentSectionData:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=e.findComponentSection(i);return t?(Object.assign(t,s),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{oid:t,bid:n,csids:s,tcsids:a,flatten:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value:e=>{const t=[...s],n=t.pop(),r=e.findComponentSection(t);if(!r)return e.componentSections;const l=e.findComponentSection(a);if(!l)return e.componentSections;const c=Object(i.b)(r.componentSections,n);return c?(o?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{oid:t,bid:n,csids:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value(e){const t=s.pop(),n=e.findComponentSection(s);return n?(Object(i.b)(n.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{oid:t,bid:n,componentSections:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value:e=>(s.forEach(t=>{Object(i.b)(e.componentSections,t)}),[...e.componentSections])})}updateComponentsOrder(e,{oid:t,bid:n,components:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value:e=>(s.forEach(t=>{const{coid:n,csid:s,tcsid:a,to:o}=t,r=e.findComponentSection(s),l=e.findComponentSection(a);if(!r||!l)return e.componentSections;const c=Object(i.b)(r.components,n);l.components.splice(o,0,c)}),[...e.componentSections])})}updateComponentSectionsOrder(e,{oid:t,bid:n,componentSections:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:n,oid:t,key:"componentSections",value:e=>(s.forEach(t=>{const{csid:n,tcsid:s,to:a}=t,o=e.findComponentSection(n.slice(0,-1)),r=s?e.findComponentSection(s):e,l=Object(i.b)(o.componentSections,n[n.length-1]);r.componentSections.splice(a,0,l)}),[...e.componentSections])})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,oid:n,key:i,value:a}){return this.updateBarrel(e,{[this.bidPropertyName]:t,oid:n,data:e=>new s.a(Object.assign({},e,{[i]:"function"==typeof a?a(e):a}))})}}},function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=n(294),i.prototype.loadAsync=n(341),i.support=n(45),i.defaults=n(156),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=n(72),e.exports=i},function(e,t,n){"use strict";var i=n(107),s=n(108);const a={requestInvite(){s.a.dispatch({type:i.a.REQUEST_INVITE})},addOrganization(e){s.a.dispatch({type:i.a.ADD_ORGANIZATION,organization:e})},updateOrganization(e,t){s.a.dispatch({type:i.a.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){s.a.dispatch({type:i.a.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},removeOrganization(e){s.a.dispatch({type:i.a.REMOVE_ORGANIZATION,id:e})},getOrganizationsSuccess(e){s.a.dispatch({type:i.a.GET_ORGANIZATIONS_SUCCESS,organizations:e})},getOrganizationMemberProfilesSuccess(e){s.a.dispatch({type:i.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){s.a.dispatch({type:i.a.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})}};t.a=a},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(92),o=n(91);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{dots:null,statusFilter:"open",colorFilter:null,flash:!1,highlight:null,open:null}}loadDots(e,t,n,i,s,a){return Object.assign({},e,{dots:t&&t.map(e=>Object.assign({},e)),statusFilter:n,colorFilter:i,highlight:s,open:a})}changeDotFilter(e,t,n){return Object.assign({},e,{colorFilter:n,statusFilter:t})}commitDotPosition(e,t,n,i){return Object.assign({},e,{dots:e.dots.map(e=>e._id===t?Object.assign({},e,{x:n,y:i}):e)})}updateDotStatus(e,t,n){return Object.assign({},e,{dots:e.dots.map(e=>e._id===t?Object.assign({},e,{status:n}):e)})}deleteDot(e,t){return Object.assign({},e,{dots:e.dots.filter(e=>e._id!==t)})}flash(e){return Object.assign({},e,{flash:!0})}dotsFlashed(e){return Object.assign({},e,{flash:!1})}selectDot(e,t){return Object.assign({},e,{highlight:e.highlight?e.highlight.filter(e=>e!==t):null,open:e.open&&e.open.did===t?null:e.open})}reduce(e,t){switch(t.type){case o.a.LOAD_DOTS:return this.loadDots(e,t.dots,t.status,t.color,t.highlight,t.open);case o.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color);case o.a.CREATE_NOTE:return this.changeDotFilter(e,"open",null);case o.a.COMMIT_DOT_POSITION:return this.commitDotPosition(e,t.id,t.x,t.y);case o.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.id,t.status);case o.a.DELETE_DOT:return this.deleteDot(e,t.id);case o.a.ENABLE_NOTE_MODE:return this.flash(e);case o.a.DOTS_FLASHED:return this.dotsFlashed(e);case o.a.SELECT_DOT:return this.selectDot(e,t.dotId);default:return e}}}},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(92),o=n(91),r=n(22),l=n(269),c=n(371);const d=100,u=260;t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{versionId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,versionsVisible:!1,hasNewVersions:!1,notesVisible:!0,noteMode:!1,layoutGridEnabled:!1,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,flowLinksVisible:!1,sidebarWidth:u,selectedSidebarTab:l.a[0].id}}load(e={}){return Object.assign({},this.getInitialState(),e)}changeZoomLevel(e,t,n=!1){const i=Math.max(c.c,Math.min(t,c.b));return Object.assign({},e,{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=c.d.find(t=>t>e.zoomLevel)||c.b;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...c.d].reverse().find(t=>t<e.zoomLevel)||c.c;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,c.a,!0)}zoomApplied(e){return e.animateZooming?Object.assign({},e,{animateZooming:!1}):e}startGesture(e){return Object.assign({},e,{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/d)}toggleLayoutGrid(e){return Object.assign({},e,{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return Object.assign({},e,{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return Object.assign({},e,{noteMode:!1})}showNotes(e){return Object.assign({},e,{notesVisible:!0,noteMode:!1})}hideNotes(e){return Object.assign({},e,{notesVisible:!1,noteMode:!1})}showVersions(e){return Object.assign({},e,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return Object.assign({},e,{versionsVisible:!1})}showVersionsAuntie(e){return Object.assign({},e,{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return Object.assign({},e,{showVersionsAuntie:!1})}newVersionsFound(e){return Object.assign({},e,{hasNewVersions:!0})}selectLayer(e,t){return Object.assign({},e,{selectedLayer:t,destinationLayer:t})}deselectLayer(e){return Object.assign({},e,{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?Object.assign({},e,{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign({},e,{destinationLayer:null}):e}changePercentageMode(e,t){return Object.assign({},e,{percentageMode:t})}showFlowLinks(e){return Object.assign({},e,{flowLinksVisible:!0})}hideFlowLinks(e){return Object.assign({},e,{flowLinksVisible:!1})}changeSidebarTab(e,t){return Object.assign({},e,{selectedSidebarTab:t})}changeSidebarWidth(e,t){return Object.assign({},e,{sidebarWidth:t})}reduce(e,t){switch(t.type){case r.a.LOAD:return this.load(t.screen);case o.a.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case o.a.ZOOM_IN:return this.zoomIn(e);case o.a.ZOOM_OUT:return this.zoomOut(e);case o.a.RESET_ZOOM:return this.resetZoom(e);case o.a.START_GESTURE:return this.startGesture(e);case o.a.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case o.a.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case o.a.ZOOM_APPLIED:return this.zoomApplied(e);case o.a.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case o.a.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case o.a.DISABLE_NOTE_MODE:case o.a.OPEN_PREVIOUS_SCREEN:case o.a.OPEN_NEXT_SCREEN:return this.disableNoteMode(e);case o.a.SHOW_NOTES:case o.a.SELECT_DOT:case o.a.CREATE_NOTE:return this.showNotes(e);case o.a.HIDE_NOTES:return this.hideNotes(e);case o.a.SHOW_VERSIONS:return this.showVersions(e);case o.a.HIDE_VERSIONS:return this.hideVersions(e);case o.a.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case o.a.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case o.a.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case o.a.SELECT_LAYER:return this.selectLayer(e,t.layer);case o.a.CLOSE_LAYER_VIEW:case o.a.DESELECT_LAYER:return this.deselectLayer(e);case o.a.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case o.a.LEAVE_LAYER:return this.leaveLayer(e);case o.a.CHANGE_PERCENTAGE_MODE:return this.changePercentageMode(e,t.percentageMode);case o.a.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case o.a.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case o.a.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case o.a.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);default:return e}}}},function(e,t,n){"use strict";t.a=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";var i=n(527);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(272),s=n(562),a=n(563),o=n(273),r=n(90),l=n(51),c=n(566),d=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new s.a(t.blur)),t.borders=t.borders.map(function(e){return new a.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new o.a(e,t.rect.width,t.rect.height)}),t.shadows=t.shadows.map(function(e){return new c.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new r.a(e.style)}}),t.layers=(t.layers||[]).map(function(e){return new Layer(e)}),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===d.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(d));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, )");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new s.a(e)}},absoluteRect:{get:function(){return t.absoluteRect},set:function(e){t.absoluteRect=e}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type&&t.content||""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},component:{value:t.component},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId}})}Layer.prototype=Object.create(l.a.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(function(e){return e.toObject()}),fills:this.fills.map(function(e){return e.toObject()}),shadows:this.shadows.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){var t=e.range;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(function(e){return e.toObject()}),componentName:this.componentName,sourceId:this.sourceId};return this.blur&&(e.blur=this.blur.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},Layer.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(i){var s=t.find(function(e){return e.font.equals(i.font)}),a=i.range.end-i.range.start;s||(s={font:i.font,totalLength:0},t.push(s)),s.totalLength+=a,s.totalLength>n&&(n=s.totalLength,e=s)}),e&&e.font}},t.a=Layer},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";var i=n(272),s=n(35),a=n(564),o=n(51),r=["color","gradient"];function l(e,t,n){var o=Object.assign({},e);if(o.type=o.fillType,delete o.fillType,"color"===o.type)o.color=new s.a(o.color),delete o.gradient;else{if("gradient"!==o.type)throw new TypeError("Unknown fill type: '"+o.type+"'. Possible values: "+JSON.stringify(r));o.gradient=new a.a(o.gradient,t,n),delete o.color}Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(r));o.type=e}},color:{get:function(){return o.color},set:function(e){o.type="color",o.color=new s.a(e),delete o.gradient}},gradient:{get:function(){return o.gradient},set:function(e){o.type="gradient",o.gradient=new a.a(e,t,n),delete o.color}},opacity:{get:function(){return o.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");o.opacity=e}},blendMode:{get:function(){return o.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));o.blendMode=e}},fill:{get:function(){return"color"===o.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(o.a.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.a=l},function(e,t,n){"use strict";var i=n(76),s=n(175);function a(e,t){s.a.dispatch({type:i.a.SET_PREF,name:e,value:t})}const o={openScreen(e){s.a.dispatch({type:i.a.OPEN_SCREEN,sid:e})},openScreenFromComponent(e,t,n){s.a.dispatch({type:i.a.OPEN_SCREEN_FROM_COMPONENT,screenId:e,componentURL:t,componentName:n})},openComponentFromLayer(e,t,n,a){s.a.dispatch({type:i.a.OPEN_COMPONENT_FROM_LAYER,componentId:e,screenURL:t,screenName:n,source:a})},hideNoResourceInfo(){a("noResourceInfoDismissed",!0)},setProjectSidebarWidth(e){a("projectInfoWidth",e)},openLink(e,t){s.a.dispatch({type:i.a.OPEN_LINK,url:e,options:t})},copySectionWebLink(e){s.a.dispatch({type:i.a.COPY_SECTION_WEB_LINK,id:e})},copySectionAppURI(e){s.a.dispatch({type:i.a.COPY_SECTION_APP_URI,id:e})},downloadSectionScreenImages(e){s.a.dispatch({type:i.a.DOWNLOAD_SECTION_SCREEN_IMAGES,id:e})},openSectionMoveDialog(e,t){s.a.dispatch({type:i.a.OPEN_SECTION_MOVE_DIALOG,id:e,position:t})},deleteSection(e,t){s.a.dispatch({type:i.a.SECTION_DELETE,id:e,sectionIndex:t})},renameSection(e,t){s.a.dispatch({type:i.a.RENAME_SECTION,id:e,name:t})},changeSectionDescription(e,t){s.a.dispatch({type:i.a.CHANGE_SECTION_DESCRIPTION,id:e,description:t})},renameScreen(e,t){s.a.dispatch({type:i.a.RENAME_SCREEN,id:e,name:t})},openManageTagsPopup(e){s.a.dispatch({type:i.a.OPEN_MANAGE_TAGS_POPUP,id:e})},setScreenAsProjectThumbnail(e){s.a.dispatch({type:i.a.SET_SCREEN_AS_PROJECT_THUMBNAIL,id:e})},downloadScreenImage(e){s.a.dispatch({type:i.a.DOWNLOAD_SCREEN_IMAGE,id:e})},copyScreenWebLink(e){s.a.dispatch({type:i.a.COPY_SCREEN_WEB_LINK,id:e})},copyScreenAppURI(e){s.a.dispatch({type:i.a.COPY_SCREEN_APP_URI,id:e})},openMoveScreenDialog(e,t){s.a.dispatch({type:i.a.OPEN_MOVE_SCREEN_DIALOG,id:e,position:t})},deleteScreen(e){s.a.dispatch({type:i.a.DELETE_SCREEN,id:e})},updateSectionOrder(e,t,n){s.a.dispatch({type:i.a.UPDATE_SECTION_ORDER,id:e,sourceIndex:t,moveIndex:n})},updateScreenOrder({id:e,sourceIndex:t,sourceSectionIndex:n,targetIndex:a,targetSectionIndex:o}){s.a.dispatch({type:i.a.UPDATE_SCREEN_ORDER,id:e,sourceIndex:t,sourceSectionIndex:n,targetIndex:a,targetSectionIndex:o})},splitSection(e){s.a.dispatch({type:i.a.SPLIT_SECTION,nextScreenId:e})},copyTagWebLink(e){s.a.dispatch({type:i.a.COPY_TAG_WEB_LINK,tag:e})},copyTagAppURI(e){s.a.dispatch({type:i.a.COPY_TAG_APP_URI,tag:e})},downloadScreenImagesFromTag(e){s.a.dispatch({type:i.a.DOWNLOAD_SCREEN_IMAGES_FROM_TAG,tag:e})},convertTagToSection(e){s.a.dispatch({type:i.a.CONVERT_TAG_TO_SECTION,tag:e})},deleteTag(e){s.a.dispatch({type:i.a.DELETE_TAG,tag:e})},generateTagShortLink(e){s.a.dispatch({type:i.a.GENERATE_TAG_SHORT_LINK,tag:e})},showToast(e){s.a.dispatch({type:i.a.SHOW_TOAST,params:e})},linkProjectToStyleguideRequest({project:e,styleguide:t,oid:n,syncWithApi:a=!1}){s.a.dispatch({type:i.a.LINK_PROJECT_REQUEST,project:e,styleguide:t,oid:n,syncWithApi:a})},linkProjectToStyleguideSuccess({project:e,styleguide:t,oid:n,styleguides:a}){s.a.dispatch({type:i.a.LINK_PROJECT_SUCCESS,project:e,styleguide:t,oid:n,styleguides:a})},linkProjectToStyleguide({project:e,styleguide:t,oid:n,syncWithApi:a}){s.a.dispatch({type:i.a.LINK_PROJECT,project:e,styleguide:t,oid:n,syncWithApi:a})},unlinkProjectFromStyleguide({pid:e,styleguide:t,oid:n,syncWithApi:a}){s.a.dispatch({type:i.a.UNLINK_PROJECT,pid:e,styleguide:t,oid:n,syncWithApi:a})}};t.a=o},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(6),o=n(3),r=n.n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};class c extends i.default.Component{constructor(e){super(e),this.state={src:null,srcset:null,source:null},this.handleError=this.handleError.bind(this)}getDimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};const{img:{width:n,height:i}}=this.nodeRefs;return{width:n,height:i}}load(e){const t=this.getDimensions(),{src:n,srcset:i}=Object(a.d)(e,t);this.setState({src:n,srcset:i,source:e})}handleError(){const{source:e}=this.state,{width:t,height:n}=this.getDimensions();Promise.all([Object(a.a)(e,{width:t,height:n}),Object(a.a)(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:a}=n,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["source"]);return i.default.h("img",l({},o,{src:e,srcSet:t,onError:a&&this.handleError,ref:Object(s.a)(this,"img")}))}}c.propTypes={source:r.a.string.isRequired},t.a=c},function(e,t,n){"use strict";var i=n(589);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(278),s=n(279),a=n(280),o=n(16),r=n(251);const l={project:{add:o.addExtensionToProject,remove:o.removeExtensionFromProject},styleguide:{add:o.addExtensionToStyleguide,remove:o.removeExtensionFromStyleguide}},c={loadExtensions(e,t,n){a.a.getEnabledExtensions(e.id,t).then(i=>{if(i.length>0)return i;let s=n.filter(e=>e.default).map(e=>e.id);return 0===s.length&&1===n.length&&(s=[n[0].id]),a.a.setEnabledExtensions(e.id,t,s),s}).then(a=>{s.a.dispatch({type:i.a.LOAD_EXTENSIONS,barrel:e,barrelType:t,extensions:n,enabledExtensions:Array.from(a)})})},updateExtensionOption(e,t,n){s.a.dispatch({type:i.a.UPDATE_EXTENSION_OPTION,id:e,name:t,value:n})},enableExtension(e){s.a.dispatch({type:i.a.ENABLE_EXTENSION,id:e})},disableExtension(e){s.a.dispatch({type:i.a.DISABLE_EXTENSION,id:e})},removeExtension(e,t,n,a=!1){s.a.dispatch({type:i.a.REMOVE_EXTENSION_REQUESTED,bid:e,id:n});const o=l[t].remove;(a?Promise.resolve():o(e,n)).then(()=>{s.a.dispatch({type:i.a.REMOVE_EXTENSION_SUCCESS,bid:e,id:n}),a||mixpanel.webapp.track("Removed extension",{extension:n})}).catch(t=>{s.a.dispatch({type:i.a.REMOVE_EXTENSION_FAIL,bid:e,id:n,error:t})})},addExtension(e,t,n){(0,l[t].add)(e,n).then(e=>{const t=new r.a(e);s.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:t,local:!1})})},addLocalExtension(e){s.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:e,local:!0})},loadExtension(e,t,n){n.load(e._id,t).then(()=>{s.a.dispatch({type:i.a.LOAD_EXTENSION,extension:n})})},reloadLocalExtensions(){s.a.dispatch({type:i.a.RELOAD_LOCAL_EXTENSIONS})}};t.a=c},function(e,t,n){"use strict";t.a={LOAD_EXTENSIONS:"loadExtensions",ADD_EXTENSION_REQUESTED:"addExtensionRequested",ADD_EXTENSION:"addExtension",ADD_LOCAL_EXTENSION:"addLocalExtension",LOAD_EXTENSION:"loadExtension",RELOAD_LOCAL_EXTENSIONS:"reloadLocalExtensions",REMOVE_EXTENSION_REQUESTED:"removeExtensionRequested",REMOVE_EXTENSION_SUCCESS:"removeExtensionSuccess",REMOVE_EXTENSION_FAIL:"removeExtensionFail",ENABLE_EXTENSION:"enableExtension",DISABLE_EXTENSION:"disableExtension",UPDATE_EXTENSION_OPTION:"updateExtensionOption"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(24);const s={project:i.b,styleguide:i.c};t.a={disableExtension:function(e,t,n){const i=s[t];return i.get(e,"extensions").then(t=>{const s=t.filter(e=>e!==n);return i.set(e,"extensions",s)})},enableExtension:function(e,t,n){const i=s[t];return i.get(e,"extensions").then(t=>(t.push(n),i.set(e,"extensions",t)))},getEnabledExtensions:function(e,t){return s[t].get(e,"extensions")},setEnabledExtensions:function(e,t,n){return s[t].set(e,"extensions",n)}}},function(e,t,n){"use strict";var i=n(75);const s=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.a=class{constructor(e){this.project=e}percentage(e,t=0){return`${Object(i.c)(100*e,t)}%`}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.c)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.c)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.c)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.c)(e,2))}colorString(e,t){switch(this.project.type){case"android":return e.toHexString(!0);case"ios":case"osx":return e.toRGBABase();case"web":return e.toCSS(t);default:return e.toHexString()}}alpha(e){return s.format(e)}}},function(e,t,n){"use strict";var i=n(983),s=n(640),a=n(641);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a})},function(e,t,n){"use strict";var i=n(652);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(654);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},,,,function(e,t,n){"use strict";var i=n(136),s=n(137),a=n(1),o=n(16);const r=Object(a.h)(o.updateNotificationLastReadTime),l={addNotification(e,t){s.a.dispatch({type:i.a.ADD_NOTIFICATION,notification:e,position:t})},getNotifications(e,t){s.a.dispatch({type:i.a.GET_NOTIFICATIONS_REQUESTED}),Object(o.getNotifications)(e,t).then(e=>{s.a.dispatch({type:i.a.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{s.a.dispatch({type:i.a.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){s.a.dispatch({type:i.a.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){r().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),l.setNotificationLastReadTime(t)})}};t.a=l},,function(e,t,n){"use strict";var i=n(141),s=n(114),a=n(24),o=n(15),r=n(1),l=n(16);const c=Object(r.h)(l.updateEmailNotifications);function d(e,t){s.a.dispatch({type:i.a.SET_USER_ATTRIBUTE,name:e,value:t})}const u={loadUserInfo(e){s.a.dispatch({type:i.a.LOAD_USER_INFO,user:e})},setUsername(e){d("username",e)},setEmail(e){d("email",e)},setEmotar(e){d("emotar",e)},setAvatar(e){d("avatar",e)},setEmailNotifications(e){d("isEmailNotificationEnabled",e)},setVerified(){d("verified",!0)},setDesktopNotifications(e){a.d.set("notificationStatus",e),d("isDesktopNotificationEnabled",e)},setSelectedView(e){s.a.dispatch({type:i.a.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){u.setEmailNotifications(e),c(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{u.setEmailNotifications(Zeplin.user.emailNotifications),o.b(e)})},updateUserEmotar(e){u.setEmotar(e),Object(l.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.webapp.track("Updated emotar",{emoji:e})}).catch(e=>{u.setEmotar(Zeplin.user.emotar),o.b(e)})},markGlobalStyleguidesWhatsNewAsSeen(){s.a.dispatch({type:i.a.MARK_GLOBAL_STYLEGUIDES_WHATS_NEW_AS_SEEN})},logout(){Object(l.logoutUser)().then(Zeplin.logout,Zeplin.logout)}};t.a=u},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(114),o=n(141),r=n(261),l=n(22);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loading:!0,userId:null,username:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,globalStyleguidesWhatsNewSeen:!0,selectedView:r.b}}loadUserInfo(e,t){return Object.assign({},e,t,{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}markGlobalStyleguidesWhatsNewAsSeen(e){return Object.assign({},e,{globalStyleguidesWhatsNewSeen:!0})}reduce(e,t){switch(t.type){case o.a.LOAD_USER_INFO:return this.loadUserInfo(e,t.user);case o.a.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case o.a.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case o.a.MARK_GLOBAL_STYLEGUIDES_WHATS_NEW_AS_SEEN:return this.markGlobalStyleguidesWhatsNewAsSeen(e);case l.a.LOAD:return this.loadUserInfo(e,t.user);default:return e}}}},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(117),o=n(116),r=n(57),l=n(142),c=n(76),d=n(1),u=n(125),h=n(18),p=n(264),m=n(143);function g(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}t.a=new class extends s.a{constructor(){super(a.a),this.reducer=new p.a({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject"},{deleteBarrel:this.deleteProject})}getInitialState(){return{loading:!0,loadingProject:!0,projects:{},error:null,history:{}}}deleteProject(e,{pid:t,oid:n}){const i=e.projects[n]||{},{[t]:s}=i,a=g(i,[t]);return Object.assign({},e,{projects:Object.assign({},e.projects,{[n]:a}),history:{deletedProjects:{[t]:s}}})}activateProject(e,{pid:t,oid:n}){return this.reducer.updateBarrelValue(e,{pid:t,oid:n,key:"status",value:"active"})}archiveProject(e,{pid:t,oid:n}){return this.reducer.updateBarrelValue(e,{pid:t,oid:n,key:"status",value:"archived"})}linkProjectToStyleguide(e,{project:{_id:t},styleguide:n,oid:i}){return this.reducer.updateBarrelValue(e,{pid:t,oid:i,key:"styleguideLink",value:{styleguide:n,status:"active"}})}unlinkProjectFromStyleguide(e,{pid:t,oid:n}){return this.reducer.updateBarrelValue(e,{pid:t,oid:n,key:"styleguideLink",value:null})}updateUserData(e,{oid:t,bid:n,uid:i,userData:s}){const a=(e.projects[t]||{})[n];if(!a)return e;const o=a.users.map(({role:e,user:t})=>t._id!==i?{role:e,user:t}:{role:e,user:Object.assign({},t,s)});let r=a.screens;return r&&(r=a.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===i?Object.assign({},e,{author:Object.assign({},e.author,s)}):e);return e.creator&&e.creator._id===i?Object.assign({},e,{comments:t,creator:Object.assign({},e.creator,s)}):Object.assign({},e,{comments:t})}));const n=e.versions.map(e=>{let{creator:t,commit:n}=e,a=g(e,["creator","commit"]);const o=t&&t._id===i?Object.assign({},t,{userData:s}):t,r=n.author&&n.author._id===i?Object.assign({},n,{author:Object.assign({},n.author,{userData:s})}):n;return Object.assign({},a,{creator:o,commit:r})});return Object.assign({},e,{versions:n,dots:t})})),this.reducer.updateBarrel(e,{pid:n,oid:t,data:new u.a(Object.assign({},a,{screens:r,users:o}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:s,users:a,oid:o}){const r=(e.projects[o]||{})[t];if(s||"user"!==o){const l=this.deleteProject(e,{pid:t,oid:o}),c=this.reducer.addBarrel(l,{project:r,oid:s?i:"user"});return a?this.reducer.updateBarrelValue(c,{pid:t,oid:o,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):c}return this.reducer.updateBarrelValue(e,{pid:t,oid:o,key:"users",value:e=>e.users.map(e=>{if(a){if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{barrel:{barrelType:n,organizationId:i}}=t;if(n===h.a.STYLEGUIDE){const{data:{organizationProjects:n}}=t;return n?this.reducer.getBarrelsSuccess(e,{projects:t.data.organizationProjects,oid:i}):e}const{data:{project:s}}=t;return this.reducer.getBarrelSuccess(e,{project:s,oid:i})}moveResourcesSuccess(e,{resourceType:t,oid:n,resources:i,barrelId:s,barrelType:a}){if(a!==h.a.PROJECT)return e;const o=Object(m.a)(t);return this.reducer.updateBarrelValue(e,{pid:s,oid:n,key:o,value:e=>e[o].filter(e=>!i.includes(e))})}addProjectScreen(e,{pid:t,screen:n,oid:i}){return this.reducer.updateBarrelValue(e,{pid:t,oid:i,key:"screens",value:e=>e.screens.concat(n)})}removeProjectScreen(e,{pid:t,sid:n,oid:i}){return this.reducer.updateBarrelValue(e,{pid:t,oid:i,key:"screens",value:e=>e.screens.filter(e=>e._id!==n)})}updateProjectScreen(e,{pid:t,sid:n,screen:i,oid:s}){return this.reducer.updateBarrelValue(e,{pid:t,oid:s,key:"screens",value:e=>e.screens.map(e=>e._id===n?Object.assign({},e,i):e)})}updateProjectScreensOrder(e,{pid:t,screens:n,oid:i}){const s=(e.projects[i]||{})[t].screens.slice(),a=n.sort((e,t)=>e.to-t.to).map(e=>Object(d.b)(s,t=>t._id===e._id)).filter(Boolean);return Array.prototype.splice.apply(s,[n[0].to,0].concat(a)),this.reducer.updateBarrelValue(e,{pid:t,oid:i,key:"screens",value:s})}updateOrganizationMemberAccessibility(e,{uid:t,oid:n}){const i=e.projects[n]||{},s=Object(d.E)(i,e=>e.users.some(e=>e.user._id===t));return Object.assign({},e,{projects:Object.assign({},e.projects,{[n]:s})})}reduce(e,t){switch(t.type){case o.a.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case o.a.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case o.a.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case o.a.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case o.a.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case o.a.ADD_PROJECT:return this.reducer.addBarrel(e,t);case o.a.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case o.a.JOIN_PROJECT:return this.reducer.joinBarrel(e,t);case o.a.LEAVE_PROJECT:return this.reducer.leaveBarrel(e,t);case l.a.CHANGE_SELECTED_ORGANIZATION:return this.reducer.changeSelectedOrganization(e,t);case r.a.UPDATE_NAME:return this.reducer.updateName(e,t);case r.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case r.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case r.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case r.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case r.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case r.a.ADD_COLOR:return this.reducer.addColor(e,t);case r.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case r.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case r.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case r.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case r.a.EMPTY_COLORS:return this.reducer.emptyColors(e,t);case r.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case r.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case r.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case r.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case r.a.EMPTY_TEXT_STYLES:return this.reducer.emptyTextStyles(e,t);case r.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case r.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case r.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case r.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case r.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case r.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case r.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case r.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case r.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case o.a.UPDATE_USER_ROLE:case r.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case o.a.REMOVE_USER:case r.a.REMOVE_MEMBER:return this.reducer.removeUser(e,t);case o.a.REMOVE_INTEGRATION:case r.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case o.a.DELETE_PROJECT:return this.deleteProject(e,t);case o.a.ACTIVATE_PROJECT:return this.activateProject(e,t);case o.a.ARCHIVE_PROJECT:return this.archiveProject(e,t);case c.a.LINK_PROJECT_SUCCESS:case c.a.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case c.a.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case o.a.UPDATE_USER_DATA:case r.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case o.a.TRANSFER_OWNERSHIP:case r.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case r.a.LOAD:return this.load(e,t);case r.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case o.a.ADD_PROJECT_SCREEN:return this.addProjectScreen(e,t);case o.a.REMOVE_PROJECT_SCREEN:return this.removeProjectScreen(e,t);case o.a.UPDATE_PROJECT_SCREEN:return this.updateProjectScreen(e,t);case o.a.UPDATE_PROJECT_SCREENS_ORDER:return this.updateProjectScreensOrder(e,t);case o.a.UPDATE_ORGANIZATION_MEMBER_ACCESSILITY:return this.updateOrganizationMemberAccessibility(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(119),o=n(118),r=n(57),l=n(142),c=n(76),d=n(1),u=n(125),h=n(18),p=n(264),m=n(143);t.a=new class extends s.a{constructor(){super(a.a),this.reducer=new p.a({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide"},{deleteBarrel:this.deleteStyleguide})}getInitialState(){return{loading:!0,loadingStyleguide:!0,loadingSelectParent:!1,styleguides:{},error:null,history:{}}}deleteStyleguide(e,{stid:t,oid:n}){const i=e.styleguides[n]||{},{[t]:s}=i,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,[t]);return Object.values(a).forEach(e=>{e.parent===t&&(s.parent?e.parent=s.parent:e.parent=null),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),Object.assign({},e,{styleguides:Object.assign({},e.styleguides,{[n]:a}),history:{deletedStyleguides:{[t]:s}}})}activateStyleguide(e,{stid:t,oid:n}){const i=e.styleguides[n]||{},s=this.updateStyleguidesStatus(i,t,"active");return Object.assign({},e,{styleguides:Object.assign({},e.styleguides,{[n]:s})})}archiveStyleguide(e,{stid:t,oid:n}){const i=e.styleguides[n]||{},s=this.updateStyleguidesStatus(i,t,"archived");return Object.assign({},e,{styleguides:Object.assign({},e.styleguides,{[n]:s})})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,oid:i,styleguides:s}){const a=this.reducer.updateBarrelValue(e,{stid:n._id,oid:i,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),o=s.reduce((e,t)=>Object.assign({},e,{[t._id]:new u.a(Object.assign({},t,{complete:!0}))}),{}),r=a.styleguides[i];return Object.assign({},a,{loadingSelectParent:!1,styleguides:Object.assign({},a.styleguides,{[i]:Object.assign({},r,o)})})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n,oid:i}){return this.reducer.updateBarrelValue(e,{stid:n._id,oid:i,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{oid:t,bid:n,uid:i,userData:s}){return this.reducer.updateBarrelValue(e,{stid:n,oid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==i?{role:e,user:t}:{role:e,user:Object.assign({},t,s)})})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:s,users:a,oid:o}){const r=e.styleguides[o]||{},l=r[t],c=Object.values(r).filter(e=>e._id===t||e.ancestors.includes(t));if(s||"user"!==o){let n=r;c.forEach(e=>{n=Object(d.E)(n,t=>t._id!==e._id)});const a=s?i:"user",u=e.styleguides[a];if(!u)return Object.assign({},e,{styleguides:Object.assign({},e.styleguides,{[o]:n})});const h=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return Object.assign({},e,{styleguides:{[o]:n,[a]:Object.assign({},u,h)}})}const u=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,oid:o,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),h=this.reducer.updateBarrelValue(u,{stid:l._id,oid:o,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,oid:o,key:"users",value:e=>e.users.map(e=>{if(a){if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})}),h)}load(e,t){const{barrel:{barrelType:n,organizationId:i}}=t;if(n===h.a.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:s,ancestors:a}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n,oid:i});let o=e;return s&&(o=this.reducer.getBarrelsSuccess(e,{styleguides:s,oid:i})),a.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t,oid:i}),this.reducer.getBarrelSuccess(o,{styleguide:n,oid:i}))}const{data:{project:s,organizationStyleguides:a,linkedStyleguides:o}}=t;if(s.partial)return e;const r=a?this.reducer.getBarrelsSuccess(e,{styleguides:a,oid:i}):e;return o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t,oid:i}),r)}moveResourcesSuccess(e,{resourceType:t,resources:n,oid:i,barrelId:s,barrelType:a,targetStyleguideId:o}){const r=Object(m.a)(t);let l=e;a===h.a.STYLEGUIDE&&(l=this.reducer.updateBarrelValue(e,{stid:s,oid:i,key:r,value:e=>e[r].filter(e=>!n.includes(e))}));const c=e.styleguides[i][o];return c&&c.complete?this.reducer.updateBarrelValue(l,{stid:o,oid:i,key:r,value:e=>e[r].concat(n)}):l}selectParent(e,{stid:t,parent:n,oid:i}){const s=e.styleguides[i]||{},a=s[t],o=[...s[n].ancestors,n];return a.parent=n,a.ancestors=o,Object.values(s).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...o,...e.ancestors.slice(n)])}),Object.assign({},e,{styleguides:{[i]:s}})}removeParent(e,{stid:t,oid:n}){const i=e.styleguides[n]||{},s=i[t];return s.ancestors=[],s.parent=null,Object.values(i).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),Object.assign({},e,{styleguides:{[n]:i}})}selectParentRequest(e){return Object.assign({},e,{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,oid:i,styleguides:s}){const a=this.selectParent(e,{stid:t,parent:n,oid:i}),o=e.styleguides[i],r=s.reduce((e,t)=>Object.assign({},e,{[t._id]:new u.a(Object.assign({},t,{complete:!0}))}),{});return Object.assign({},a,{loadingSelectParent:!1,styleguides:Object.assign({},a.styleguides,{[i]:Object.assign({},o,r)})})}selectParentFailed(e){return Object.assign({},e,{loadingSelectParent:!1})}updateStyleguidesStatus(e,t,n){return Object.values(e).reduce((i,s)=>{if(s._id===t&&(s.status=n,s.parent&&(s.ancestors=s.ancestors.filter(e=>e!==s.parent),s.parent=null)),s.ancestors.includes(t)){s.status=n;const i=e[t];s.ancestors=s.ancestors.filter(e=>e!==i.parent)}return i[s._id]=s,i},{})}reduce(e,t){switch(t.type){case o.a.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case o.a.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case o.a.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case o.a.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case o.a.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case o.a.ADD_STYLEGUIDE:return this.reducer.addBarrel(e,t);case o.a.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case o.a.JOIN_STYLEGUIDE:return this.reducer.joinBarrel(e,t);case o.a.LEAVE_STYLEGUIDE:return this.reducer.leaveBarrel(e,t);case l.a.CHANGE_SELECTED_ORGANIZATION:return this.reducer.changeSelectedOrganization(e,t);case r.a.UPDATE_NAME:return this.reducer.updateName(e,t);case r.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case r.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case r.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case r.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case r.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case r.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case r.a.ADD_COLOR:return this.reducer.addColor(e,t);case r.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case r.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case r.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case r.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case r.a.EMPTY_COLORS:return this.reducer.emptyColors(e,t);case r.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case r.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case r.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case r.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case r.a.EMPTY_TEXT_STYLES:return this.reducer.emptyTextStyles(e,t);case r.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case r.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case r.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case r.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case r.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case r.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case r.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case r.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case r.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case o.a.UPDATE_USER_ROLE:case r.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case o.a.REMOVE_USER:case r.a.REMOVE_MEMBER:return this.reducer.removeUser(e,t);case o.a.DELETE_STYLEGUIDE:return this.deleteStyleguide(e,t);case o.a.ACTIVATE_STYLEGUIDE:return this.activateStyleguide(e,t);case o.a.ARCHIVE_STYLEGUIDE:return this.archiveStyleguide(e,t);case c.a.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case c.a.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case o.a.UPDATE_USER_DATA:case r.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case o.a.TRANSFER_OWNERSHIP:case r.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case r.a.LOAD:return this.load(e,t);case r.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case o.a.SELECT_PARENT:return this.selectParent(e,t);case o.a.REMOVE_PARENT:return this.removeParent(e,t);case o.a.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case o.a.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case o.a.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(58),s=n(13),a=n(26),o=n(155),r=n(156),l=n(104),c=n(327),d=n(328),u=n(83),h=n(340),p=function(e,t,n){var i,o=s.getTypeOf(t),d=s.extend(n||{},r);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=g(e)),d.createFolders&&(i=m(e))&&f.call(this,i,!0);var p="string"===o&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!p),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",o="string");var b=null;b=t instanceof l||t instanceof a?t:u.isNode&&u.isStream(t)?new h(e,t):s.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var y=new c(e,b,d);this.files[e]=y},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},f=function(e,t){return t=void 0!==t?t:r.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(b(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var s=this.files[this.root+e];return s&&!s.dir?s:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=f.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=c(e),i=n[0],o=n[1],r=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),l=0,d=o>0?i-4:i,u=0;u<d;u+=4)t=s[e.charCodeAt(u)]<<18|s[e.charCodeAt(u+1)]<<12|s[e.charCodeAt(u+2)]<<6|s[e.charCodeAt(u+3)],r[l++]=t>>16&255,r[l++]=t>>8&255,r[l++]=255&t;2===o&&(t=s[e.charCodeAt(u)]<<2|s[e.charCodeAt(u+1)]>>4,r[l++]=255&t);1===o&&(t=s[e.charCodeAt(u)]<<10|s[e.charCodeAt(u+1)]<<4|s[e.charCodeAt(u+2)]>>2,r[l++]=t>>8&255,r[l++]=255&t);return r},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,a=[],o=0,r=n-s;o<r;o+=16383)a.push(u(e,o,o+16383>r?r:o+16383));1===s?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===s&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return a.join("")};for(var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,l=o.length;r<l;++r)i[r]=o[r],s[o.charCodeAt(r)]=r;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function u(e,t,n){for(var i,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(d(i));return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,s){var a,o,r=8*s-i-1,l=(1<<r)-1,c=l>>1,d=-7,u=n?s-1:0,h=n?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=h,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=i;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=c}return(p?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,s,a){var o,r,l,c=8*a-s-1,d=(1<<c)-1,u=d>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,m=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=d?(r=0,o=d):o+u>=1?(r=(t*l-1)*Math.pow(2,s),o+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&r,p+=m,r/=256,s-=8);for(o=o<<s|r,c+=s;c>0;e[n+p]=255&o,p+=m,o/=256,c-=8);e[n+p-m]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=s;var i=n(99).EventEmitter;function s(){i.call(this)}n(59)(s,i),s.Readable=n(100),s.Writable=n(305),s.Duplex=n(306),s.Transform=n(307),s.PassThrough=n(308),s.Stream=s,s.prototype.pipe=function(e,t){var n=this;function s(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",s),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",r),n.on("close",l));var o=!1;function r(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===i.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",s),e.removeListener("drain",a),n.removeListener("end",r),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",c),e.on("error",c),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var i=n(82).Buffer,s=n(302);function a(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,s=0;n;)a(n.data,t,s),s+=n.data.length,n=n.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(t,n(60))},function(e,t,n){"use strict";e.exports=a;var i=n(149),s=n(71);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}s.inherits=n(59),s.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(101)},function(e,t,n){e.exports=n(53)},function(e,t,n){e.exports=n(100).Transform},function(e,t,n){e.exports=n(100).PassThrough},function(e,t,n){n(310),e.exports=n(151).setImmediate},function(e,t,n){var i=n(311),s=n(319);i(i.G+i.B,{setImmediate:s.set,clearImmediate:s.clear})},function(e,t,n){var i=n(84),s=n(151),a=n(152),o=n(313),r=function(e,t,n){var l,c,d,u=e&r.F,h=e&r.G,p=e&r.S,m=e&r.P,g=e&r.B,f=e&r.W,b=h?s:s[t]||(s[t]={}),y=b.prototype,v=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(c=!u&&v&&void 0!==v[l])&&l in b||(d=c?v[l]:n[l],b[l]=h&&"function"!=typeof v[l]?n[l]:g&&c?a(d,i):f&&v[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,e&r.R&&y&&!y[l]&&o(y,l,d)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(314),s=n(318);e.exports=n(103)?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(315),s=n(316),a=n(317),o=Object.defineProperty;t.f=n(103)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),s)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(102);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(103)&&!n(153)(function(){return 7!=Object.defineProperty(n(154)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(102);e.exports=function(e,t){if(!i(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!i(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i,s,a,o=n(152),r=n(320),l=n(321),c=n(154),d=n(84),u=d.process,h=d.setImmediate,p=d.clearImmediate,m=d.MessageChannel,g=0,f={},b=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},y=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return f[++g]=function(){r("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete f[e]},"process"==n(322)(u)?i=function(e){u.nextTick(o(b,e,1))}:m?(a=(s=new m).port2,s.port1.onmessage=y,i=o(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(84).document&&document.documentElement},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(324);function s(){}var a={},o=["REJECTED"],r=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i(function(){var i;try{i=t(n)}catch(t){return a.reject(e,t)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function s(t){n||(n=!0,a.resolve(e,t))}var o=m(function(){t(s,i)});"error"===o.status&&i(o.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===r||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(s);this.state!==l?u(n,this.state===r?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=m(h,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=r,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return a.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=new Array(n),r=0,l=-1,c=new this(s);for(;++l<n;)d(e[l],l);return c;function d(e,s){t.resolve(e).then(function(e){o[s]=e,++r!==n||i||(i=!0,a.resolve(c,o))},function(e){i||(i=!0,a.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=-1,r=new this(s);for(;++o<n;)l(e[o]);return r;function l(e){t.resolve(e).then(function(e){i||(i=!0,a.resolve(r,e))},function(e){i||(i=!0,a.reject(r,e))})}}},function(e,t,n){"use strict";(function(t){var n,i,s=t.MutationObserver||t.WebKitMutationObserver;if(s){var a=0,o=new s(d),r=t.document.createTextNode("");o.observe(r,{characterData:!0}),n=function(){r.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||n()}}).call(t,n(60))},function(e,t,n){"use strict";var i=n(26),s=n(13);function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},e.exports=a},function(e,t,n){"use strict";var i=n(144).Readable;function s(e,t,n){i.call(this,t),this._helper=e;var s=this;e.on("data",function(e,t){s.push(e)||s._helper.pause(),n&&n(t)}).on("error",function(e){s.emit("error",e)}).on("end",function(){s.push(null)})}n(13).inherits(s,i),s.prototype._read=function(){this._helper.resume()},e.exports=s},function(e,t,n){"use strict";var i=n(155),s=n(157),a=n(58),o=n(104),r=n(26),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var s="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!s&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&s&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new r("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,n){"use strict";var i=n(160),s=n(339);t.generateWorker=function(e,t,n){var a=new s(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var s=function(e,t){var n=e||t,s=i[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),r=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,r).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=n(330),a=n(13),o=n(26),r=i?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(r,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var i={};(0,n(46).assign)(i,n(331),n(334),n(165)),e.exports=i},function(e,t,n){"use strict";var i=n(332),s=n(46),a=n(163),o=n(106),r=n(164),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=s.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,m))!==c)throw new Error(o[n]);this._dict_set=!0}}function m(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,r=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(d),r.next_out=0,r.avail_out=d),1!==(n=i.deflate(r,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),r.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=p,t.deflate=m,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,m(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,m(e,t)}},function(e,t,n){"use strict";var i,s=n(46),a=n(333),o=n(161),r=n(162),l=n(106),c=0,d=1,u=3,h=4,p=5,m=0,g=1,f=-2,b=-3,y=-5,v=-1,S=1,C=2,E=3,k=4,O=0,D=2,w=8,j=9,T=15,_=8,x=286,R=30,I=19,P=2*x+1,L=15,A=3,N=258,M=N+A+1,U=32,B=42,z=69,F=73,H=91,q=103,V=113,W=666,$=1,G=2,Z=3,Y=4,K=3;function X(e,t){return e.msg=l[t],t}function J(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function se(e,t,n,i){var a=e.avail_in;return a>i&&(a=i),0===a?0:(e.avail_in-=a,s.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=o(e.adler,t,a,n):2===e.state.wrap&&(e.adler=r(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}function ae(e,t){var n,i,s=e.max_chain_length,a=e.strstart,o=e.prev_length,r=e.nice_match,l=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+N,p=c[a+o-1],m=c[a+o];e.prev_length>=e.good_match&&(s>>=2),r>e.lookahead&&(r=e.lookahead);do{if(c[(n=t)+o]===m&&c[n+o-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=N-(h-a),a=h-N,i>o){if(e.match_start=t,o=i,i>=r)break;p=c[a+o-1],m=c[a+o]}}}while((t=u[t&d])>l&&0!=--s);return o<=e.lookahead?o:e.lookahead}function oe(e){var t,n,i,a,o,r=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-M)){s.arraySet(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=r?i-r:0}while(--n);t=n=r;do{i=e.prev[--t],e.prev[t]=i>=r?i-r:0}while(--n);a+=r}if(0===e.strm.avail_in)break;if(n=se(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=A)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+A-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function re(e,t){for(var n,i;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return $;if(0===e.lookahead)break}if(n=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-M&&(e.match_length=ae(e,n)),e.match_length>=A)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=e.strstart<A-1?e.strstart:A-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:G}function le(e,t){for(var n,i,s;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return $;if(0===e.lookahead)break}if(n=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-M&&(e.match_length=ae(e,n),e.match_length<=5&&(e.strategy===S||e.match_length===A&&e.strstart-e.match_start>4096)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-A,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=A-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return $}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return $}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:G}function ce(e,t,n,i,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=s}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=D,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:V,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),m):X(e,f)}function ue(e){var t=de(e);return t===m&&function(e){e.window_size=2*e.w_size,Q(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0}(e.state),t}function he(e,t,n,i,a,o){if(!e)return f;var r=1;if(t===v&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),a<1||a>j||n!==w||i<8||i>15||t<0||t>9||o<0||o>k)return X(e,f);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*P),this.dyn_dtree=new s.Buf16(2*(2*R+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*x+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=r,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+A-1)/A),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,ue(e)}i=[new ce(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return $;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return $;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),$)}),new ce(4,4,8,4,re),new ce(4,5,16,8,re),new ce(4,6,32,32,re),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return he(e,t,w,T,_,O)},t.deflateInit2=he,t.deflateReset=ue,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,m):f},t.deflate=function(e,t){var n,s,o,l;if(!e||!e.state||t>p||t<0)return e?X(e,f):f;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===W&&t!==h)return X(e,0===e.avail_out?y:f);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===B)if(2===s.wrap)e.adler=0,ne(s,31),ne(s,139),ne(s,8),s.gzhead?(ne(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ne(s,255&s.gzhead.time),ne(s,s.gzhead.time>>8&255),ne(s,s.gzhead.time>>16&255),ne(s,s.gzhead.time>>24&255),ne(s,9===s.level?2:s.strategy>=C||s.level<2?4:0),ne(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(ne(s,255&s.gzhead.extra.length),ne(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=r(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=z):(ne(s,0),ne(s,0),ne(s,0),ne(s,0),ne(s,0),ne(s,9===s.level?2:s.strategy>=C||s.level<2?4:0),ne(s,K),s.status=V);else{var b=w+(s.w_bits-8<<4)<<8;b|=(s.strategy>=C||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(b|=U),b+=31-b%31,s.status=V,ie(s,b),0!==s.strstart&&(ie(s,e.adler>>>16),ie(s,65535&e.adler)),e.adler=1}if(s.status===z)if(s.gzhead.extra){for(o=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending!==s.pending_buf_size));)ne(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=F)}else s.status=F;if(s.status===F)if(s.gzhead.name){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,ne(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.gzindex=0,s.status=H)}else s.status=H;if(s.status===H)if(s.gzhead.comment){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,ne(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.status=q)}else s.status=q;if(s.status===q&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ee(e),s.pending+2<=s.pending_buf_size&&(ne(s,255&e.adler),ne(s,e.adler>>8&255),e.adler=0,s.status=V)):s.status=V),0!==s.pending){if(ee(e),0===e.avail_out)return s.last_flush=-1,m}else if(0===e.avail_in&&J(t)<=J(n)&&t!==h)return X(e,y);if(s.status===W&&0!==e.avail_in)return X(e,y);if(0!==e.avail_in||0!==s.lookahead||t!==c&&s.status!==W){var v=s.strategy===C?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return $;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:G}(s,t):s.strategy===E?function(e,t){for(var n,i,s,o,r=e.window;;){if(e.lookahead<=N){if(oe(e),e.lookahead<=N&&t===c)return $;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=A&&e.strstart>0&&(i=r[s=e.strstart-1])===r[++s]&&i===r[++s]&&i===r[++s]){o=e.strstart+N;do{}while(i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&s<o);e.match_length=N-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(n=a._tr_tally(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:G}(s,t):i[s.level].func(s,t);if(v!==Z&&v!==Y||(s.status=W),v===$||v===Z)return 0===e.avail_out&&(s.last_flush=-1),m;if(v===G&&(t===d?a._tr_align(s):t!==p&&(a._tr_stored_block(s,0,0,!1),t===u&&(Q(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),ee(e),0===e.avail_out))return s.last_flush=-1,m}return t!==h?m:s.wrap<=0?g:(2===s.wrap?(ne(s,255&e.adler),ne(s,e.adler>>8&255),ne(s,e.adler>>16&255),ne(s,e.adler>>24&255),ne(s,255&e.total_in),ne(s,e.total_in>>8&255),ne(s,e.total_in>>16&255),ne(s,e.total_in>>24&255)):(ie(s,e.adler>>>16),ie(s,65535&e.adler)),ee(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?m:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==z&&t!==F&&t!==H&&t!==q&&t!==V&&t!==W?X(e,f):(e.state=null,t===V?X(e,b):m):f},t.deflateSetDictionary=function(e,t){var n,i,a,r,l,c,d,u,h=t.length;if(!e||!e.state)return f;if(2===(r=(n=e.state).wrap)||1===r&&n.status!==B||n.lookahead)return f;for(1===r&&(e.adler=o(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===r&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new s.Buf8(n.w_size),s.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,oe(n);n.lookahead>=A;){i=n.strstart,a=n.lookahead-(A-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+A-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=A-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=A-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=r,m},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(46),s=4,a=0,o=1,r=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,u=2,h=29,p=256,m=p+1+h,g=30,f=19,b=2*m+1,y=15,v=16,S=7,C=256,E=16,k=17,O=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(2*(m+2));l(_);var x=new Array(2*g);l(x);var R=new Array(512);l(R);var I=new Array(256);l(I);var P=new Array(h);l(P);var L,A,N,M=new Array(g);function U(e,t,n,i,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=e&&e.length}function B(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?R[e]:R[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function q(e,t,n){H(e,n[2*t],n[2*t+1])}function V(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function W(e,t,n){var i,s,a=new Array(y+1),o=0;for(i=1;i<=y;i++)a[i]=o=o+n[i-1]<<1;for(s=0;s<=t;s++){var r=e[2*s+1];0!==r&&(e[2*s]=V(a[r]++,r))}}function $(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,n,i){var s=2*t,a=2*n;return e[s]<e[a]||e[s]===e[a]&&i[t]<=i[n]}function Y(e,t,n){for(var i=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&Z(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Z(t,i,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=i}function K(e,t,n){var i,s,a,o,r=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*r]<<8|e.pending_buf[e.d_buf+2*r+1],s=e.pending_buf[e.l_buf+r],r++,0===i?q(e,s,t):(q(e,(a=I[s])+p+1,t),0!==(o=D[a])&&H(e,s-=P[a],o),q(e,a=z(--i),n),0!==(o=w[a])&&H(e,i-=M[a],o))}while(r<e.last_lit);q(e,C,t)}function X(e,t){var n,i,s,a=t.dyn_tree,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,r&&(e.static_len-=o[2*s+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Y(e,a,n);s=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*s]=a[2*n]+a[2*i],e.depth[s]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=s,e.heap[1]=s++,Y(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,s,a,o,r,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=y;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)>m&&(a=m,g++),l[2*i+1]=a,i>c||(e.bl_count[a]++,o=0,i>=p&&(o=h[i-p]),r=l[2*i],e.opt_len+=r*(a+o),u&&(e.static_len+=r*(d[2*i+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(a=m;0!==a;a--)for(i=e.bl_count[a];0!==i;)(s=e.heap[--n])>c||(l[2*s+1]!==a&&(e.opt_len+=(a-l[2*s+1])*l[2*s],l[2*s+1]=a),i--)}}(e,t),W(a,c,e.bl_count)}function J(e,t,n){var i,s,a=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)s=o,o=t[2*(i+1)+1],++r<l&&s===o||(r<c?e.bl_tree[2*s]+=r:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[2*E]++):r<=10?e.bl_tree[2*k]++:e.bl_tree[2*O]++,r=0,a=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))}function Q(e,t,n){var i,s,a=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(s=o,o=t[2*(i+1)+1],!(++r<l&&s===o)){if(r<c)do{q(e,s,e.bl_tree)}while(0!=--r);else 0!==s?(s!==a&&(q(e,s,e.bl_tree),r--),q(e,E,e.bl_tree),H(e,r-3,2)):r<=10?(q(e,k,e.bl_tree),H(e,r-3,3)):(q(e,O,e.bl_tree),H(e,r-11,7));r=0,a=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}}l(M);var ee=!1;function te(e,t,n,s){H(e,(c<<1)+(s?1:0),3),function(e,t,n,s){G(e),s&&(F(e,n),F(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,i,s,a=new Array(y+1);for(n=0,i=0;i<h-1;i++)for(P[i]=n,e=0;e<1<<D[i];e++)I[n++]=i;for(I[n-1]=i,s=0,i=0;i<16;i++)for(M[i]=s,e=0;e<1<<w[i];e++)R[s++]=i;for(s>>=7;i<g;i++)for(M[i]=s<<7,e=0;e<1<<w[i]-7;e++)R[256+s++]=i;for(t=0;t<=y;t++)a[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,a[8]++;for(;e<=255;)_[2*e+1]=9,e++,a[9]++;for(;e<=279;)_[2*e+1]=7,e++,a[7]++;for(;e<=287;)_[2*e+1]=8,e++,a[8]++;for(W(_,m+1,a),e=0;e<g;e++)x[2*e+1]=5,x[2*e]=V(e,5);L=new U(_,D,p+1,m,y),A=new U(x,w,0,g,y),N=new U(new Array(0),j,0,f,S)}(),ee=!0),e.l_desc=new B(e.dyn_ltree,L),e.d_desc=new B(e.dyn_dtree,A),e.bl_desc=new B(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,$(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,i){var l,c,h=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return o;return a}(e)),X(e,e.l_desc),X(e,e.d_desc),h=function(e){var t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=f-1;t>=3&&0===e.bl_tree[2*T[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,i):e.strategy===s||c===l?(H(e,(d<<1)+(i?1:0),3),K(e,_,x)):(H(e,(u<<1)+(i?1:0),3),function(e,t,n,i){var s;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),s=0;s<i;s++)H(e,e.bl_tree[2*T[s]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),K(e,e.dyn_ltree,e.dyn_dtree)),$(e),i&&G(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+p+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){H(e,d<<1,3),q(e,C,_),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(335),s=n(46),a=n(163),o=n(165),r=n(106),l=n(164),c=n(338),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(r[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||r[n.err];return n.result}u.prototype.push=function(e,t){var n,r,l,c,u,h,p=this.strm,m=this.options.chunkSize,g=this.options.dictionary,f=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(m),p.next_out=0,p.avail_out=m),(n=i.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(h="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===f&&(n=o.Z_OK,f=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(p.output,p.next_out),c=p.next_out-l,u=a.buf2string(p.output,l),p.next_out=c,p.avail_out=m-c,c&&s.arraySet(p.output,p.output,l,c,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(f=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),p.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var i=n(46),s=n(161),a=n(162),o=n(336),r=n(337),l=0,c=1,d=2,u=4,h=5,p=6,m=0,g=1,f=2,b=-2,y=-3,v=-4,S=-5,C=8,E=1,k=2,O=3,D=4,w=5,j=6,T=7,_=8,x=9,R=10,I=11,P=12,L=13,A=14,N=15,M=16,U=17,B=18,z=19,F=20,H=21,q=22,V=23,W=24,$=25,G=26,Z=27,Y=28,K=29,X=30,J=31,Q=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function se(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(ee),t.distcode=t.distdyn=new i.Buf32(te),t.sane=1,t.back=-1,m):b}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,se(e)):b}function oe(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,ae(e))):b}function re(e,t){var n,s;return e?(s=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=s,s.window=null,(n=oe(e,t))!==m&&(e.state=null),n):b}var le,ce,de=!0;function ue(e){if(de){var t;for(le=new i.Buf32(512),ce=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(r(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;r(d,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function he(e,t,n,s){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),s>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>s&&(a=s),i.arraySet(o.window,t,n-s,a,o.wnext),(s-=a)?(i.arraySet(o.window,t,n-s,s,0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=ae,t.inflateReset2=oe,t.inflateResetKeep=se,t.inflateInit=function(e){return re(e,ne)},t.inflateInit2=re,t.inflate=function(e,t){var n,ee,te,ne,se,ae,oe,re,le,ce,de,pe,me,ge,fe,be,ye,ve,Se,Ce,Ee,ke,Oe,De,we=0,je=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(n=e.state).mode===P&&(n.mode=L),se=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,re=n.hold,le=n.bits,ce=ae,de=oe,ke=m;e:for(;;)switch(n.mode){case E:if(0===n.wrap){n.mode=L;break}for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===re){n.check=0,je[0]=255&re,je[1]=re>>>8&255,n.check=a(n.check,je,2,0),re=0,le=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&re)<<8)+(re>>8))%31){e.msg="incorrect header check",n.mode=X;break}if((15&re)!==C){e.msg="unknown compression method",n.mode=X;break}if(le-=4,Ee=8+(15&(re>>>=4)),0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=X;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&re?R:P,re=0,le=0;break;case k:for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(n.flags=re,(255&n.flags)!==C){e.msg="unknown compression method",n.mode=X;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=X;break}n.head&&(n.head.text=re>>8&1),512&n.flags&&(je[0]=255&re,je[1]=re>>>8&255,n.check=a(n.check,je,2,0)),re=0,le=0,n.mode=O;case O:for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=re),512&n.flags&&(je[0]=255&re,je[1]=re>>>8&255,je[2]=re>>>16&255,je[3]=re>>>24&255,n.check=a(n.check,je,4,0)),re=0,le=0,n.mode=D;case D:for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&re,n.head.os=re>>8),512&n.flags&&(je[0]=255&re,je[1]=re>>>8&255,n.check=a(n.check,je,2,0)),re=0,le=0,n.mode=w;case w:if(1024&n.flags){for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.length=re,n.head&&(n.head.extra_len=re),512&n.flags&&(je[0]=255&re,je[1]=re>>>8&255,n.check=a(n.check,je,2,0)),re=0,le=0}else n.head&&(n.head.extra=null);n.mode=j;case j:if(1024&n.flags&&((pe=n.length)>ae&&(pe=ae),pe&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,ee,ne,pe,Ee)),512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,n.length-=pe),n.length))break e;n.length=0,n.mode=T;case T:if(2048&n.flags){if(0===ae)break e;pe=0;do{Ee=ee[ne+pe++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee))}while(Ee&&pe<ae);if(512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=_;case _:if(4096&n.flags){if(0===ae)break e;pe=0;do{Ee=ee[ne+pe++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee))}while(Ee&&pe<ae);if(512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,Ee)break e}else n.head&&(n.head.comment=null);n.mode=x;case x:if(512&n.flags){for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re!==(65535&n.check)){e.msg="header crc mismatch",n.mode=X;break}re=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=P;break;case R:for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(re),re=0,le=0,n.mode=I;case I:if(0===n.havedict)return e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,f;e.adler=n.check=1,n.mode=P;case P:if(t===h||t===p)break e;case L:if(n.last){re>>>=7&le,le-=7&le,n.mode=Z;break}for(;le<3;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}switch(n.last=1&re,le-=1,3&(re>>>=1)){case 0:n.mode=A;break;case 1:if(ue(n),n.mode=F,t===p){re>>>=2,le-=2;break e}break;case 2:n.mode=U;break;case 3:e.msg="invalid block type",n.mode=X}re>>>=2,le-=2;break;case A:for(re>>>=7&le,le-=7&le;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if((65535&re)!=(re>>>16^65535)){e.msg="invalid stored block lengths",n.mode=X;break}if(n.length=65535&re,re=0,le=0,n.mode=N,t===p)break e;case N:n.mode=M;case M:if(pe=n.length){if(pe>ae&&(pe=ae),pe>oe&&(pe=oe),0===pe)break e;i.arraySet(te,ee,ne,pe,se),ae-=pe,ne+=pe,oe-=pe,se+=pe,n.length-=pe;break}n.mode=P;break;case U:for(;le<14;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&re),re>>>=5,le-=5,n.ndist=1+(31&re),re>>>=5,le-=5,n.ncode=4+(15&re),re>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=X;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.lens[Te[n.have++]]=7&re,re>>>=3,le-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Oe={bits:n.lenbits},ke=r(l,n.lens,0,19,n.lencode,0,n.work,Oe),n.lenbits=Oe.bits,ke){e.msg="invalid code lengths set",n.mode=X;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;be=(we=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ye=65535&we,!((fe=we>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(ye<16)re>>>=fe,le-=fe,n.lens[n.have++]=ye;else{if(16===ye){for(De=fe+2;le<De;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re>>>=fe,le-=fe,0===n.have){e.msg="invalid bit length repeat",n.mode=X;break}Ee=n.lens[n.have-1],pe=3+(3&re),re>>>=2,le-=2}else if(17===ye){for(De=fe+3;le<De;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}le-=fe,Ee=0,pe=3+(7&(re>>>=fe)),re>>>=3,le-=3}else{for(De=fe+7;le<De;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}le-=fe,Ee=0,pe=11+(127&(re>>>=fe)),re>>>=7,le-=7}if(n.have+pe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=X;break}for(;pe--;)n.lens[n.have++]=Ee}}if(n.mode===X)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=X;break}if(n.lenbits=9,Oe={bits:n.lenbits},ke=r(c,n.lens,0,n.nlen,n.lencode,0,n.work,Oe),n.lenbits=Oe.bits,ke){e.msg="invalid literal/lengths set",n.mode=X;break}if(n.distbits=6,n.distcode=n.distdyn,Oe={bits:n.distbits},ke=r(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Oe),n.distbits=Oe.bits,ke){e.msg="invalid distances set",n.mode=X;break}if(n.mode=F,t===p)break e;case F:n.mode=H;case H:if(ae>=6&&oe>=258){e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,o(e,de),se=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,re=n.hold,le=n.bits,n.mode===P&&(n.back=-1);break}for(n.back=0;be=(we=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ye=65535&we,!((fe=we>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(be&&0==(240&be)){for(ve=fe,Se=be,Ce=ye;be=(we=n.lencode[Ce+((re&(1<<ve+Se)-1)>>ve)])>>>16&255,ye=65535&we,!(ve+(fe=we>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}re>>>=ve,le-=ve,n.back+=ve}if(re>>>=fe,le-=fe,n.back+=fe,n.length=ye,0===be){n.mode=G;break}if(32&be){n.back=-1,n.mode=P;break}if(64&be){e.msg="invalid literal/length code",n.mode=X;break}n.extra=15&be,n.mode=q;case q:if(n.extra){for(De=n.extra;le<De;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.length+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;be=(we=n.distcode[re&(1<<n.distbits)-1])>>>16&255,ye=65535&we,!((fe=we>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(0==(240&be)){for(ve=fe,Se=be,Ce=ye;be=(we=n.distcode[Ce+((re&(1<<ve+Se)-1)>>ve)])>>>16&255,ye=65535&we,!(ve+(fe=we>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}re>>>=ve,le-=ve,n.back+=ve}if(re>>>=fe,le-=fe,n.back+=fe,64&be){e.msg="invalid distance code",n.mode=X;break}n.offset=ye,n.extra=15&be,n.mode=W;case W:if(n.extra){for(De=n.extra;le<De;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.offset+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=X;break}n.mode=$;case $:if(0===oe)break e;if(pe=de-oe,n.offset>pe){if((pe=n.offset-pe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=X;break}pe>n.wnext?(pe-=n.wnext,me=n.wsize-pe):me=n.wnext-pe,pe>n.length&&(pe=n.length),ge=n.window}else ge=te,me=se-n.offset,pe=n.length;pe>oe&&(pe=oe),oe-=pe,n.length-=pe;do{te[se++]=ge[me++]}while(--pe);0===n.length&&(n.mode=H);break;case G:if(0===oe)break e;te[se++]=n.length,oe--,n.mode=H;break;case Z:if(n.wrap){for(;le<32;){if(0===ae)break e;ae--,re|=ee[ne++]<<le,le+=8}if(de-=oe,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?a(n.check,te,de,se-de):s(n.check,te,de,se-de)),de=oe,(n.flags?re:ie(re))!==n.check){e.msg="incorrect data check",n.mode=X;break}re=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=X;break}re=0,le=0}n.mode=K;case K:ke=g;break e;case X:ke=y;break e;case J:return v;case Q:default:return b}return e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<X&&(n.mode<Z||t!==u))&&he(e,e.output,e.next_out,de-e.avail_out)?(n.mode=J,v):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?a(n.check,te,de,e.next_out-de):s(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===P?128:0)+(n.mode===F||n.mode===N?256:0),(0===ce&&0===de||t===u)&&ke===m&&(ke=S),ke)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,m},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?b:(n.head=t,t.done=!1,m):b},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==I?b:n.mode===I&&s(1,t,i,0)!==n.check?y:he(e,t,i,i)?(n.mode=J,v):(n.havedict=1,m):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,s,a,o,r,l,c,d,u,h,p,m,g,f,b,y,v,S,C,E,k,O,D,w;n=e.state,i=e.next_in,D=e.input,s=i+(e.avail_in-5),a=e.next_out,w=e.output,o=a-(t-e.avail_out),r=a+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,h=n.window,p=n.hold,m=n.bits,g=n.lencode,f=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{m<15&&(p+=D[i++]<<m,m+=8,p+=D[i++]<<m,m+=8),v=g[p&b];t:for(;;){if(p>>>=S=v>>>24,m-=S,0===(S=v>>>16&255))w[a++]=65535&v;else{if(!(16&S)){if(0==(64&S)){v=g[(65535&v)+(p&(1<<S)-1)];continue t}if(32&S){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&v,(S&=15)&&(m<S&&(p+=D[i++]<<m,m+=8),C+=p&(1<<S)-1,p>>>=S,m-=S),m<15&&(p+=D[i++]<<m,m+=8,p+=D[i++]<<m,m+=8),v=f[p&y];n:for(;;){if(p>>>=S=v>>>24,m-=S,!(16&(S=v>>>16&255))){if(0==(64&S)){v=f[(65535&v)+(p&(1<<S)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&v,m<(S&=15)&&(p+=D[i++]<<m,(m+=8)<S&&(p+=D[i++]<<m,m+=8)),(E+=p&(1<<S)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=S,m-=S,E>(S=a-o)){if((S=E-S)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,O=h,0===u){if(k+=c-S,S<C){C-=S;do{w[a++]=h[k++]}while(--S);k=a-E,O=w}}else if(u<S){if(k+=c+u-S,(S-=u)<C){C-=S;do{w[a++]=h[k++]}while(--S);if(k=0,u<C){C-=S=u;do{w[a++]=h[k++]}while(--S);k=a-E,O=w}}}else if(k+=u-S,S<C){C-=S;do{w[a++]=h[k++]}while(--S);k=a-E,O=w}for(;C>2;)w[a++]=O[k++],w[a++]=O[k++],w[a++]=O[k++],C-=3;C&&(w[a++]=O[k++],C>1&&(w[a++]=O[k++]))}else{k=a-E;do{w[a++]=w[k++],w[a++]=w[k++],w[a++]=w[k++],C-=3}while(C>2);C&&(w[a++]=w[k++],C>1&&(w[a++]=w[k++]))}break}}break}}while(i<s&&a<r);i-=C=m>>3,p&=(1<<(m-=C<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?s-i+5:5-(i-s),e.avail_out=a<r?r-a+257:257-(a-r),n.hold=p,n.bits=m}},function(e,t,n){"use strict";var i=n(46),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,u,h){var p,m,g,f,b,y,v,S,C,E=h.bits,k=0,O=0,D=0,w=0,j=0,T=0,_=0,x=0,R=0,I=0,P=null,L=0,A=new i.Buf16(16),N=new i.Buf16(16),M=null,U=0;for(k=0;k<=15;k++)A[k]=0;for(O=0;O<l;O++)A[t[n+O]]++;for(j=E,w=15;w>=1&&0===A[w];w--);if(j>w&&(j=w),0===w)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(D=1;D<w&&0===A[D];D++);for(j<D&&(j=D),x=1,k=1;k<=15;k++)if(x<<=1,(x-=A[k])<0)return-1;if(x>0&&(0===e||1!==w))return-1;for(N[1]=0,k=1;k<15;k++)N[k+1]=N[k]+A[k];for(O=0;O<l;O++)0!==t[n+O]&&(u[N[t[n+O]]++]=O);if(0===e?(P=M=u,y=19):1===e?(P=s,L-=257,M=a,U-=257,y=256):(P=o,M=r,y=-1),I=0,O=0,k=D,b=d,T=j,_=0,g=-1,f=(R=1<<j)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){v=k-_,u[O]<y?(S=0,C=u[O]):u[O]>y?(S=M[U+u[O]],C=P[L+u[O]]):(S=96,C=0),p=1<<k-_,D=m=1<<T;do{c[b+(I>>_)+(m-=p)]=v<<24|S<<16|C|0}while(0!==m);for(p=1<<k-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,O++,0==--A[k]){if(k===w)break;k=t[n+u[O]]}if(k>j&&(I&f)!==g){for(0===_&&(_=j),b+=D,x=1<<(T=k-_);T+_<w&&!((x-=A[T+_])<=0);)T++,x<<=1;if(R+=1<<T,1===e&&R>852||2===e&&R>592)return 1;c[g=I&f]=j<<24|T<<16|b-d|0}}return 0!==I&&(c[b+I]=k-_<<24|64<<16|0),h.bits=j,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var i=n(13),s=n(26),a=n(58),o=n(105),r=n(166),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,s,c,d){var u,h,p=e.file,m=e.compression,g=d!==a.utf8encode,f=i.transformTo("string",d(p.name)),b=i.transformTo("string",a.utf8encode(p.name)),y=p.comment,v=i.transformTo("string",d(y)),S=i.transformTo("string",a.utf8encode(y)),C=b.length!==p.name.length,E=S.length!==y.length,k="",O="",D="",w=p.dir,j=p.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var _=0;t&&(_|=8),g||!C&&!E||(_|=2048);var x=0,R=0;w&&(x|=16),"UNIX"===c?(R=798,x|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,w)):(R=20,x|=function(e,t){return 63&(e||0)}(p.dosPermissions)),u=j.getUTCHours(),u<<=6,u|=j.getUTCMinutes(),u<<=5,u|=j.getUTCSeconds()/2,h=j.getUTCFullYear()-1980,h<<=4,h|=j.getUTCMonth()+1,h<<=5,h|=j.getUTCDate(),C&&(O=l(1,1)+l(o(f),4)+b,k+="up"+l(O.length,2)+O),E&&(D=l(1,1)+l(o(v),4)+S,k+="uc"+l(D.length,2)+D);var I="";return I+="\n\0",I+=l(_,2),I+=m.magic,I+=l(u,2),I+=l(h,2),I+=l(T.crc32,4),I+=l(T.compressedSize,4),I+=l(T.uncompressedSize,4),I+=l(f.length,2),I+=l(k.length,2),{fileRecord:r.LOCAL_FILE_HEADER+I+f+k,dirRecord:r.CENTRAL_FILE_HEADER+l(R,2)+I+l(v.length,2)+"\0\0\0\0"+l(x,4)+l(s,4)+f+k+v}};function d(e,t,n,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(d,s),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return r.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,s=function(e,t,n,s,a){var o=i.transformTo("string",a(s));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,n){"use strict";var i=n(13),s=n(26);function a(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,s),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},function(e,t,n){"use strict";var i=n(13),s=n(72),a=n(58),o=(i=n(13),n(342)),r=n(159),l=n(83);function c(e){return new s.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new r);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[s.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(c(i[a]));return s.Promise.all(n)}).then(function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(e,t,n){"use strict";var i=n(167),s=n(13),a=n(166),o=n(345),r=(n(58),n(45));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var i=n(169);function s(e){i.call(this,e)}n(13).inherits(s,i),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(170);function s(e){i.call(this,e)}n(13).inherits(s,i),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(167),s=n(13),a=n(104),o=n(105),r=n(58),l=n(160),c=n(45);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<s;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileName)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileComment)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(108),o=n(107),r=n(57);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loading:!0,loadingProfiles:!0,error:null,organizations:[],organizationProfiles:{}}}load(e){return Object.assign({},this.getInitialState(),{loading:!1,loadingProfiles:!1,organizations:e})}addOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.concat(t)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?Object.assign({},e,n):e)})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const s=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:s})})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return Object.assign({},e,{organizations:t,loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[n]:t})})}reduce(e,t){switch(t.type){case o.a.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case o.a.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case o.a.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case o.a.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case o.a.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case o.a.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case o.a.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case o.a.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case o.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case o.a.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case r.a.LOAD:return this.load(t.data.organizations);default:return e}}}},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(2),o=n(348);n.n(o);function r(e){const{class:t,children:n,type:o,emoji:r,actionContent:l,onHideClick:c,onActionClick:d,hideButtonText:u,hideEmoji:h}=e;let p=[];l&&p.push(i.default.h(s.a,{class:"hintAction",onClick:d},l)),c&&p.push(i.default.h(s.a,{class:"hideHintButton",onClick:c},i.default.h("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})),u));const m=r||("warning"===o?"":"");return i.default.h("div",{class:Object(a.a)("hintBox",t,o)},!h&&i.default.h("span",{class:"emoji"},m),i.default.h("div",{class:"hintContent"},n,p.length>0&&i.default.h("div",{class:"hintFooter"},p)))}r.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(558),s=(n(245),n(246),n(559));n(700);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return s});var i=n(18);const s={[i.a.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[i.a.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function a(e){return Object.keys(s[e]).reduce((t,n)=>s[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}const o={project:a(i.a.PROJECT),styleguide:a(i.a.STYLEGUIDE)};function r(e,t){return t.reduce((t,n)=>{const i=c(e,n);return i&&(t[i]?t[i].push(n):t[i]=[n]),t},{})}function l(e,t){return s[e][t].events}function c(e,t){return o[e][t]}},function(e,t,n){"use strict";var i=n(733);t.a=i.a},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a});const i="A sweet, short description.",s="ScreenThumbnailSection",a="StyleguideComponentSection"},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(354);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0)}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:o,style:r,onMouseDown:l}=this.props;return i.default.h("div",{ref:Object(a.a)(this,"base"),class:Object(s.a)("contextMenu",o,{toLeft:t,toTop:n}),onMouseDown:l,style:r},e)}}r.Item=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.default.h("button",{type:"button",class:Object(s.a)("menuitem",{warning:t}),onClick:this.handleClick},e)}},r.ItemDivider=(()=>i.default.h("hr",null)),r.withAutoPosition=class extends i.default.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{sidebar:t,menuContainer:n,clickOrigin:i}=e,{left:s,top:a,toLeft:o,toTop:r}=this.state,l=this.nodeRefs.contextMenu.base,c=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),d="string"==typeof t?document.querySelector(t):t,u=d?d.getBoundingClientRect().width:0,h=i.x-c.left+2+"px",p=i.y-c.top+2+"px",m=i.x+u+l.offsetWidth>window.innerWidth,g=i.y+l.offsetHeight>window.innerHeight;h===s&&p===a&&m===o&&g===r||this.setState({left:h,top:p,toLeft:m,toTop:g})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:o,top:l,toLeft:c,toTop:d}=this.state,u=n?n.zIndex:null;return i.default.h(r,Object.assign({},e,{toTop:d,toLeft:c,class:Object(s.a)(t,{autoPositioned:!!n}),style:{left:o,top:l,zIndex:u},ref:Object(a.a)(this,"contextMenu")}))}},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(61),r=n(356),l=n(2),c=n(6),d=n(4),u=n(357);n.n(u);const h=12;class p extends i.default.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||h}positionOptions(){const{top:e,left:t,centerX:n,posRef:i,allowBottomOverflow:s}=this.props,a=i.getBoundingClientRect(),o=this.nodeRefs.options.getBoundingClientRect(),r=e||a.height,l=t||0;let c=a.top+r,d=a.left;d+=n?(a.width-o.width)/2:l,c<this.edgeOffset?c=this.edgeOffset:c+o.height+this.edgeOffset>window.innerHeight&&!s&&(c=window.innerHeight-o.height-this.edgeOffset),d<this.edgeOffset?d=this.edgeOffset:d+o.width+this.edgeOffset>window.innerWidth&&(d=window.innerWidth-o.width-this.edgeOffset),this.nodeRefs.options.style.transform="translate3d("+d+"px, "+c+"px, 0)"}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){this.props.onClose&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.default.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.default.h("div",{class:Object(l.a)("dropdownOptions",t),ref:Object(d.a)(this,"options")},e))}}class m extends i.default.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.toggleOptions=this.toggleOptions.bind(this),this.handleItemSelect=this.handleItemSelect.bind(this),this.state={open:!1}}hideOptions(){this.setState({open:!1})}toggleOptions(e){e.stopPropagation(),this.setState(e=>({open:!e.open}))}handleItemSelect(e){this.setState({open:!1}),this.props.onChange(e)}renderOptions(){const{portalInto:e,allowBottomOverflow:t,showCheck:n=!0,top:s,left:a,centerX:r,optionsClass:l,children:c}=this.props,d=c.map(e=>i.default.cloneElement(e,{showCheck:n,onSelect:this.handleItemSelect}));return i.default.h(o.a,{into:e},i.default.h(p,{class:l,onClose:this.hideOptions,allowBottomOverflow:t,posRef:this.nodeRefs.base,top:s,left:a,centerX:r},d))}render(){const{open:e}=this.state,{children:t,class:n}=this.props,s=Object(l.a)("dropdown","noSelect",n,{open:e}),a=t.find(e=>e.attributes.selected),o=a.attributes.label,r="string"==typeof a.attributes.label?a.attributes.label:null;return i.default.h("div",{ref:Object(d.a)(this,"base"),class:s,title:r,onClick:this.toggleOptions},i.default.h("span",{class:"ellipsis"},o),i.default.h("img",{class:"chevron",alt:"",src:Object(c.e)("img/icDropdown.svg")}),e&&this.renderOptions())}}m.propTypes={portalInto:a.a.element,showCheck:a.a.bool,top:a.a.number,left:a.a.number,centerX:a.a.boolean,children:a.a.instanceOf(r.a).isRequired,allowBottomOverflow:a.a.bool,onChange:a.a.func.isRequired},m.defaultProps={portalInto:document.body,allowBottomOverflow:!1,showCheck:!0},m.Item=r.a,t.a=m},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(6);class l extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:s,children:a}=this.props,l=Object(o.a)("dropdownItem","noSelect",s,{selected:t});return i.default.h("div",{class:l,onClick:this.handleClick},i.default.h("div",{class:"dropdownItemContent ellipsis"},a.length?a:e),n&&t&&i.default.h("img",{class:"dropdownCheck",src:Object(r.e)("img/icMenuCheck.svg"),alt:"&check;"}))}}l.displayName="Dropdown.Item",l.propTypes={label:a.a.oneOfType([a.a.string,a.a.node,a.a.element]),value:a.a.string.isRequired,selected:a.a.bool,showCheck:a.a.bool,children:a.a.oneOfType([a.a.node,a.a.element]),onSelect:a.a.func.isRequired},l.defaultProps={selected:!1,showCheck:!0,children:"this.props.label"},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(796);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(833);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(835);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(604);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t,n,d){const h={},p=new Set;for(let i=0;i<d.contents.length;i++){const{format:e,density:t,densityScale:n=Object(s.p)(t)}=d.contents[i];e in h?h[e]++:h[e]=1,p.add(n)}let m;m=!("jpg"in h)||"svg"in h||"pdf"in h||h.jpg!==h.png?"svg"in h?function(e){if("optimized"in e)return Promise.resolve();return e.optimized=Object.assign({},e,{url:`${i.m}/svgo/${encodeURIComponent(e.url)}`}),Promise.all([e,e.optimized].map(u)).then(([{length:t},{length:n}])=>{e.optimized.percent=Math.round((t-n)/t*l)})}(d.contents.find(({format:e})=>"svg"===e)):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,s=0;return Promise.all(e.contents.map(u)).then(a=>{t.forEach(e=>{const t=a.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),s+=Number(t.png)/Number(t.jpg)}),i=Math.round(l-i/t.size*l),s=Math.round(l-s/t.size*l),i>=c?n={type:"jpg",diff:i}:s>=c&&(n={type:"png",diff:s}),n&&(e.percent=n)}).catch(e=>{})}(d,p);const g=function(e){return e.find(({density:e,densityScale:t=Object(s.p)(e),format:n})=>t===r.a.BASE&&"png"===n)}(d.contents),f=!g||"lightness"in d?Promise.resolve():Object(a.c)(g.url).then(e=>Object.assign(d,e)).catch(e=>null),b="localName"in d?Promise.resolve():function(e,t,n,i){const s=n.assets.find(e=>e._id===i);if(!s)return Promise.resolve();if("localName"in s)return Promise.resolve(s.localName);return o.b.get(e,t,"assetNames").then(e=>e&&e[i])}(e,t,n,d._id).then(e=>{e&&Object.assign(d,{localName:e})});return Promise.all([m,f,b])},t.c=function(e,t){return fetch(t).then(e=>e.ok?e.json():{layers:[]}).then(t=>(t.layers||(t.layers=[]),function e(t,n,i,s,a){for(const o of n){o.absoluteRect={x:o.rect.x+i.x,y:o.rect.y+i.y,width:o.rect.width,height:o.rect.height};let n=s,r=a;if(void 0!==o.componentName){const e=t.findComponentByName(o.componentName);e&&(n=e,r=o.absoluteRect)}n&&(o.component={id:n._id,name:n.name,rect:r}),"group"===o.type&&(Array.isArray(o.layers)?e(t,o.layers,o.absoluteRect,n,r):o.layers=[])}}(e,t.layers,{x:0,y:0}),t.assets||(t.assets=[]),t)).catch(()=>({layers:[],assets:[]}))},t.b=function(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:a,width:o,height:r},selectedLayer:l,snapshotDetailRect:c}){let u=i;const p=(n.clientX-c.left)/c.width*o,m=(n.clientY-c.top)/c.height*r,g=h(a,p,m);if(e&&t){const n=h(a,e,t);if(Math.hypot(e-p,t-m)>d||!Object(s.a)(g,n,(e,t)=>e._id===t._id))u=g[0];else{const e=g.findIndex(e=>e._id===l._id);u=g[(e+1)%g.length]}}else u=g[0];return e=p,t=m,u}}};var i=n(5),s=n(1),a=n(6),o=n(24),r=n(41);const l=100,c=10,d=40;function u(e){const{url:t,format:n,density:i,densityScale:a=Object(s.p)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:a,format:n}))}function h(e,t,n){let i=[];for(let s=e.length-1;s>=0;s--){let a=e[s],o=a.absoluteRect.x+a.rect.width,r=a.absoluteRect.y+a.rect.height;a.absoluteRect.x<=t&&a.absoluteRect.y<=n&&o>=t&&r>=n&&("group"===a.type?("top"===a.interactionLevel&&i.push(a),i=i.concat(h(a.layers,t,n)),"bottom"===a.interactionLevel&&i.push(a)):i.push(a))}return i}},function(e,t,n){"use strict";function i({componentSections:e},t,n){let s;for(const a of e){if(s=a.components.find(e=>e[t]===n))return s;if(s=i(a,t,n))return s}return null}t.a=function(e,t){if(!t)return{};for(const n of e){const e=i(n,"_id",t);if(e)return{barrelId:n.id,component:e}}return{}},t.b=function(e,t){if(!t)return{};for(const n of e){const e=i(n,"name",t);if(e)return{barrelId:n.id,component:e}}return{}}},function(e,t,n){"use strict";var i=n(935);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t){if(Object(i.A)(e))return i.H.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);if("free"===n.user.paymentPlan)return t.user._id===n.user._id;return i.H.canMoveResources(t)};var i=n(1)},,function(e,t,n){"use strict";var i=n(383);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(488);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(502);t.a=i.a},function(e,t,n){"use strict";var i=n(116),s=n(117);const a={getProjectsSuccess({projects:e,oid:t}){s.a.dispatch({type:i.a.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){s.a.dispatch({type:i.a.GET_PROJECTS_FAILED,error:e})},getProjectRequest(){s.a.dispatch({type:i.a.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e,oid:t}){s.a.dispatch({type:i.a.GET_PROJECT_SUCCESS,project:e,oid:t})},getProjectFailed(e){s.a.dispatch({type:i.a.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t}){s.a.dispatch({type:i.a.CREATE_PROJECT,oid:e,platform:t,syncWithApi:!0})},addProject({project:e,oid:t}){s.a.dispatch({type:i.a.ADD_PROJECT,project:e,oid:t})},updateProject({pid:e,oid:t,data:n}){s.a.dispatch({type:i.a.UPDATE_PROJECT,pid:e,data:n,oid:t})},archiveProject({pid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.ARCHIVE_PROJECT,pid:e,oid:t,syncWithApi:n})},activateProject({pid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.ACTIVATE_PROJECT,pid:e,oid:t,syncWithApi:n})},leaveProject({pid:e,uid:t,oid:n}){s.a.dispatch({type:i.a.LEAVE_PROJECT,pid:e,uid:t,oid:n,syncWithApi:!0})},joinProject({pid:e,user:t,oid:n,syncWithApi:a=!1}){s.a.dispatch({type:i.a.JOIN_PROJECT,pid:e,user:t,oid:n,syncWithApi:a})},joinProjectFromPreview({pid:e,user:t,oid:n}){s.a.dispatch({type:i.a.JOIN_PROJECT_FROM_PREVIEW,pid:e,user:t,oid:n,syncWithApi:!0})},deleteProject({pid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.DELETE_PROJECT,pid:e,oid:t,syncWithApi:n})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o}){s.a.dispatch({type:i.a.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r}){s.a.dispatch({type:i.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r})},inviteUser({container:e,pid:t,users:n,oid:a}){s.a.dispatch({type:i.a.INVITE_USER,container:e,pid:t,users:n,oid:a})},addProjectScreen({pid:e,oid:t,screen:n}){s.a.dispatch({type:i.a.ADD_PROJECT_SCREEN,pid:e,oid:t,screen:n})},removeProjectScreen({pid:e,sid:t,oid:n}){s.a.dispatch({type:i.a.REMOVE_PROJECT_SCREEN,pid:e,sid:t,oid:n})},updateProjectScreen({pid:e,sid:t,screen:n,oid:a}){s.a.dispatch({type:i.a.UPDATE_PROJECT_SCREEN,pid:e,sid:t,screen:n,oid:a})},updateProjectScreensOrder({pid:e,screens:t,oid:n}){s.a.dispatch({type:i.a.UPDATE_PROJECT_SCREENS_ORDER,pid:e,oid:n,screens:t})},openProjectPreview(e){s.a.dispatch({type:i.a.OPEN_PROJECT_PREVIEW,pid:e,syncWithApi:!0})},closeProjectPreview(e){s.a.dispatch({type:i.a.CLOSE_PROJECT_PREVIEW,pid:e})},updateOrganizationMemberAccessibility({uid:e,oid:t}){s.a.dispatch({type:i.a.UPDATE_ORGANIZATION_MEMBER_ACCESSILITY,uid:e,oid:t})},removeUser({oid:e,bid:t,uid:n}){s.a.dispatch({type:i.a.REMOVE_USER,oid:e,bid:t,uid:n})},removeIntegration({oid:e,bid:t,intype:n,inid:a}){s.a.dispatch({type:i.a.REMOVE_INTEGRATION,oid:e,bid:t,intype:n,inid:a})},updateUserData({oid:e,bid:t,uid:n,userData:a}){s.a.dispatch({type:i.a.UPDATE_USER_DATA,oid:e,bid:t,uid:n,userData:a})},updateUserRole({oid:e,bid:t,uid:n,role:a}){s.a.dispatch({type:i.a.UPDATE_USER_ROLE,oid:e,bid:t,uid:n,role:a})}};t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),s=1,a=i[0],o=i[i.length-1];t.d=i},function(e,t,n){"use strict";var i=n(837);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(603);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(962);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return m});var i=n(1),s=n(75),a=n(88),o=n(8);function r(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>(function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`})(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:s,range:a})=>{const o=n.find(e=>e.font.equals(s));let r,l;t.equals(s)?l="default":o?l=o.group:(l=function(e){return["turquoise","cornflower-blue","green","yellow","peach"][parseInt(e,10)]||"group-"+e}(i),r=e.content.substring(a.start,a.end),i+=1),r=e.content.substring(a.start,a.end),n.push({font:s,range:a,group:l,content:r})}),n}function c(e,t,n){const{densityMismatch:s,localName:o,displayName:r,layerName:l,contents:c,percent:d,size:u,lightness:h,_id:p}=e,m={},g={},f={previewImages:m,displayName:r,layerName:l,localName:o,densityMismatch:s,formats:g,percent:d,size:u,light:"light"===h,id:p},b=c.filter(e=>Object(a.f)(n,e));for(const a of b){const{density:e,densityScale:t=Object(i.p)(e),format:n,optimized:s,url:o}=a,r={densityScale:t,optimized:s,url:o};n in g?g[n].variants.push(r):g[n]={variants:[r]},"diff"in g[n]||(d&&d.type===n?g[n].diff={type:"jpg"===d.type?"png":"jpg",percent:d.diff}:s&&s.percent&&(g[n].diff={type:"svg",percent:s.percent}))}return f.size&&(f.size={width:t.withUnit(f.size.width),height:t.withUnit(f.size.height)}),"svg"in g?(m.svg=g.svg.variants[0].url,f):"png"in g?(g.png.variants.forEach(e=>{m[e.densityScale]=e.url}),f):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0];let s=i.creator?i.creator:{username:"Anonymous"};return{username:s.username,avatar:Object(o.f)(s),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={r:e.r,g:e.g,b:e.b,a:e.a},s=e.toCSS(),a=t.colorString(e);for(const o of n){const{id:t,name:n,colors:r,isMember:l,isOrganizationBarrel:c}=o,{id:d,name:u}=r.find(t=>t.equals(e))||{};if(d)return{styleguideId:t,styleguideName:n,isMember:l,isOrganizationBarrel:c,added:!0,id:d,value:i,colorStyle:s,colorString:a,name:u}}for(const o of n){const{id:n,name:r,colors:l,isMember:c,isOrganizationBarrel:d}=o,u=l.find(t=>t.hexBase()===e.hexBase());if(u&&1===u.a){const{id:o,name:l}=u;return{styleguideId:n,styleguideName:r,isMember:c,isOrganizationBarrel:d,added:!1,id:o,value:i,colorStyle:s,colorString:a,name:l,opacity:t.alpha(e.a)}}}return{added:!1,value:i,colorStyle:s,colorString:a}}function h(e,t,n){return{gradientStyle:r(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(s.c)(i,2),color:u(e,t,n)}))}}function p(e,t,n,s){return"text"!==e.type?[]:l(e).map(({font:e,group:a,content:o,range:r})=>({textStyle:function(e,t,n,s){const a=Object(i.t)(s,e),{color:o,fontFace:r,fontSize:l,letterSpacing:c,lineHeight:d,textAlign:h,fontVariationSettings:p}=e,m=o&&u(o,t,n),{id:g,styleguideId:f,styleguideName:b,isMember:y,isOrganizationBarrel:v}=a||{};return{styleguideId:f,styleguideName:b,isMember:y,isOrganizationBarrel:v,id:g,added:!!a,color:m,name:a&&a.name,fontFace:r,fontSize:t.textLength(l),letterSpacing:c&&t.letterSpacing(c),lineHeight:d&&t.textLength(d),textAlign:h,fontVariationSettings:p,value:{color:m&&m.value,fontFace:r,fontSize:l,letterSpacing:c,lineHeight:d,textAlign:h,fontVariationSettings:p}}}(e,t,n,s),group:a,content:o,range:r}))}function m(e,t,n,i,s){const{_id:a,id:o=a,absoluteRect:r,assetData:l,blendMode:d,blur:m,borders:g,borderRadius:f,component:b,content:y,fills:v,name:S,opacity:C,rotation:E,shadows:k,type:O}=e,D={id:o,borders:g.map(e=>(function(e,t,n){const{fill:{color:i,gradient:s},position:a,thickness:o}=e;return{color:i&&u(i,t,n),gradient:s&&h(s,t,n),position:a,thickness:t.length(o)}})(e,t,i)),component:b,content:y,fills:v.map(e=>(function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=h(e.gradient,t,n)),i})(e,t,i)),name:S,rect:{x:t.length(r.x),y:t.length(r.y),width:t.length(r.width),height:t.length(r.height)},shadows:k.map(e=>(function(e,t,n){const{blurRadius:i,color:s,offsetX:a,offsetY:o,spread:r,type:l}=e;return{blurRadius:t.length(i),color:u(s,t,n),offsetX:t.length(a),offsetY:t.length(o),spread:t.length(r),type:l}})(e,t,i)),type:O,typefaces:p(e,t,i,s)};return l&&(D.asset=c(l,t,n)),m&&(D.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(m,t)),C<1&&(D.opacity=t.percentage(C)),f>0&&(D.borderRadius=t.length(f)),0!==E&&(D.rotation=E),"normal"!==d&&(D.blendMode=d),D}},function(e,t,n){"use strict";var i=n(1022);n.d(t,"c",function(){return i.a});var s=n(645);n.d(t,"a",function(){return s.a});var a=n(1025);n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var i=n(673);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",CREATE:"CreateStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_PARENT:"RemoveStyleguideParent",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_PARENT:"UpdateStyleguideParent",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",DELETE_COMPONENT:"DeleteStyleguideComponent",CREATE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder"}},,,function(e,t,n){"use strict";var i=n(1),s=12,a=2,o=500,r=200,l=new WeakMap;function c(e){clearTimeout(l.get(e)),l.delete(e)}function d(e){if(e.target.classList.contains("tooltipShown"))c(e.target);else{var t=document.createElement("div");t.classList.add("zplTooltip","invisible");var n=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":t.innerHTML=i.O(n);break;case"text":default:t.textContent=n}e.target.classList.add("tooltipShown");var d=e.target.getBoundingClientRect();t.style.top=d.bottom-a+"px",t.style.left=d.left+d.width/2+"px",e.target.addEventListener("mouseleave",p),e.target.addEventListener("click",p),t.addEventListener("mouseenter",function(){c(e.target),t.addEventListener("mouseleave",p),t.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(t);var u=t.getBoundingClientRect();u.left<s?(t.style.left=s+"px",t.classList.add("overflown")):u.right+s>window.innerWidth&&(t.style.left=window.innerWidth-s-u.width+"px",t.classList.add("overflown")),u.bottom+s>window.innerHeight&&(t.style.top=d.top-u.height+a+"px");var h=o;e.target.dataset.tooltipDelay&&(h=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){t.classList.remove("invisible")},h)}function p(){c(e.target),l.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",p),e.target.classList.remove("tooltipShown"),t.remove()},r))}}function u(e){e.removeAttribute("title"),e.addEventListener("mouseenter",d)}function h(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void u(e);Array.from(e.children).forEach(h)}}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(u),new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?u(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",d);break;case"childList":Array.from(e.addedNodes).forEach(h)}})}).observe(document.body,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]})})},,function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(33),r=n(5),l=n(384),c=n(386),d=n(62),u=n(391),h=n(39),p=n(10),m=n(1),g=n(4),f=n(487);n.n(f);const b=50;class y extends i.default.Component{constructor(e){super(e),this.handleLastItemCallback=this.handleLastItemCallback.bind(this),this.handleNotificationIntersection=this.handleNotificationIntersection.bind(this),this.intersectionObserver=null}handleLastItemCallback(e){e&&this.props.hasMore&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.nodeRefs.base,rootMargin:"0px 0px 288px 0px"})),this.intersectionObserver.observe(e))}handleNotificationIntersection(e){const t=e[0];t.isIntersecting&&(this.intersectionObserver.unobserve(t.target),this.props.onEnd())}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}renderEmpty(){return i.default.h("div",{class:"none noSelect"},"No notifications currently.",i.default.h("br",null),"Kinda great? ")}renderEnd(){return i.default.h("div",{class:"end noSelect"},"~ The End ~")}renderError(){return i.default.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.default.h("br",null),"notifications. ",i.default.h("span",{onClick:this.props.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(){const{notifications:e,notificationLastReadTime:t,onItemClick:n}=this.props;return e.map((i,s)=>{const a={notificationLastReadTime:t,onClick:n};return s===e.length-1&&(a.ref=this.handleLastItemCallback),Object(u.a)(i,a)})}render(){const{notifications:e,hasError:t,hasMore:n}=this.props;return i.default.h("div",{ref:Object(g.a)(this,"base"),class:"notificationsContainer"},this.renderNotifications(),0===e.length&&this.renderEmpty(),!n&&!t&&this.renderEnd(),t&&this.renderError())}}y.propTypes={onRetry:a.a.func.isRequired,onEnd:a.a.func.isRequired,onItemClick:a.a.func.isRequired,notifications:a.a.array.isRequired,hasMore:a.a.bool.isRequired,notificationLastReadTime:a.a.object.isRequired,hasError:a.a.object};t.a=Object(h.a)(class extends i.default.Component{constructor(e){super(e),this.fetchMore=this.fetchMore.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.handleWindowsAppBadgeShow=this.handleWindowsAppBadgeShow.bind(this),this.state={showNotifications:!1}}static calculateState(e,t){const{notifications:n,notificationLastReadTime:i,error:s,hasMore:a}=l.b.getState(),o=n.length>0&&new Date(n[0].updated)>i;let r;if(o)for(let l of n){if(new Date(l.updated)<i)break;if("CreateCoupon"===l.actionName){r=!0;break}}return{notifications:n,hasError:s,hasMore:a,notificationLastReadTime:i,hasUnread:o,hasPromotion:r}}static getStores(){return[l.b]}getAllNotifications(){setTimeout(l.a.getNotifications(null,b),4)}fetchMore(){const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;l.a.getNotifications(t,b)}registerSubscribers(){o.f.bind("Notification",e=>{l.a.addNotification(e.body,"start")}),o.b.subscribe(r.a).bind("Notification",e=>{l.a.addNotification(e.body,"start")})}unregisterSubscribers(){o.f.unbind("Notification"),o.b.unsubscribe(r.a)}handlePopoverClose(){this.setState({showNotifications:!1}),l.a.updateNotificationLastReadTime()}handlePopoverOpen(){p.a&&this.state.hasUnread&&p.a.ipcRenderer.send("read-notifications"),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}handleWindowsAppBadgeShow(e,t){const{hasUnread:n}=this.state;t&&n&&p.a.ipcRenderer.send("unread-notifications",Object(m.d)())}componentDidMount(){this.getAllNotifications(),this.unregisterSubscribers(),this.registerSubscribers(),window.addEventListener("online",this.getAllNotifications),p.a&&p.a.features&&p.a.features.revampedMenu&&p.a.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow)}componentDidUpdate(e,t){p.a&&!t.hasUnread&&this.state.hasUnread&&p.a.ipcRenderer.send("unread-notifications",Object(m.d)())}componentWillUnmount(){this.unregisterSubscribers(),window.removeEventListener("online",this.getAllNotifications)}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:s,hasPromotion:a,notificationLastReadTime:o,showNotifications:r}=this.state,l=i.default.h(y,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:o});return i.default.h(d.a,{open:r,content:l,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.default.h(c.a,{hasUnread:s,hasPromotion:a}))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(288),s=(n(136),n(137),n(385));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(137),o=n(136);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t,n){return Object.assign({},e,{notifications:"start"===n?[t].concat(e.notifications):e.notifications.concat(t)})}updateLastReadTime(e,t){return Object.assign({},e,{notificationLastReadTime:t})}reduce(e,t){switch(t.type){case o.a.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case o.a.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case o.a.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case o.a.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case o.a.ADD_NOTIFICATION:return this.addNotification(e,t.notification,t.position);default:return e}}}},function(e,t,n){"use strict";var i=n(387);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(6),r=n(388);n.n(r);function l({hasUnread:e,hasPromotion:t}){return i.default.h("button",{class:"notificationsButton"},e&&!t&&i.default.h("div",{class:"unreadBadge"}),e&&t&&i.default.h("img",{src:Object(o.e)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.default.h("svg",{width:"24",height:"26"},i.default.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"})))}l.propTypes={hasUnread:a.a.bool,hasPromotion:a.a.bool},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(61),r=n(2),l=n(4),c=n(1),d=n(390);n.n(d);class u extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handlePopoverClick=this.handlePopoverClick.bind(this),this.renderPopoverContent=this.renderPopoverContent.bind(this),this.positionPopover=this.positionPopover.bind(this),this.handleResize=this.handleResize.bind(this)}positionPopover(){const{open:e,offsetX:t,offsetY:n,targetNode:i,left:s,top:a,faceLeft:o,faceTop:r,centerX:l,centerY:c,anchorTop:d,stickToEdge:u,showAnchor:h,openToLeft:p}=this.props,m=i||this.nodeRefs.container,g=this.nodeRefs.popover,f=this.nodeRefs.anchor;if(!e||!g||!m)return;const b=m.getBoundingClientRect(),y=g.getBoundingClientRect(),v=s,S=a;let C=o?b.left:b.right;C+=l?(b.width-y.width)/2:v;let E=r||h?b.top:b.bottom;E+=c?(b.height-y.height)/2:S;let k=!1;(p||C+y.width+t>window.innerWidth)&&(C=b.right-y.width-b.width-s,k=!0),E+y.height+n>window.innerHeight&&(E=u?window.innerHeight-y.height-n-12:Math.max(E-y.height,0)),g.style.transform=`translate3d(${C}px, ${E}px, 0)`,h&&(f.style.top=`${Math.min(b.top-E+f.offsetHeight/2+d,y.height-28)}px`,f.classList.toggle("faceLeft",k))}handlePopoverClick(){const{onOpen:e}=this.props;e&&e()}handleDocumentClick(e){const{open:t,onClose:n}=this.props,i=this.nodeRefs.container;t&&n&&i&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.container.contains(e.target)&&e.stopPropagation(),this.nodeRefs.popover&&this.nodeRefs.popover.contains(e.target)||n())}handleKeyDown(e){const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&t()}handleResize(){requestAnimationFrame(this.positionPopover)}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("resize",this.handleResize)}renderAnchor(){const{faceLeft:e}=this.props,t=Object(r.a)("popoverAnchor",{faceLeft:e});return i.default.h("div",{ref:Object(l.a)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n}=this.props,s=Object(r.a)("popoverContent",n),a="function"==typeof e?e():e;return i.default.h("div",{onClick:c.N,class:s,ref:Object(l.a)(this,"popover")},t&&this.renderAnchor(),a)}render(){const{open:e,children:t,portalInto:n,class:s}=this.props,a=Object(r.a)(s,"popoverContainer");return i.default.h("div",{ref:Object(l.a)(this,"container"),class:a,onClick:this.handlePopoverClick},t,e&&i.default.h(o.a,{didRender:this.positionPopover,into:n},this.renderPopoverContent()))}}u.defaultProps={offsetX:0,offsetY:0,left:0,top:0,anchorTop:0},u.propTypes={open:a.a.bool.isRequired,children:a.a.element.isRequired,onClose:a.a.func.isRequired,onOpen:a.a.func.isRequired,portalInto:a.a.element,contentClass:a.a.string,class:a.a.string,offsetX:a.a.number,offsetY:a.a.number,targetNode:a.a.node,left:a.a.number,top:a.a.number,faceLeft:a.a.bool,faceTop:a.a.bool,centerX:a.a.bool,anchorTop:a.a.number,openToLeft:a.a.bool},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(8),o=n(90),r=n(18),l=n(393),c=n(394);t.a=function(e,t){const n=t.notificationLastReadTime<new Date(e.updated),d=e.events,u=d?d[0]:null;switch(e.actionName){case"AddProjectExtension":case"AddStyleguideExtension":{const o=u.extension,l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,d=e.params[l],h=Object(s.u)(d.type),p=e.params.source,m=Object(a.f)(p).src,g=Object(s.P)(l,{url:{bid:d._id},query:{eid:o._id}});return i.default.h(c.b,{onClick:t.onClick,link:g,avatarUrl:m,barrelName:d.name,platform:h,extensionName:o.name,usernames:[p.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ActivateProject":case"ActivateStyleguide":{const o=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[o],d=e.params.source,h=Object(a.f)(d).src,p=Object(s.P)(o,{url:{bid:l._id}});return i.default.h(c.a,{barrelType:o,onClick:t.onClick,link:p,avatarUrl:h,usernames:[d.username],barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}case"ArchiveProject":case"ArchiveStyleguide":{const s=u.project?r.a.PROJECT:r.a.STYLEGUIDE,o=u[s],l=e.params.source,d=Object(a.f)(l).src;return i.default.h(c.d,{barrelType:s,onClick:t.onClick,avatarUrl:d,usernames:[l.username],barrelNames:[o.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AuthProjectSlack":case"AuthStyleguideSlack":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,o=u[a],l=e.params.source,d=Object(s.P)(a,{url:{bid:o._id}});return i.default.h(c.f,{onClick:t.onClick,link:d,usernames:[l.username],barrelName:o.name,slackChannelName:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateAnnouncement":{if(!("webURI"in e.action))return null;const s=e.action.webURI;return i.default.h(c.c,{onClick:t.onClick,link:s||"#",disabled:!s,usernames:[e.params.source.username],content:Object(l.a)(e.content),updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponent":case"CreateStyleguideComponent":{const o=e.params.source,l=Object(a.f)(o).src,h=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,p=e.params[h],m=Object(s.u)(p.type),g=d.map(e=>e.component.name),f=d.length>1?d.map(e=>e.component._id):u.component._id,b=Object(s.P)(h===r.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:p._id},query:{coid:f}});return i.default.h(c.j,{onClick:t.onClick,link:b,avatarUrl:l,barrelName:p.name,platform:m,componentNames:g,usernames:[o.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const o=e.params.source,l=Object(a.f)(o).src,h=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,p=e.params[h],m=Object(s.u)(p.type),g=d.map(e=>e.component.name),f=d.length>1?d.map(e=>e.component._id):u.component._id,b=Object(s.P)(h===r.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:p._id},query:{coid:f}});return i.default.h(c.k,{onClick:t.onClick,link:b,avatarUrl:l,barrelName:p.name,platform:m,componentNames:g,usernames:[o.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectColor":case"CreateStyleguideColor":{const a=d.map(e=>e.color),o=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,l=e.params[o],h=Object(s.u)(l.type),p=[e.params.source.username],m=d.length>1?d.map(e=>e.color._id):u.color._id,g=Object(s.P)(o===r.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:l._id},query:{cid:m}});return i.default.h(c.h,{onClick:t.onClick,link:g,barrelName:l.name,platform:h,usernames:p,colors:a,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateCoupon":return"webURI"in e.action?i.default.h(c.l,{onClick:t.onClick,link:e.action.webURI,content:Object(l.a)(e.content),updated:e.updated,unread:n,baseRef:t.ref}):null;case"CreateDot":{const o=1===d.length?e.content:null,r=e.params.project,l=e.params.screen,h=Object(a.f)(u.source).src,p=Array.from(new Set(d.map(e=>e.source.username))),m=Object(s.u)(r.type),g=d.length>1?d.map(e=>e.dot._id):u.dot._id,f=Object(s.P)("project-screen",{url:{pid:r._id,sid:l._id},query:{did:g}});return i.default.h(c.m,{onClick:t.onClick,link:f,avatarUrl:h,screenName:l.name,barrelName:r.name,platform:m,usernames:p,notes:d,content:o,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDot-Mention":{const o=u.dot,r=e.params.project,l=Object(s.u)(r.type),d=e.params.screen,h=Object(a.f)(u.source).src,p=[u.source.username],m=Object(s.P)("project-screen",{url:{pid:r._id,sid:d._id},query:{did:o._id,cmid:u.comment._id}});return i.default.h(c.g,{onClick:t.onClick,link:m,avatarUrl:h,barrelName:r.name,platform:l,screenName:d.name,noteName:o.name,usernames:p,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment-Mention":{const o=e.params.dot,r=o.name,l=e.params.project,d=Object(s.u)(l.type),h=e.params.screen,p=Object(a.f)(u.source).src,m=[u.source.username],g=Object(s.P)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:o._id,cmid:u.comment._id}});return i.default.h(c.g,{onClick:t.onClick,link:g,avatarUrl:p,barrelName:l.name,platform:d,screenName:h.name,noteName:r,usernames:m,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment":{const o=1===d.length?e.content:null,r=e.params.dot.name,l=e.params.project,h=e.params.screen,p=Object(a.f)(u.source).src,m=Array.from(new Set(d.map(e=>e.source.username))),g=Object(s.u)(l.type),f=d.length>1?d.map(e=>e.comment._id):u.comment._id,b=Object(s.P)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:e.params.dot._id,cmid:f}});return i.default.h(c.i,{onClick:t.onClick,link:b,avatarUrl:p,screenName:h.name,barrelName:l.name,platform:g,noteName:r,usernames:m,content:o,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateScreen":{const o=d.map(e=>e.screen),r=o.map(e=>e.name),l=o.map(e=>e._id),u=Object(a.f)(e.params.source).src,h=[e.params.source.username],p=e.params.project,m=Object(s.u)(p.type),g=d.length>1?Object(s.P)("project",{url:{bid:p._id},query:{sid:l}}):Object(s.P)("project-screen",{url:{pid:p._id,sid:l[0]}});return i.default.h(c.n,{onClick:t.onClick,link:g,avatarUrl:u,barrelName:p.name,platform:m,usernames:h,screenNames:r,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateScreenVersion":{const o=d.map(e=>e.screen),r=o.map(e=>e.name),l=o.map(e=>e._id),u=Object(a.f)(e.params.source).src,h=[e.params.source.username],p=e.params.project,m=Object(s.u)(p.type),g=d.length>1?Object(s.P)("project",{url:{bid:p._id},query:{sid:l}}):Object(s.P)("project-screen",{url:{pid:p._id,sid:l[0]}});return i.default.h(c.o,{onClick:t.onClick,link:g,avatarUrl:u,barrelName:p.name,platform:m,usernames:h,screenNames:r,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":{const a=d.map(e=>e.textStyle),l=a.map(e=>new o.a(e).name),u=a.map(e=>e._id),h=[e.params.source.username],p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,m=e.params[p],g=Object(s.u)(m.type),f=a.length>1?u:u[0],b=Object(s.P)(p===r.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:m._id},query:{tsid:f}});return i.default.h(c.p,{onClick:t.onClick,link:b,barrelName:m.name,platform:g,usernames:h,textStyles:l,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectColor":case"DeleteStyleguideColor":{const a=d.map(e=>e.color),o=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,l=e.params[o],u=Object(s.u)(l.type),h=[e.params.source.username];return i.default.h(c.r,{barrelName:l.name,platform:u,usernames:h,colors:a,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectComponent":case"DeleteStyleguideComponent":{const o=e.params.source,l=Object(a.f)(o).src,u=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[u],p=Object(s.u)(h.type),m=d.map(e=>e.component.name);return i.default.h(c.s,{avatarUrl:l,barrelName:h.name,platform:p,componentNames:m,usernames:[o.username],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteScreen":{const o=d.map(e=>e.screen).map(e=>e.name),r=Object(a.f)(e.params.source).src,l=[e.params.source.username],u=e.params.project,h=Object(s.u)(u.type);return i.default.h(c.u,{avatarUrl:r,barrelName:u.name,platform:h,usernames:l,screenNames:o,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProject":case"DeleteStyleguide":{const s=e.params.source,o=Object(a.f)(s).src,l=u.project?r.a.PROJECT:r.a.STYLEGUIDE,d=u[l].name;return i.default.h(c.q,{barrelType:l,avatarUrl:o,usernames:[s.username],barrelNames:[d],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectTextStyle":case"DeleteStyleguideTextStyle":{const a=d.map(e=>e.textStyle).map(e=>new o.a(e).name),l=[e.params.source.username],u=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[u],p=Object(s.u)(h.type);return i.default.h(c.v,{barrelName:h.name,platform:p,usernames:l,textStyles:a,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveExtensionFromProject":case"RemoveExtensionFromStyleguide":{const o=u.extension,l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,d=e.params[l],h=Object(s.u)(d.type),p=e.params.source,m=Object(a.f)(p).src;return i.default.h(c.t,{avatarUrl:m,barrelName:d.name,platform:h,extensionName:o.name,usernames:[p.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ResolveDot":{const o=d.map(e=>e.dot.name),r=Object(a.f)(u.source).src,l=e.params.screen,h=e.params.project,p=Object(s.u)(h.type),m=Array.from(new Set(d.map(e=>e.source.username))),g=d.length>1?d.map(e=>e.dot._id):u.dot._id,f=Object(s.P)("project-screen",{url:{pid:h._id,sid:l._id},query:{did:g}});return i.default.h(c.A,{onClick:t.onClick,link:f,avatarUrl:r,barrelName:h.name,platform:p,screenName:l.name,usernames:m,notes:o,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateOrganizationMemberRole":{const o=d[d.length-1],r=o.user.role,l=o.source,u=e.params.organization,h=[l.username],p=Object(a.f)(l).src,m=Object(s.P)("organization-dashboard",{url:{oid:u._id}});return i.default.h(c.D,{onClick:t.onClick,link:m,avatarUrl:p,roleName:r,organizationName:u.name,usernames:h,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectColor":case"UpdateStyleguideColor":{const a=d.map(e=>e.color),o=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,l=e.params[o],h=Object(s.u)(l.type),p=[e.params.source.username],m=d.length>1?d.map(e=>e.color._id):u.color._id,g=Object(s.P)(o===r.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:l._id},query:{cid:m}});return i.default.h(c.C,{onClick:t.onClick,link:g,barrelName:l.name,platform:h,colors:a,usernames:p,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectUserRole":case"UpdateStyleguideUserRole":{const o=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[o],h=d.map(e=>e[o].name),p=e.params.source,m=Object(a.f)(p).src,g=[p.username],f=d.length>1?{query:{bid:d.map(e=>e[o]._id)}}:{url:{bid:l._id}},b=d.length>1?`${o}s`:o,y=Object(s.P)(b,f);return i.default.h(c.e,{barrelType:o,onClick:t.onClick,link:y,avatarUrl:m,barrelNames:h,usernames:g,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":{const a=d.map(e=>e.textStyle),l=a.map(e=>new o.a(e).name),u=a.map(e=>e._id),h=[e.params.source.username],p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,m=e.params[p],g=Object(s.u)(m.type),f=a.length>1?u:u[0],b=Object(s.P)(p===r.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:m._id},query:{tsid:f}});return i.default.h(c.E,{onClick:t.onClick,link:b,barrelName:m.name,platform:g,usernames:h,textStyles:l,updated:e.updated,unread:n,baseRef:t.ref})}case"UserJoined":{const o=Object(a.f)(u.member).src,l=Array.from(new Set(d.map(e=>e.member.username))),h=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,p=e.params[h],m=Object(s.P)(h,{url:{bid:p._id}});return i.default.h(c.y,{onClick:t.onClick,link:m,avatarUrl:o,barrelNames:[p.name],usernames:l,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveUserFromProject":case"RemoveUserFromStyleguide":{const s=e.params.source,o=Object(a.f)(s).src,l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,d=e.params[l];return i.default.h(c.z,{avatarUrl:o,barrelNames:[d.name],usernames:[s.username],updated:e.updated,unread:n,baseRef:t.ref})}case"InviteMember":{const o=e.params.source,r=[o.username],l=Object(a.f)(o).src,d=e.params.organization,u=Object(s.P)("organization-dashboard",{url:{oid:d._id}});return i.default.h(c.w,{onClick:t.onClick,link:u,avatarUrl:l,organizationName:d.name,usernames:r,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteProjectUser":case"InviteStyleguideUser":{const o=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[o],h=[e.params.source.username],p=Object(a.f)(e.params.source).src,m=d.map(e=>e[o].name),g=d.length>1?{query:{bid:d.map(e=>e[o]._id)}}:{url:{bid:l._id}},f=d.length>1?`${o}s`:o,b=Object(s.P)(f,g);return i.default.h(c.x,{barrelType:o,onClick:t.onClick,link:b,avatarUrl:p,barrelNames:m,usernames:h,updated:e.updated,unread:n,baseRef:t.ref})}case"TransferProjectOwnership":case"TransferStyleguideOwnership":{const o=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[o],d=e.params.source,h=[d.username],p=Object(a.f)(d).src,m=Object(s.P)(o,{url:{bid:l._id}});return i.default.h(c.B,{onClick:t.onClick,link:m,avatarUrl:p,usernames:h,barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}default:return null}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),s=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";var i=n(0);t.a=(e=>{const t=e.split(/\*([^*]+)\*/g).map((e,t)=>t%2?i.default.h("strong",{key:e+t},e):e);return i.default.h("span",null,t)})},function(e,t,n){"use strict";var i=n(395),s=n(406),a=n(411),o=n(414),r=n(418),l=n(424),c=n(426),d=n(428),u=n(430),h=n(432),p=n(435),m=n(439),g=n(442),f=n(445),b=n(448),y=n(451),v=n(453),S=n(455),C=n(458),E=n(461),k=n(463),O=n(465),D=n(467),w=n(469),j=n(471),T=n(473),_=n(476),x=n(479),R=n(481),I=n(483),P=n(485);n.d(t,"m",function(){return i.a}),n.d(t,"n",function(){return s.a}),n.d(t,"o",function(){return a.a}),n.d(t,"y",function(){return o.a}),n.d(t,"C",function(){return r.a}),n.d(t,"j",function(){return l.a}),n.d(t,"k",function(){return c.a}),n.d(t,"s",function(){return d.a}),n.d(t,"x",function(){return u.a}),n.d(t,"w",function(){return h.a}),n.d(t,"D",function(){return p.a}),n.d(t,"c",function(){return m.a}),n.d(t,"A",function(){return g.a}),n.d(t,"i",function(){return f.a}),n.d(t,"g",function(){return b.a}),n.d(t,"u",function(){return y.a}),n.d(t,"z",function(){return v.a}),n.d(t,"b",function(){return S.a}),n.d(t,"t",function(){return C.a}),n.d(t,"q",function(){return E.a}),n.d(t,"d",function(){return k.a}),n.d(t,"a",function(){return O.a}),n.d(t,"e",function(){return D.a}),n.d(t,"h",function(){return w.a}),n.d(t,"r",function(){return j.a}),n.d(t,"f",function(){return T.a}),n.d(t,"l",function(){return _.a}),n.d(t,"p",function(){return x.a}),n.d(t,"v",function(){return R.a}),n.d(t,"E",function(){return I.a}),n.d(t,"B",function(){return P.a})},function(e,t,n){"use strict";var i=n(396);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(36),c=n(23),d=n(14),u=n(11),h=n(7),p=n(405);n.n(p);function m(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:p,notes:m,content:g,avatarUrl:f,updated:b,link:y,unread:v,onClick:S}=e,C=n.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(r.a,{avatarUrl:f,subIconType:u.a.NOTE}),E=[i.default.h(d.a,{key:"username",usernames:n}),` added ${Object(h.e)(m.length,"note")} to `,i.default.h("span",{key:"span",class:"screenName"},s),g?":":"."],k=i.default.h("div",{class:"contentWrapper ellipsis"},g),O=i.default.h(c.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"createDot",onClick:S,icon:C,header:E,content:k,footer:O,unread:v,updated:b,link:y})}m.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=m},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(122),r=n(2),l=n(398);n.n(l);function c(e){const{unread:t,disabled:n,link:s,linkTarget:a,icon:l,header:c,content:d,footer:u,updated:h,onClick:p,class:m,baseRef:g}=e,f=Object(r.a)("notificationItem",{disabled:n,unread:t},m);return i.default.h("a",{ref:g,onClick:n?null:p,target:a,class:f,href:s,"data-link-type":"inApp"},l&&i.default.h("div",{class:"notificationIcon"},l),i.default.h("div",{class:"notificationBody"},c&&i.default.h("div",{class:"notificationHeader"},c),d&&i.default.h("div",{class:"notificationContent"},d),i.default.h("div",{class:"notificationFooter"},u,i.default.h(o.a,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:h}))))}c.propTypes={icon:a.a.node,header:a.a.node,content:a.a.node,footer:a.a.node,unread:a.a.bool,disabled:a.a.bool,link:a.a.string.isRequired,linkTarget:a.a.string,class:a.a.string,updated:a.a.string.isRequired,onClick:a.a.func},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(69),r=n(400);function l(e){const{type:t,class:n}=e,s=r.a[t],a=s.responsive?o.a:"img",l={[s.responsive?"asset":"src"]:s.source,alt:s.alt,class:n};return i.default.h(a,l)}l.propTypes={avatar:a.a.bool,type:a.a.string},t.a=l},function(e,t,n){"use strict";var i=n(11),s=n(6);const a={[i.a.ADD]:{source:Object(s.e)("img/ntf/icAdd.svg"),alt:"+"},[i.a.DELETE]:{source:Object(s.e)("img/ntf/icDelete.svg"),alt:"-"},[i.a.PERSON]:{source:Object(s.e)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.a.NOTE]:{source:Object(s.e)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.a.TRANSFER]:{source:Object(s.e)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.a.ARCHIVE]:{source:Object(s.e)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.a.ACTIVATE]:{source:Object(s.e)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.a.STAR]:{source:Object(s.e)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.a.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.a.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.a.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.a.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.a.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.a.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.a.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0}};t.a=a},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(403);n.n(o);function r(e){const{name:t,platform:n}=e;return i.default.h("div",{class:"barrel"},i.default.h("span",{class:"name ellipsis",title:t},t),"  ",i.default.h("span",{class:"platform"},n))}r.propTypes={name:a.a.string.isRequired,type:a.a.string.isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s);const o=3;function r(e){const{usernames:t=[]}=e;let n,s,a;return 0===t.length?null:(1===t.length?n=t[0]:t.length>o?(n=t.slice(0,o).join(", "),s=`${t.length-o} more people`,a=t.slice(o).join("\n")):(s=t.pop(),n=t.join(", ")),i.default.h("span",null,n,s&&i.default.h("span",{title:a}," and ",s)))}r.propTypes={usernames:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(407);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11),h=n(410);n.n(h);function p(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,content:h,platform:p,avatarUrl:m,link:g,unread:f,updated:b,onClick:y}=e,v=i.default.h(r.a,{avatarUrl:m,subIconType:u.a.ADD}),S=s.length>1,C=[i.default.h(c.a,{key:"usernames",usernames:n}),S?" added ":" added a screen: ",i.default.h(d.a,{key:"screenNames",names:s}),S?" screens.":"."],E=h?i.default.h("div",{class:"contentWrapper ellipsis"},h):null,k=i.default.h(l.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"createScreen",onClick:y,icon:v,header:C,footer:k,unread:f,content:E,updated:b,link:g})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(409);n.n(o);function r(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.default.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.default.h("span",{class:"multiName",title:n},t.length)}r.propTypes={names:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(412);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11),h=n(413);n.n(h);function p(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,platform:h,avatarUrl:p,updated:m,link:g,content:f,unread:b,onClick:y}=e,v=i.default.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),S=s.length>1,C=[i.default.h(c.a,{key:"usernames",usernames:n}),S?" added versions to ":" added a version to ",i.default.h(d.a,{key:"screenNames",names:s}),S?" screens.":" screen."],E=f?i.default.h("div",{class:"contentWrapper ellipsis"},f):null,k=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"createScreenVersion",onClick:y,icon:v,header:C,footer:k,unread:b,content:E,updated:m,link:g})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(415);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(36),c=n(63),d=n(14),u=n(11);function h(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:h,link:p,unread:m,onClick:g}=e,f=n.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.PERSON}):i.default.h(r.a,{avatarUrl:a,subIconType:u.a.PERSON}),b=[i.default.h(d.a,{key:"usernames",usernames:n})," joined ",i.default.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.default.h(o.a,{baseRef:t,class:"newMember",onClick:g,icon:f,header:b,updated:h,unread:m,link:p})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=h},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(417);n.n(o);function r(e){const{barrelNames:t=[]}=e;let n,s;return 0===t.length?null:(1===t.length?n=t[0]:(s=t.pop(),n=t.join(", ")),i.default.h("span",null,i.default.h("span",{class:"barrelName"},n),s&&[" and ",i.default.h("span",{key:"tail",class:"barrelName"},s)]))}r.propTypes={barrelNames:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(419);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(139),c=n(23),d=n(14),u=n(140),h=n(11);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:m,link:g,unread:f,onClick:b}=e,y=s.length>1?i.default.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.default.h(l.a,{color:s[0],subIconType:h.a.ADD}),v=s.length>1,S=[i.default.h(d.a,{key:"usernames",usernames:n}),v?" updated ":" updated a color: ",i.default.h(u.a,{key:"colors",platform:p,colors:s}),v?" colors.":"."],C=i.default.h(c.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"updateColor",onClick:b,icon:y,header:S,footer:C,unread:f,updated:m,link:g})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),colors:a.a.arrayOf(a.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(138),r=n(35),l=n(421);n.n(l);function c(e){const{color:t,subIconType:n}=e;return i.default.h(o.a,{subIconType:n},i.default.h("div",{class:"colorPreviewWrapper"},i.default.h("div",{class:"colorPreview",style:{backgroundColor:new r.a(t).toCSS()}})))}c.propTypes={color:a.a.string.isRequired,subIconType:a.a.string},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(35),r=n(423);n.n(r);function l(e){const{platform:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new o.a(n[0]);return i.default.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const s=n.map(e=>{const n=new o.a(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.default.h("span",{class:"colorName",title:s},n.length)}l.propTypes={platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object).isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(425);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:m,link:g,unread:f,onClick:b}=e,y=i.default.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),v=s.length>1,S=[i.default.h(c.a,{key:"usernames",usernames:n}),v?" added ":" added a component: ",i.default.h(d.a,{key:"componentNames",names:s}),v?" components.":"."],C=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"createComponent",onClick:b,icon:y,header:S,footer:C,unread:f,updated:m,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(427);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:m,link:g,unread:f,onClick:b}=e,y=i.default.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),v=s.length>1,S=[i.default.h(c.a,{key:"usernames",usernames:n}),v?" added versions to ":" added a version to ",i.default.h(d.a,{key:"componentNames",names:s}),v?" components.":" component."],C=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"createComponentVersion",onClick:b,icon:y,header:S,footer:C,unread:f,updated:m,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(429);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:m,unread:g}=e,f=i.default.h(r.a,{avatarUrl:p,subIconType:u.a.DELETE}),b=s.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:n}),b?" removed ":" removed a component: ",i.default.h(d.a,{key:"componentNames",names:s}),b?" components.":"."],v=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"deleteComponent",icon:f,header:y,footer:v,unread:g,updated:m,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(431);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:m,barrelType:g}=e,f=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.PERSON}),b=s.length>1,y=[i.default.h(l.a,{key:"usernames",usernames:n}),b?` invited you to ${s.length} ${g}s: `:" invited you to ",i.default.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.default.h(o.a,{baseRef:t,class:"inviteUser",onClick:m,icon:f,header:y,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(433);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(11),d=n(434);n.n(d);function u(e){const{baseRef:t,usernames:n,organizationName:s,avatarUrl:a,updated:d,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{avatarUrl:a,subIconType:c.a.PERSON}),g=[i.default.h(l.a,{key:"usernames",usernames:n})," invited you to ",i.default.h("span",{key:"organizationName",class:"organizationName"},s)," organization."];return i.default.h(o.a,{baseRef:t,class:"inviteMember",onClick:p,icon:m,header:g,updated:d,unread:h,link:u})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,organizationName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(436);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(69),d=n(11),u=n(437),h=n(438);n.n(h);function p(e){const{baseRef:t,usernames:n,roleName:s,organizationName:a,avatarUrl:h,updated:p,link:m,unread:g,onClick:f}=e,b=u.a[s],y=i.default.h(r.a,{avatarUrl:h,subIconType:d.a.PERSON}),v=[i.default.h(l.a,{key:"usernames",usernames:n})," assigned you as ",i.default.h("span",{key:"roleName",class:"roleName"},b.name)," ",i.default.h(c.a,{key:"roleIcon",class:"roleIcon",asset:b.icon})," on ",i.default.h("span",{key:"organizationName",class:"organizationName"},a)," organization."];return i.default.h(o.a,{baseRef:t,class:"updateOrganizationMemberRole",onClick:f,icon:y,header:v,updated:p,unread:g,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,roleName:a.a.string.isRequired,organizationName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";t.a={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Member",icon:"img/icKnight.png"}}},function(e,t){},function(e,t,n){"use strict";var i=n(440);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(14),c=n(11),d=n(441);n.n(d);function u(e){const{baseRef:t,usernames:n,content:s,updated:a,link:d,unread:u,onClick:h,disabled:p}=e,m=i.default.h(r.a,{iconType:c.a.UPDATE}),g=i.default.h("div",{class:"contentWrapper"},s),f=i.default.h(l.a,{usernames:n});return i.default.h(o.a,{baseRef:t,class:"announcement",onClick:h,icon:m,content:g,footer:f,unread:u,updated:a,disabled:p,link:d,linkTarget:"_blank"})}u.propTypes={onClick:a.a.func,disabled:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(443);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(36),c=n(23),d=n(14),u=n(11),h=n(7),p=n(444);n.n(p);function m(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:p,notes:m,avatarUrl:g,updated:f,link:b,unread:y,onClick:v}=e,S=n.length>1?i.default.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(r.a,{avatarUrl:g,subIconType:u.a.NOTE}),C=[i.default.h(d.a,{key:"usernames",usernames:n}),` resolved ${Object(h.e)(m.length,"note")} on `,i.default.h("span",{key:"screenName",class:"screenName"},s),"."],E=i.default.h(c.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"resolveDot",onClick:v,icon:S,header:C,footer:E,unread:y,updated:f,link:b})}m.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=m},function(e,t){},function(e,t,n){"use strict";var i=n(446);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(19),c=n(23),d=n(14),u=n(11),h=n(447);n.n(h);function p(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:h,noteName:p,content:m,avatarUrl:g,updated:f,link:b,unread:y,onClick:v}=e,S=n.length>1?i.default.h(r.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.default.h(l.a,{avatarUrl:g,subIconType:u.a.NOTE}),C=i.default.h("div",{class:"contentWrapper ellipsis"},m),E=[i.default.h(d.a,{key:"usernames",usernames:n})," replied to note ",i.default.h("span",{key:"noteName",class:"noteName"},p)," on ",i.default.h("span",{key:"screenName",class:"screenName"},s),m?":":"."],k=i.default.h(c.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"createComment",onClick:v,icon:S,header:E,content:C,footer:k,unread:y,updated:f,link:b})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(449);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(11),u=n(450);n.n(u);function h(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:u,noteName:h,content:p,avatarUrl:m,updated:g,link:f,unread:b,onClick:y}=e,v=i.default.h(r.a,{avatarUrl:m,subIconType:d.a.MENTION}),S=[i.default.h(c.a,{key:"usernames",usernames:n})," mentioned you in note ",i.default.h("span",{key:"noteName",class:"noteName"},h)," on ",i.default.h("span",{key:"screenName",class:"screenName"},s),p?":":"."],C=i.default.h("div",{class:"contentWrapper ellipsis"},p),E=i.default.h(l.a,{name:a,platform:u});return i.default.h(o.a,{baseRef:t,class:"commentMention",onClick:y,icon:v,header:S,content:C,footer:E,unread:b,updated:g,link:f})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(452);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,platform:h,avatarUrl:p,updated:m,unread:g}=e,f=i.default.h(r.a,{avatarUrl:p,subIconType:u.a.DELETE}),b=s.length>1,y=[i.default.h(c.a,{key:"usernames",usernames:n}),b?" deleted ":" deleted a screen: ",i.default.h(d.a,{key:"screenNames",names:s}),b?" screens.":"."],v=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"deleteScreen",icon:f,header:y,footer:v,unread:g,updated:m,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(454);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(63),c=n(14),d=n(11);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,unread:h}=e,p=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.DELETE}),m=[i.default.h(c.a,{key:"usernames",usernames:n})," removed you from ",i.default.h(l.a,{key:"barrelNames",barrelNames:s}),"."];return i.default.h(o.a,{baseRef:t,class:"removeUser",icon:p,header:m,updated:u,unread:h,disabled:!0})}u.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(456);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(11),u=n(457);n.n(u);function h(e){const{baseRef:t,usernames:n,barrelName:s,platform:a,extensionName:u,avatarUrl:h,updated:p,link:m,unread:g,onClick:f}=e,b=i.default.h(r.a,{avatarUrl:h,subIconType:d.a.ADD}),y=[i.default.h(c.a,{key:"usernames",usernames:n})," added an extension: ",i.default.h("span",{key:"extensionName",class:"extensionName"},u),"."],v=i.default.h(l.a,{name:s,platform:a});return i.default.h(o.a,{baseRef:t,class:"addExtension",onClick:f,icon:b,header:y,footer:v,unread:g,updated:p,link:m})}h.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(459);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(23),c=n(14),d=n(11),u=n(460);n.n(u);function h(e){const{baseRef:t,usernames:n,barrelName:s,platform:a,extensionName:u,avatarUrl:h,updated:p,unread:m}=e,g=i.default.h(r.a,{avatarUrl:h,subIconType:d.a.DELETE}),f=[i.default.h(c.a,{key:"usernames",usernames:n})," removed an extension: ",i.default.h("span",{key:"extensionName",class:"extensionName"},u),"."],b=i.default.h(l.a,{name:s,platform:a});return i.default.h(o.a,{baseRef:t,class:"deleteExtension",icon:g,header:f,footer:b,unread:m,updated:p,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(462);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,barrelType:n,usernames:s,barrelNames:a,content:u,avatarUrl:h,updated:p,unread:m}=e,g=i.default.h(r.a,{avatarUrl:h,subIconType:d.a.DELETE}),f=[i.default.h(l.a,{key:"usernames",usernames:s}),` deleted a ${n}: `,i.default.h(c.a,{key:"barrelNames",barrelNames:a}),"."];return i.default.h(o.a,{baseRef:t,icon:g,header:f,content:u,updated:p,unread:m,disabled:!0})}u.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=u},function(e,t,n){"use strict";var i=n(464);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:m,barrelType:g}=e,f=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.ARCHIVE}),b=[i.default.h(l.a,{key:"usernames",usernames:n}),` archived a ${g}: `,i.default.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.default.h(o.a,{baseRef:t,onClick:m,icon:f,header:b,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(466);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:m,barrelType:g}=e,f=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.ACTIVATE}),b=[i.default.h(l.a,{key:"usernames",usernames:n}),` activated a ${g}: `,i.default.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.default.h(o.a,{baseRef:t,onClick:m,icon:f,header:b,unread:p,updated:u,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(468);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,barrelType:n,usernames:s,barrelNames:a,avatarUrl:u,updated:h,link:p,unread:m,onClick:g}=e,f=i.default.h(r.a,{avatarUrl:u,subIconType:d.a.ADMIN}),b=a.length>1,y=[i.default.h(l.a,{key:"usernames",usernames:s}),b?` assigned you as an admin on ${a.length} ${n}s: `:" assigned you as an admin on ",i.default.h(c.a,{key:"barrelNames",barrelNames:a}),"."];return i.default.h(o.a,{baseRef:t,class:"assignAdmin",onClick:g,icon:f,header:y,updated:h,unread:m,link:p})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(470);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(139),l=n(36),c=n(23),d=n(14),u=n(140),h=n(11);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:m,link:g,unread:f,onClick:b}=e,y=s.length>1?i.default.h(l.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.default.h(r.a,{color:s[0],subIconType:h.a.ADD}),v=s.length>1,S=[i.default.h(d.a,{key:"usernames",usernames:n}),v?" added ":" added a color: ",i.default.h(u.a,{key:"colors",platform:p,colors:s}),v?" colors.":"."],C=i.default.h(c.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"createColor",onClick:b,icon:y,header:S,footer:C,unread:f,updated:m,link:g})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";var i=n(472);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(139),c=n(23),d=n(14),u=n(140),h=n(11);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:m,unread:g}=e,f=s.length>1?i.default.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.DELETE}):i.default.h(l.a,{color:s[0],subIconType:h.a.DELETE}),b=s.length>1,y=[i.default.h(d.a,{key:"usernames",usernames:n}),b?" removed ":" removed a color: ",i.default.h(u.a,{key:"colors",platform:p,colors:s}),b?" colors.":"."],v=i.default.h(c.a,{name:a,platform:p});return i.default.h(o.a,{baseRef:t,class:"deleteColor",icon:f,header:y,footer:v,unread:g,updated:m,disabled:!0})}p.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),colors:a.a.arrayOf(a.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(474);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(14),c=n(11),d=n(475);n.n(d);function u(e){const{baseRef:t,usernames:n,barrelName:s,slackChannelName:a,updated:d,link:u,unread:h,onClick:p}=e,m=i.default.h(r.a,{iconType:c.a.SLACK}),g=[i.default.h(l.a,{key:"usernames",usernames:n})," connected ",i.default.h("span",{key:"barrelName",class:"barrelName"},s)," to Slack channel ",i.default.h("span",{key:"slackChannelName",class:"slackChannelName"},a),"."];return i.default.h(o.a,{baseRef:t,class:"authSlack",onClick:p,icon:m,header:g,updated:d,unread:h,link:u})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,slackChannelName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(477);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(11),c=n(478);n.n(c);function d(e){const{baseRef:t,updated:n,link:s,content:a,unread:c,onClick:d}=e,u=i.default.h("div",{class:"iconWrapper"},i.default.h(r.a,{iconType:l.a.STAR})),h=i.default.h("div",{class:"contentWrapper"},a);return i.default.h(o.a,{baseRef:t,class:"createCoupon",onClick:d,icon:u,content:h,updated:n,unread:c,link:s})}d.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,content:a.a.string},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(480);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,link:m,unread:g,onClick:f}=e,b=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),y=s.length>1,v=[i.default.h(c.a,{key:"usernames",usernames:n}),y?" added ":" added a text style: ",i.default.h(d.a,{key:"textStyles",names:s}),y?" text styles.":"."],S=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"createTextStyle",onClick:f,icon:b,header:v,footer:S,unread:g,updated:p,link:m})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(482);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,unread:m}=e,g=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.DELETE}),f=s.length>1,b=[i.default.h(c.a,{key:"usernames",usernames:n}),f?" removed ":" removed a text style: ",i.default.h(d.a,{key:"textStyles",names:s}),f?" text styles.":"."],y=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"deleteTextStyle",icon:g,header:b,footer:y,unread:m,updated:p,disabled:!0})}h.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(484);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(36),l=n(23),c=n(14),d=n(55),u=n(11);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,link:m,unread:g,onClick:f}=e,b=i.default.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),y=s.length>1,v=[i.default.h(c.a,{key:"usernames",usernames:n}),y?" updated ":" updated a text style: ",i.default.h(d.a,{key:"textStyles",names:s}),y?" text styles.":"."],S=i.default.h(l.a,{name:a,platform:h});return i.default.h(o.a,{baseRef:t,class:"deleteTextStyle",onClick:f,icon:b,header:v,footer:S,unread:g,updated:p,link:m})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(486);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(12),r=n(19),l=n(14),c=n(63),d=n(11);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:m}=e,g=i.default.h(r.a,{avatarUrl:a,subIconType:d.a.TRANSFER}),f=[i.default.h(l.a,{key:"usernames",usernames:n})," transfered the ownership of ",i.default.h(c.a,{key:"barrelNames",barrelNames:s})," to you."];return i.default.h(o.a,{baseRef:t,onClick:m,icon:g,header:f,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(489),a=n(505),o=n(27),r=n(33),l=n(39),c=n(37),d=n(62),u=n(2),h=n(4),p=n(6),m=n(123),g=n(77),f=n(261),b=n(1),y=n(95),v=n(520);n.n(v);const S=(e,t)=>e?Object(p.b)(e):t||null;class C extends i.default.Component{constructor(e){super(e),this.renderEmotarsSection=this.renderEmotarsSection.bind(this),this.renderUserMenuSection=this.renderUserMenuSection.bind(this),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this),this.setContainerHeight=this.setContainerHeight.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this)}setContainerHeight(){const e=this.nodeRefs[this.props.selectedView].getBoundingClientRect().height;if(e!==this.nodeRefs.container.getBoundingClientRect().height){const t=window.innerHeight-148,n=Math.min(e,t);this.nodeRefs.container.style.height=n+"px",this.nodeRefs.container.classList.toggle("scrolling",n<e)}}handleUserMenuSelect(){this.props.onSelectedViewChange(f.b)}handleEmotarsSelect(){this.props.onSelectedViewChange(f.a)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}handleWindowResize(){Object(b.g)(this.setContainerHeight)}componentDidMount(){this.setContainerHeight(),window.addEventListener("resize",this.handleWindowResize)}componentDidUpdate(e,t){this.setContainerHeight()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}renderEmotarsSection(){const{avatarUrl:e,selectedEmotar:t,selectedView:n}=this.props,s=Object(u.a)("emotarsSection",{out:n!==f.a});return i.default.h("section",{class:s,ref:Object(h.a)(this,f.a)},i.default.h(a.a,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{avatarUrl:e,username:t,email:n,selectedEmotar:a,organizations:o,verified:r,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:p,onDesktopNotificationToggle:m,onUpdatePlanClick:g,onLogout:b,selectedView:y}=this.props,v=Object(u.a)("userMenuSection",{out:y!==f.b}),C=S(a,e);return i.default.h("section",{class:v,ref:Object(h.a)(this,f.b)},i.default.h(s.a,{avatarUrl:C,username:t,email:n,organizations:o,verified:r,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:g,onEmailNotificationToggle:p,onDesktopNotificationToggle:m,onLogoutClick:b,onAvatarClick:this.handleEmotarsSelect}))}render(){return i.default.h("div",{ref:Object(h.a)(this,"container"),class:"userMenuContainer"},this.renderUserMenuSection(),this.renderEmotarsSection())}}t.a=Object(l.a)(class extends i.default.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(e,t){return Object.assign({},m.b.getState(),g.d.getState())}static getStores(){return[m.b,g.d]}registerUserSubscribers(){r.f.bind("UpdateUsername",this.updateUsernameHandler),r.f.bind("UpdateEmail",this.updateEmailHandler),r.f.bind("UpdateUserEmotar",this.updateUserEmotarHandler),r.f.bind("UpdateUserAvatar",this.updateUserAvatarHandler),r.f.bind("VerifyUser",this.verifyUserHandler),r.f.bind("UpdateEmailNotifications",this.updateEmailNotificationsHandler),r.f.bind("CreateOrganization",this.createOrganizationHandler),r.f.bind("InviteOrganizationMembers",this.inviteOrganizationMembersHandler)}unregisterUserSubscribers(){r.f.unbind("UpdateUsername",this.updateUsernameHandler),r.f.unbind("UpdateEmail",this.updateEmailHandler),r.f.unbind("UpdateUserEmotar",this.updateUserEmotarHandler),r.f.unbind("UpdateUserAvatar",this.updateUserAvatarHandler),r.f.unbind("VerifyUser",this.verifyUserHandler),r.f.unbind("UpdateEmailNotifications",this.updateEmailNotificationsHandler),r.f.unbind("CreateOrganization",this.createOrganizationHandler),r.f.unbind("InviteOrganizationMembers",this.inviteOrganizationMembersHandler)}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;m.a.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{m.a.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?m.a.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(y.a)()})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),m.a.setSelectedView(f.b)}updateUsernameHandler(e){m.a.setUsername(e.body.username)}updateEmailHandler(e){m.a.setEmail(e.body.email)}updateUserEmotarHandler(e){m.a.setEmotar(e.body.emotar)}updateUserAvatarHandler(e){m.a.setAvatar(e.body.avatar)}verifyUserHandler(){m.a.setVerified()}updateEmailNotificationsHandler(e){m.a.setEmailNotifications(e.body.emailNotifications)}createOrganizationHandler(e){g.b.addOrganization(e.body)}inviteOrganizationMembersHandler(e){g.b.addOrganization(e.body)}componentDidMount(){this.registerUserSubscribers()}render(){const{username:e,email:t,avatar:n,emotar:s,verified:a,paymentPlan:r,organizations:l,isEmailNotificationEnabled:u,isDesktopNotificationEnabled:h,isDialogVisible:p,selectedView:g,showUserMenu:f}=this.state,b=i.default.h("div",null,i.default.h(C,{username:e,email:t,avatarUrl:n,verified:a,paymentPlan:r,selectedEmotar:s,organizations:l,selectedView:g,isDesktopNotificationEnabled:h,isEmailNotificationEnabled:u,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:m.a.setSelectedView,onEmotarChange:m.a.updateUserEmotar,onLogout:m.a.logout}),p&&i.default.h(o.a,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0})),y=S(s,n);return i.default.h(d.a,{open:f,content:b,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.default.h("button",{class:"currentUser noSelect",title:e},i.default.h(c.a,{width:"28",height:"28",src:y})))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(490);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(491),r=n(496),l=n(499),c=n(9),d=n(369),u=n(1),h=n(504);n.n(h);function p(){return i.default.h("div",{class:"menuSeparator"})}function m(e){const{avatarUrl:t,username:n,email:s,verified:a,paymentPlanName:h,organizations:m,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:f,onUpdatePlanClick:b,onDesktopNotificationToggle:y,onEmailNotificationToggle:v,onAvatarClick:S,onLogoutClick:C}=e;return i.default.h("div",{class:"userMenu"},i.default.h(o.a,{profileLink:"/profile",onAvatarClick:S,avatarUrl:t,username:n,info:s,verified:a}),m.length>0&&[i.default.h(p,{key:"separator"}),m.map(e=>{const t=Object(u.P)("organization-dashboard",{url:{oid:e._id}});return i.default.h(r.a,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationLink:t})})],i.default.h(p,null),0===m.length&&i.default.h(l.a,{onClick:b,menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:i.default.h(c.a,{class:"updatePlanButton"},"Update Plan")}),i.default.h(l.a,{onClick:y,menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:i.default.h(d.a,{checked:g})}),i.default.h(l.a,{onClick:v,menuLabel:"Email Notifications",actionContent:i.default.h(d.a,{checked:f})}),i.default.h(p,null),i.default.h(l.a,{onClick:C,menuLabel:"Log out"}))}m.propTypes={avatarUrl:a.a.string.isRequired,username:a.a.string.isRequired,email:a.a.string.isRequired,verified:a.a.bool.isRequired,paymentPlanName:a.a.string.isRequired,organizations:a.a.arrayOf(a.a.shape({logo:a.a.string.isRequired,name:a.a.string.isRequired,_id:a.a.string.isRequired})),isDesktopNotificationEnabled:a.a.bool.isRequired,isEmailNotificationEnabled:a.a.bool.isRequired,onUpdatePlanClick:a.a.func.isRequired,onDesktopNotificationToggle:a.a.func.isRequired,onEmailNotificationToggle:a.a.func.isRequired,onAvatarClick:a.a.func.isRequired,onLogoutClick:a.a.func.isRequired},t.a=m},function(e,t,n){"use strict";var i=n(492);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(260),r=n(495);n.n(r);class l extends i.default.Component{constructor(e){super(e),this.handleAvatarClick=this.handleAvatarClick.bind(this)}handleAvatarClick(e){const{onAvatarClick:t}=this.props;e.preventDefault(),t()}render(){const{avatarUrl:e,username:t,info:n,verified:s,profileLink:a}=this.props;return i.default.h("a",{class:"menuUserItem",href:a},i.default.h(o.a,{onClick:this.handleAvatarClick,type:"user",width:"64",height:"64",src:e}),i.default.h("div",{class:"infoContainer"},i.default.h("span",{class:"username ellipsis",title:t},t),i.default.h("span",{class:"info ellipsis"},n),!s&&i.default.h("span",{class:"status"},"Not verified yet.")))}}l.propTypes={avatarUrl:a.a.string.isRequired,username:a.a.string.isRequired,info:a.a.string.isRequired,profileLink:a.a.string.isRequired,onAvatarClick:a.a.func.isRequired,verified:a.a.bool},t.a=l},function(e,t,n){"use strict";var i=n(0),s=n(37),a=n(494);n.n(a);t.a=function(e){const t=Object.assign({},e);return delete t.onClick,i.default.h("div",{class:"updatableAvatar",onClick:e.onClick},i.default.h(s.a,t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(497);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(37),r=n(498);n.n(r);function l(e){const{avatarUrl:t,organizationName:n,organizationLink:s}=e;return i.default.h("a",{class:"menuOrganizationItem",href:s},i.default.h(o.a,{type:"organization",width:"64",height:"64",bgSize:36,src:t}),i.default.h("div",{class:"infoContainer"},i.default.h("span",{class:"organizationName ellipsis",title:n},n),i.default.h("span",{class:"info"},"Organization")))}l.propTypes={avatarUrl:a.a.string.isRequired,organizationName:a.a.string.isRequired,organizationLink:a.a.string.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(500);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(6),r=n(501);n.n(r);function l(e){const{onClick:t,iconUrl:n,menuLabel:s,actionContent:a}=e;return i.default.h("div",{onClick:t,class:"menuItem noSelect"},i.default.h("div",{class:"menuIcon"},n&&i.default.h("img",{src:Object(o.e)(n)})),i.default.h("span",{class:"menuLabel ellipsis"},s),a)}l.propTypes={menuLabel:a.a.string.isRequired,iconUrl:a.a.string,actionContent:a.a.node,onClick:a.a.func.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(503);n.n(a);t.a=class extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.default.h("div",{onClick:this.handleChange,class:Object(s.a)("switch",{switchOn:e})},i.default.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.default.h("div",{class:"switchKnob"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(506);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(507),r=n(260),l=n(9),c=n(6),d=n(1),u=n(514);n.n(u);function h(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:s,selectedEmotar:a}=e;let u=null;return a?u=Object(c.b)(a):s&&(u=s),i.default.h("div",{class:"emotars"},i.default.h("h2",null,i.default.h(l.a,{class:"backButton",onClick:n},i.default.h("img",{src:Object(c.e)("img/icNavUp.svg"),alt:"<"})," ",i.default.h("span",null,"Back")),i.default.h("span",null,"How is your mood today?")),i.default.h("div",{class:"avatarContainer"},i.default.h("a",{href:Object(d.P)("profile")},i.default.h(r.a,{src:u,width:"64",height:"64"}))),i.default.h(o.a,{onEmotarClick:t,avatarUrl:s,selectedEmotar:a}))}h.propTypes={onEmotarClick:a.a.func.isRequired,onBackButtonClick:a.a.func.isRequired,avatarUrl:a.a.string,selectedEmotar:a.a.string},t.a=h},function(e,t,n){"use strict";var i=n(508);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(509),r=n(37),l=n(512),c=n(2),d=n(513);n.n(d);class u extends i.default.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*l.a.length);e(l.a[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,s=Object(c.a)("emotar",{selected:!!t&&!n});return i.default.h("div",{class:"emotarList"},t?i.default.h("div",{onClick:this.handleSmallAvatarClick,class:s},i.default.h(r.a,{width:"36",height:"36",src:t})):i.default.h(o.a,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),l.a.map(t=>i.default.h(o.a,{key:t,onClick:e,emotar:t,selected:t===n})))}}u.propTypes={onEmotarClick:a.a.func.isRequired,selectedEmotar:a.a.bool,avatarUrl:a.a.string},t.a=u},function(e,t,n){"use strict";var i=n(510);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(37),r=n(2),l=n(6),c=n(511);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=Object(r.a)("emotar","noSelect",{selected:t}),s=Object(l.b)(e);return i.default.h("div",{onClick:this.handleClick,class:n},i.default.h(o.a,{src:s,width:"36",height:"36"}))}}d.propTypes={onClick:a.a.func.isRequired,emotar:a.a.string.isRequired,selected:a.a.bool},t.a=d},function(e,t){},function(e,t,n){"use strict";t.a=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(117),o=n(116);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{projectPreviewVisible:!1,projectToPreview:null}}openProjectPreview(e,{pid:t}){return Object.assign({},e,{projectPreviewVisible:!0,projectToPreview:t})}closeProjectPreview(e){return Object.assign({},e,{projectPreviewVisible:!1,projectToPreview:null})}reduce(e,t){switch(t.type){case o.a.OPEN_PROJECT_PREVIEW:return this.openProjectPreview(e,t);case o.a.CLOSE_PROJECT_PREVIEW:return this.closeProjectPreview(e);default:return e}}}},function(e,t,n){"use strict";var i=n(118),s=n(119);const a={getStyleguidesSuccess({styleguides:e,oid:t}){s.a.dispatch({type:i.a.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){s.a.dispatch({type:i.a.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){s.a.dispatch({type:i.a.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e,oid:t}){s.a.dispatch({type:i.a.GET_STYLEGUIDE_SUCCESS,styleguide:e,oid:t})},getStyleguideFailed(e){s.a.dispatch({type:i.a.GET_STYLEGUIDE_FAILED,error:e})},addStyleguide({styleguide:e,oid:t}){s.a.dispatch({type:i.a.ADD_STYLEGUIDE,styleguide:e,oid:t})},createStyleguide({oid:e,platform:t,parent:n}){s.a.dispatch({type:i.a.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},deleteStyleguide({stid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.DELETE_STYLEGUIDE,stid:e,oid:t,syncWithApi:n})},archiveStyleguide({stid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.ARCHIVE_STYLEGUIDE,stid:e,oid:t,syncWithApi:n})},activateStyleguide({stid:e,oid:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.ACTIVATE_STYLEGUIDE,stid:e,oid:t,syncWithApi:n})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r}){s.a.dispatch({type:i.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o}){s.a.dispatch({type:i.a.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,syncWithApi:!0})},leaveStyleguide({stid:e,uid:t,oid:n}){s.a.dispatch({type:i.a.LEAVE_STYLEGUIDE,stid:e,uid:t,oid:n,syncWithApi:!0})},joinStyleguide({stid:e,user:t,oid:n,syncWithApi:a=!1}){s.a.dispatch({type:i.a.JOIN_STYLEGUIDE,stid:e,user:t,oid:n,syncWithApi:a})},joinStyleguideFromPreview({stid:e,user:t,oid:n}){s.a.dispatch({type:i.a.JOIN_STYLEGUIDE_FROM_PREVIEW,stid:e,user:t,oid:n,syncWithApi:!0})},updateStyleguide({stid:e,data:t,oid:n}){s.a.dispatch({type:i.a.UPDATE_STYLEGUIDE,stid:e,data:t,oid:n})},openStyleguidePreview(e){s.a.dispatch({type:i.a.OPEN_STYLEGUIDE_PREVIEW,stid:e,syncWithApi:!0})},closeStyleguidePreview(e){s.a.dispatch({type:i.a.CLOSE_STYLEGUIDE_PREVIEW,stid:e})},inviteUser({container:e,stid:t,users:n,oid:a}){s.a.dispatch({type:i.a.INVITE_USER,container:e,stid:t,users:n,oid:a})},selectParent({stid:e,parent:t,oldParent:n,oid:a,syncWithApi:o=!1}){s.a.dispatch({type:i.a.SELECT_PARENT,stid:e,parent:t,oldParent:n,oid:a,syncWithApi:o})},removeParent({stid:e,oid:t,oldParent:n,syncWithApi:a=!1}){s.a.dispatch({type:i.a.REMOVE_PARENT,stid:e,oldParent:n,oid:t,syncWithApi:a})},selectParentRequest({stid:e,parent:t,oid:n,syncWithApi:a}){s.a.dispatch({type:i.a.SELECT_PARENT_REQUEST,stid:e,parent:t,oid:n,syncWithApi:a})},selectParentSuccess({stid:e,parent:t,oid:n,styleguides:a}){s.a.dispatch({type:i.a.SELECT_PARENT_SUCCESS,stid:e,parent:t,oid:n,styleguides:a})},selectParentFailed(){s.a.dispatch({type:i.a.SELECT_PARENT_FAILED})},removeIntegration({oid:e,bid:t,intype:n,inid:a}){s.a.dispatch({type:i.a.REMOVE_INTEGRATION,oid:e,bid:t,intype:n,inid:a})},updateUserData({oid:e,bid:t,uid:n,userData:a}){s.a.dispatch({type:i.a.UPDATE_USER_DATA,oid:e,bid:t,uid:n,userData:a})},updateUserRole({oid:e,bid:t,uid:n,role:a}){s.a.dispatch({type:i.a.UPDATE_USER_ROLE,oid:e,bid:t,uid:n,role:a})},removeUser({oid:e,bid:t,uid:n}){s.a.dispatch({type:i.a.REMOVE_USER,oid:e,bid:t,uid:n})}};t.a=a},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(119),o=n(118);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{styleguidePreviewVisible:!1,styleguideToPreview:null}}openStyleguidePreview(e,{stid:t}){return Object.assign({},e,{styleguidePreviewVisible:!0,styleguideToPreview:t})}closeStyleguidePreview(e){return Object.assign({},e,{styleguidePreviewVisible:!1,styleguideToPreview:null})}reduce(e,t){switch(t.type){case o.a.OPEN_STYLEGUIDE_PREVIEW:return this.openStyleguidePreview(e,t);case o.a.CLOSE_STYLEGUIDE_PREVIEW:return this.closeStyleguidePreview(e);default:return e}}}},function(e,t,n){"use strict";var i=n(115),s=n(57),a=n(124),o=n(262),r=n(49),l=n(42),c=n(1),d=n(7),u=n(244),h=n(8),p=n(181),m=n(5),g=n(10),f=n(130),b=n(18),y=n(16),v=n(15),S=n(28),C=n(30),E=n(143),k=n(41);const O={project:y.project,styleguide:y.styleguide},D={project:r.c,styleguide:l.c},w={[b.a.PROJECT]:{[k.c.COLORS]:y.updateProjectColorsStyleguide,[k.c.TEXT_STYLES]:y.updateProjectTextStylesStyleguide,[k.c.COMPONENTS]:y.updateProjectComponentSectionsStyleguide},[b.a.STYLEGUIDE]:{[k.c.COLORS]:y.updateStyleguideColorsStyleguide,[k.c.TEXT_STYLES]:y.updateStyleguideTextStylesStyleguide,[k.c.COMPONENTS]:y.updateStyleguideComponentSectionsStyleguide}},j=!!g.a&&!!g.a.features&&!!g.a.features.webviews,T=!j;const _={getBarrel(){const{barrelType:e,organizationId:t,barrelId:n}=a.a.getState(),{[`${e}s`]:{[t]:{[n]:i}}}=D[e].getState();return i},getSpaceURL(){const{barrelType:e,organizationId:t}=a.a.getState(),n=e===b.a.PROJECT?"projects":"styleguides";return"user"===t?Object(c.P)(n):Object(c.P)(`organization-${n}`,{url:{oid:t}})},goToSpace(){const e=this.getSpaceURL();if(j){let t;return T&&(t=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void g.a.ipcRenderer.sendToHost("close-project-webview",e,t)}location.replace(e)}},x={handleUpdateName({name:e,oldName:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].updateName(i,e).catch(e=>{Object(v.b)(e),o.a.updateName({name:t})})},handleUpdateDescription({description:e,oldDescription:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].updateDescription(i,e).catch(e=>{Object(v.b)(e),o.a.updateDescription({description:t})})},handleUpdateDensityScale({densityScale:e,oldDensityScale:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].updateDensityScale(i,e).catch(e=>{Object(v.b)(e),o.a.updateDensityScale({densityScale:t})})},handleRemoveIntegration({intype:e,inid:t,removedIntegration:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].deleteIntegration(s,e,t).catch(t=>{Object(v.b)(t),o.a.addIntegration({intype:e,integration:n})})},handleToggleScene({accessibility:e,oldAccessibility:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].updateAccessibility(i,e).catch(e=>{Object(v.b)(e),o.a.toggleScene({accessibility:t})})},handleAddMembers({members:e}){},handleUpdateUserRole({uid:e,role:t,oldRole:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].updateUserRole(s,e,t).catch(t=>{Object(v.b)(t),o.a.updateUserRole({uid:e,role:n})})},handleTransferOwnership({uid:e}){const{barrelType:t,barrelId:n}=a.a.getState();O[t].transferOwnership(n,e).then(t=>{o.a.ownershipTransferred({uid:e})}).catch(v.b)},handleRemoveMember({uid:e,removedMember:t}){const{barrelType:n,barrelId:i,barrelUser:{user:s}}=a.a.getState();O[n].removeUser(i,e).then(t=>{s._id===e&&_.goToSpace()}).catch(e=>{Object(v.b)(e),o.a.addMembers({members:[t]})})},handleAddColor({color:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=e._id,s=Object.assign({},e);delete s._id,delete s.id,O[t].createColor(n,s).then(({_id:e})=>{const t=Object.assign({},s,{_id:e});o.a.updateColor({cid:i,colorData:t})}).catch(e=>{Object(v.b)(e),o.a.removeColor({cid:i})})},handleAddMultipleColors({colors:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=[],s=e.map(e=>{const s=Object.assign({},e);return delete s._id,delete s.id,i.push(s),O[t].createColor(n,s)}).map(e=>e.catch(e=>e));Promise.all(s).then(t=>{t.forEach((t,n)=>{const s=i[n],a=e[n]._id;if(t instanceof S.a||t instanceof C.a)return Object(v.b)(t),void o.a.removeColor({cid:a});const{_id:r}=t,l=Object.assign({},s,{_id:r});o.a.updateColor({cid:a,colorData:l})})})},handleUpdateColor({cid:e,colorData:t,oldColorData:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].updateColor(s,e,t).catch(t=>{Object(v.b)(t),o.a.updateColor({cid:e,colorData:n})})},handleRemoveColor({cid:e,removedColor:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].deleteColor(i,e).catch(e=>{Object(v.b)(e),o.a.addColor({color:t})})},handleAddTextStyle({textStyle:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=e._id,s=Object.assign({},e);delete s._id,delete s.id,delete s.fontFamily,delete s.fontStretch,delete s.fontStyle,delete s.fontWeight,delete s.stretchText,delete s.weightText,O[t].createTextStyle(n,s).then(({_id:e})=>{o.a.removeTextStyle({tsid:i});const t=Object.assign({},s,{_id:e});o.a.addTextStyle({textStyle:t})}).catch(e=>{Object(v.b)(e),o.a.removeTextStyle({tsid:i})})},handleAddMultipleTextStyles({textStyles:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=[],s=e.map(e=>{const s=Object.assign({},e);return delete s._id,delete s.id,delete s.fontFamily,delete s.fontStretch,delete s.fontStyle,delete s.fontWeight,delete s.weightText,i.push(s),O[t].createTextStyle(n,s)}).map(e=>e.catch(e=>e));Promise.all(s).then(t=>{t.forEach((t,n)=>{const s=i[n],a=e[n]._id;if(t instanceof S.a||t instanceof C.a)return Object(v.b)(t),void o.a.removeTextStyle({tsid:a});const{_id:r}=t,l=Object.assign({},s,{_id:r});o.a.updateTextStyle({tsid:a,textStyleData:l})})})},handleUpdateTextStyle({tsid:e,textStyleData:t,oldTextStyleData:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].updateTextStyle(s,e,t).catch(t=>{Object(v.b)(t),o.a.updateTextStyle({tsid:e,textStyleData:n})})},handleRemoveTextStyle({tsid:e,removedTextStyle:t}){const{barrelType:n,barrelId:i}=a.a.getState();O[n].deleteTextStyle(i,e).catch(e=>{Object(v.b)(e),o.a.addTextStyle({textStyle:t})})},handleUpdateComponent({csids:e,coid:t,componentData:n,oldComponentData:i}){const{barrelType:s,barrelId:r}=a.a.getState();O[s].updateComponent(r,e,t,n).catch(n=>{Object(v.b)(n),o.a.updateComponent({csids:e,coid:t,componentData:i})})},handleRemoveComponent({csids:e,coid:t,oldComponent:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].deleteComponent(s,e,t).catch(t=>{Object(v.b)(t),o.a.addComponent({csids:e,component:n})})},handleUpdateComponentSection({csids:e,componentSectionData:t,oldComponentSectionData:n}){const{barrelType:i,barrelId:s}=a.a.getState();O[i].updateComponentSection(s,e,t).catch(t=>{Object(v.b)(t),o.a.updateComponentSection({csids:e,componentSectionData:n})})},handleMergeComponentSection({csids:e,tcsids:t,index:n,flatten:i,oldComponentSection:s}){const{barrelType:r,barrelId:l}=a.a.getState();O[r].mergeComponentSection(l,e,t,i).catch(a=>{Object(v.b)(a),i||s.componentSections.forEach(e=>{o.a.removeComponentSection({csids:e.idPath})}),(i?Object(c.e)([s]):s.components).forEach(e=>{o.a.removeComponent({csids:t,coid:e._id})}),o.a.addComponentSection({csids:e,componentSection:s,index:n})})},handleJoin(){const{barrelType:e,barrelId:t}=a.a.getState();O[e].inviteUser(t).then(()=>{location.reload()}).catch(e=>{o.a.stopLoadingJoin(),Object(v.b)(e)})},handleMoveResourcesRequest(e){const{resourceType:t,targetStyleguideId:n,data:i}=e,{barrelId:s,barrelType:r,organizationId:c}=a.a.getState(),d=_.getBarrel(),u=Object(E.a)(t);let h=Promise.resolve();if(t===k.c.COMPONENTS){const{styleguides:{[c]:{[n]:e}}}=l.c.getState();e.densityScale||(h=Object(y.updateStyleguideDensityScale)(n,d.densityScale))}const p=function({resourceType:e,barrelType:t}){return w[t][e]}({resourceType:t,barrelType:r});h.then(()=>p(s,n,i?[i._id]:null)).then(()=>{t===k.c.COMPONENTS?mixpanel.master.track("Moved components to styleguide"):t===k.c.TEXT_STYLES?mixpanel.master.track("Moved text styles to styleguide"):t===k.c.COLORS&&mixpanel.master.track("Moved colors to styleguide"),o.a.moveResourcesSuccess({resourceType:t,resources:i?[i]:d[u],oid:c,barrelId:s,barrelType:r,targetStyleguideId:n})}).catch(e=>{Object(v.b)(e),o.a.moveResourcesFail()})},updateComponentsOrder({components:e}){const{barrelId:t}=a.a.getState(),n={components:e.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))},{barrelType:i}=a.a.getState();O[i].updateComponentsOrder(t,n).catch(t=>{Object(v.b)(t);const n=e.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));o.a.updateComponentsOrder({components:n})})},addComponentSection({csids:e,componentSection:t}){const{barrelType:n,barrelId:i}=a.a.getState(),s={index:t.index,name:t.name,components:t.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};O[n].addComponentSection(i,e,s).then(({_id:t})=>{o.a.updateComponentSection({csids:e.concat(p.a),componentSectionData:{_id:t,csids:e.concat(t),newSection:!1}})}).catch(n=>{Object(v.b)(n);const i=t.components.map(t=>({coid:t.coid,csid:e.concat(p.a),tcsid:t.csid,to:t.index}));o.a.updateComponentsOrder({components:i}),o.a.removeComponentSection({csids:e.concat(p.a)})})},handleUpdateComponentSectionsOrder({componentSections:e}){const{barrelId:t,barrelType:n}=a.a.getState(),i={componentSections:e.map(e=>({csid:e.csid.join("/"),to:e.to}))};O[n].updateComponentSectionsOrder(t,i).catch(t=>{Object(v.b)(t);const n=e.map(e=>({csid:e.csid,to:e.sourceIndex}));o.a.updateComponentSectionsOrder({componentSections:n})})}};i.a.register(e=>{if(e.syncWithApi)switch(e.type){case s.a.UPDATE_NAME:x.handleUpdateName(e);break;case s.a.UPDATE_DESCRIPTION:x.handleUpdateDescription(e);break;case s.a.UPDATE_DENSITY_SCALE:x.handleUpdateDensityScale(e);break;case s.a.REMOVE_INTEGRATION:x.handleRemoveIntegration(e);break;case s.a.TOGGLE_SCENE:x.handleToggleScene(e);break;case s.a.ADD_MEMBERS:x.handleAddMembers(e);break;case s.a.UPDATE_USER_ROLE:x.handleUpdateUserRole(e);break;case s.a.TRANSFER_OWNERSHIP:x.handleTransferOwnership(e);break;case s.a.REMOVE_MEMBER:x.handleRemoveMember(e);break;case s.a.ADD_COLOR:x.handleAddColor(e);break;case s.a.ADD_MULTIPLE_COLORS:x.handleAddMultipleColors(e);break;case s.a.UPDATE_COLOR:x.handleUpdateColor(e);break;case s.a.REMOVE_COLOR:x.handleRemoveColor(e);break;case s.a.ADD_TEXT_STYLE:x.handleAddTextStyle(e);break;case s.a.ADD_MULTIPLE_TEXT_STYLES:x.handleAddMultipleTextStyles(e);break;case s.a.UPDATE_TEXT_STYLE:x.handleUpdateTextStyle(e);break;case s.a.REMOVE_TEXT_STYLE:x.handleRemoveTextStyle(e);break;case s.a.UPDATE_COMPONENT_SECTION:x.handleUpdateComponentSection(e);break;case s.a.MERGE_COMPONENT_SECTION:x.handleMergeComponentSection(e);break;case s.a.UPDATE_COMPONENT:x.handleUpdateComponent(e);break;case s.a.REMOVE_COMPONENT:x.handleRemoveComponent(e);break;case s.a.JOIN:x.handleJoin(e);break;case s.a.MOVE_RESOURCES_REQUEST:x.handleMoveResourcesRequest(e);break;case s.a.UPDATE_COMPONENTS_ORDER:x.updateComponentsOrder(e);break;case s.a.ADD_COMPONENT_SECTION:x.addComponentSection(e);break;case s.a.UPDATE_COMPONENT_SECTIONS_ORDER:x.handleUpdateComponentSectionsOrder(e)}});const R={handleRemoveUser({uid:e}){const{barrelUser:{user:t}}=a.a.getState();t._id===e&&_.goToSpace()},handleDownloadAsset({platform:e,containerName:t,version:n,assetId:i,format:s}){const{barrelId:o,assetDensityScalePrefs:r,assetNamingConvention:l,showOptimizedSVG:d}=a.a.getState();Object(u.b)({barrelId:o,platform:e,containerName:t,version:n,assetId:i,format:s,assetDensityScalePrefs:r,assetNamingConvention:l,showOptimizedSVG:d}),Object(y.createIntercomUserTag)(Object(c.r)(e))},handleDownloadMultipleAsset({platform:e,containerName:t,version:n,assetList:i}){const{barrelId:s,assetDensityScalePrefs:o,assetNamingConvention:r,showOptimizedSVG:l}=a.a.getState();Object(u.c)({barrelId:s,platform:e,containerName:t,version:n,assetList:i,assetDensityScalePrefs:o,assetNamingConvention:r,showOptimizedSVG:l}),Object(y.createIntercomUserTag)(Object(c.r)(e))},handleExportCode({barrelName:e,platform:t,resourceType:n,exportObjects:i,extension:s}){Object(u.d)({resourceType:n,barrelName:e,exportObjects:i}),Object(y.createIntercomUserTag)(Object(c.r)(t)),mixpanel.webapp.track("Exported extension file",{type:n,extension:s})},handleOpenExportTarget(){f.c()},handleChangeExportTarget(){f.a()},handleCopyComponentSectionWebLink({seid:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=t===b.a.PROJECT?"project-styleguide-components":"styleguide-components",s=document.querySelector(`.${t}`),o=Object(c.P)(i,{url:{bid:n},query:{seid:e}});Object(h.c)({content:o,toastContainer:s})},handleCopyComponentSectionAppURI({cseid:e}){const{barrelType:t,barrelId:n}=a.a.getState(),i=t===b.a.PROJECT?"pid":"stid",s=document.querySelector(`.${t}`),o=`${m.E}//components?${i}=${n}&cseid=${e}`;Object(h.c)({content:o,toastContainer:s})},setBarrelShortlink(e){const{barrelType:t,barrelId:n}=e.barrel,{shortlinks:i}=a.a.getState(),s=Object(c.P)(t,{url:{bid:n}});s in i||Object(y.generateShortlink)(s).then(e=>{o.a.setShortlink(s,e)})},setSceneShortlink(e){const{barrelType:t,barrelId:n}=e.barrel,{shortlinks:i}=a.a.getState(),s=Object(c.P)(t,{origin:m.t,url:{bid:n}});s in i||Object(y.generateShortlink)(s,"scene").then(e=>{o.a.setShortlink(s,e)})},addToSlack(){const{barrelType:e}=a.a.getState(),t=_.getBarrel(),n=Object(d.c)();localStorage.setItem("slackState",n);const i={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:Object(c.P)("huggingSlack",{query:e===b.a.PROJECT?{pid:t._id}:{stid:t._id}}),state:n},s="https://slack.com/oauth/authorize?"+Object.entries(i).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");!(g.a&&g.a.features&&g.a.features.integrations&&g.a.features.integrations.slack)?Object(c.F)(s,{inNewTab:!1}):g.a.ipcRenderer.send("add-to-slack",{id:t._id,barrelType:e,name:t.name})},changeSelectedView({selectedView:e,changeURL:t}){if(!t)return;const{id:n,name:i}=_.getBarrel(),s="dashboard"===e?"pid":"bid";window.history.replaceState({},`${Object(d.f)(e)} - ${i} - Zeplin`,Object(c.P)(`project-${e}`,{url:{[s]:n}}))}};i.a.register(e=>{switch(e.type){case s.a.REMOVE_MEMBER:e.syncWithApi||R.handleRemoveUser(e);break;case s.a.DOWNLOAD_ASSET:R.handleDownloadAsset(e);break;case s.a.DOWNLOAD_MULTIPLE_ASSET:R.handleDownloadMultipleAsset(e);break;case s.a.EXPORT_CODE:R.handleExportCode(e);break;case s.a.OPEN_EXPORT_TARGET:R.handleOpenExportTarget();break;case s.a.CHANGE_EXPORT_TARGET:R.handleChangeExportTarget();break;case s.a.COPY_COMPONENT_SECTION_WEB_LINK:R.handleCopyComponentSectionWebLink(e);break;case s.a.COPY_COMPONENT_SECTION_APP_URI:R.handleCopyComponentSectionAppURI(e);break;case s.a.ADD_TO_SLACK:R.addToSlack(e);break;case s.a.LOAD:R.setBarrelShortlink(e),R.setSceneShortlink(e);break;case s.a.CHANGE_SELECTED_VIEW:R.changeSelectedView(e)}})},function(e,t,n){"use strict";var i=n(24),s=n(114),a=n(141);const o={markGlobalStyleguidesWhatsNewAsSeen(){i.d.set("globalStyleguidesWhatsNewSeen",!0)}};s.a.register(e=>{switch(e.type){case a.a.MARK_GLOBAL_STYLEGUIDES_WHATS_NEW_AS_SEEN:o.markGlobalStyleguidesWhatsNewAsSeen()}})},function(e,t){},function(e,t,n){"use strict";var i=n(10),s=n(87),a=n(24);function o(){a.d.set("windowsAppsNewReleasePointReminderOpen",!0).then(function(){s.b({group:"appUpdate",content:"New version of Zeplin is available. <a href='#'>Download</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),i.a.shell.openExternal("https://zpl.io/update-windows-64"),s.a("appUpdate"),i.a.ipcRenderer.send("remind-update-later"),Promise.all([a.d.set("windowsAppsNewReleasePointReminderOpen",!1),a.d.set("remindWindowsAppsNewReleasePoint",(new Date).getTime()+864e5)]).then(function(){setTimeout(o,86405e3)})}},bannerCloseText:"Remind me tomorrow",closeCallback:function(){i.a.ipcRenderer.send("remind-update-later"),Promise.all([a.d.set("windowsAppsNewReleasePointReminderOpen",!1),a.d.set("remindWindowsAppsNewReleasePoint",(new Date).getTime()+864e5)]).then(function(){setTimeout(o,86405e3)})},container:document.querySelector(".windowsAppUpdateBannerContainer"),style:{zIndex:190}})})}!function(){if(i.a){var e=navigator.userAgent.match(/Zeplin( Windows v|\/)(\d+\.\d+\.\d+)/);if(e&&3===e.length&&-1!==["1.3.1","1.3.0","1.2.2","1.2.1","1.2.0","1.1.4","1.1.3","1.1.2","1.1.1","1.1.0","1.0.3","1.0.2","1.0.1","1.0.0","0.31.0","0.30.0","0.29.0","0.28.1","0.28.0","0.27.1","0.27.0","0.26.0","0.25.0"].indexOf(e[2]))return i.a&&i.a.features&&i.a.features.webviews&&i.a.ipcRenderer.on("active",function(e,t){t&&a.d.get("windowsAppsNewReleasePointReminderOpen").then(function(e){if(!e)return s.a("appUpdate"),a.d.set("windowsAppsNewReleasePointReminderOpen",!1),void a.d.get("remindWindowsAppsNewReleasePoint").then(function(e){var t=(new Date).getTime();e&&t<e&&setTimeout(o,e-t+5e3)});o()})}),i.a.ipcRenderer.on("close-all-banners",function(){s.a("appUpdate")}),void a.d.get("remindWindowsAppsNewReleasePoint").then(function(e){var t=(new Date).getTime();e&&t<e?setTimeout(o,e-t+5e3):o()});i.a.ipcRenderer.on("close-all-banners",function(){s.a("appUpdate"),s.a("pluginUpdate")}),i.a.ipcRenderer.on("app-update-downloaded",function(e,t){s.a("appUpdate"),s.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),s.a("appUpdate"),i.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback:function(){i.a.ipcRenderer.send("remind-update-later",t)},container:document.querySelector(".windowsAppUpdateBannerContainer"),style:{zIndex:290}})}),i.a.ipcRenderer.on("plugin-update-downloaded",function(e,t){var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),s.a("pluginUpdate"),s.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),s.a("pluginUpdate"),i.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback:function(){i.a.ipcRenderer.send("remind-plugin-install-later",t)},container:document.querySelector(".windowsAppUpdateBannerContainer"),style:{zIndex:290}})})}}()},function(e,t,n){"use strict";var i=n(10),s=n(1),a=n(131),o=n(0),r=n(270);const l=!!i.a&&!!i.a.features&&!!i.a.features.webviews,c=!!i.a&&!!i.a.features&&!!i.a.features.figma,d=!!i.a&&!!i.a.features&&!!i.a.features.globalStyleguides,u=200,h=150,p=80,m=52,g=c?"subscribe-to-imports":"subscribe-to-exports",f=c?"imports-change":"exports-change",b=c?"imports-started":"exports-started",y=c?"clear-imports":"clear-exports",v=c?"retry-import":"retry-export",S=c?"cancel-import":"cancel-export",C="retry-getting-project",E="remove-component-limit-rejection",k="set-suggested-resources";function O(e,t){a.b.handleImports(function(e){return d?e:{componentImportRejections:{},suggestedResourcesByBarrel:{},versionCollectionImports:e.map(e=>{const t={_id:e.screen._id,name:e.screen.name,type:"screen"},n={_id:e.project._id,name:e.project.name,type:e.project.type,barrelType:"project"};return Object.assign({},e,{project:null,screen:null,versionCollection:t,barrel:n})})}}(t))}function D(){i.a.ipcRenderer.on(f,Object(s.g)(O)),i.a.ipcRenderer.send(g)}function w(e){e.forEach(function(e){e.remove()})}function j(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function T(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",T),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||a.b.hideImportsIndicator(),i.length&&w(i),D()}function _(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),s=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===s.length)return;i.a.ipcRenderer.removeAllListeners(f);var a=s.reduce(function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e},{hideAndRemove:[],animateAndRemove:[]});const o=a.hideAndRemove,r=a.animateAndRemove;let l=n.clientHeight,c=l,d=0;n.style.height=l+"px";var g=t.getBoundingClientRect();o.forEach(function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const s=i.bottom<g.top;e.classList.add("hidden"),s&&(t.scrollTop-=i.height)}),r.forEach(function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",j),e.style.transitionDelay=d+"ms",e.classList.add("clear"),d+=p});let b=d-p;const v=c<l,S=c<t.clientHeight-m;if(v&&S){l>t.clientHeight-m&&(n.style.height=t.clientHeight-m+"px"),n.addEventListener("transitionend",T),n.classList.add("resize"),n.style.transitionDuration=b+h+u+"ms",n.style.height=c+"px"}else n.style.height="auto",w(o),r.length>0?setTimeout(D,b+200):D();i.a.ipcRenderer.send(y)}i.a&&i.a.ipcRenderer&&(document.getElementById("versionImportsContainerRoot")&&o.default.render(o.default.h(r.a,null),document.getElementById("versionImportsContainerRoot")),i.a.ipcRenderer.on(b,function(){l?(a.b.showImportsList(),i.a.ipcRenderer.once("active",function(e,t){t||a.b.hideImportsList()}),i.a.ipcRenderer.sendToHost("active")):a.b.showImportsList()}),i.a.ipcRenderer.on(k,function(e,t){a.b.setSuggestedResources(t)}),a.c.register(e=>{switch(e.type){case a.a.GO_TO_IMPORTED_VERSION:"screen"===e.versionCollectionType?function(e,t){location.assign(Object(s.P)("project-screen",{url:{pid:e,sid:t}}))}(e.barrelId,e.versionCollectionId):"component"===e.versionCollectionType&&function(e,t,n){"project"===t?location.assign(Object(s.P)("project-styleguide-components",{url:{bid:e},query:{coid:n}})):location.assign(Object(s.P)("styleguide-components",{url:{bid:e},query:{coid:n}}))}(e.barrelId,e.barrelType,e.versionCollectionId);break;case a.a.RETRY_IMPORT:!function(e){i.a.ipcRenderer.send(v,e)}(e.id);break;case a.a.CANCEL_IMPORT:!function(e){i.a.ipcRenderer.send(S,e)}(e.id);break;case a.a.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.a.ipcRenderer.send(C,e)}(e.id);break;case a.a.CLEAR_IMPORTS:_(e.ev);break;case a.a.HIDE_COMPONENT_LIMIT_HINT:!function(e){i.a.ipcRenderer.send(E,e)}(e.barrelId);break;case a.a.SEE_PLANS:location.assign(Object(s.P)("profile-billing",{query:{period:"annual"}}))}}),D())},function(e,t,n){"use strict";var i=n(171),s=n(172);const a={hideImportsIndicator(){s.a.dispatch({type:i.a.HIDE_IMPORTS_INDICATOR})},showImportsList(){s.a.dispatch({type:i.a.SHOW_IMPORTS_LIST})},hideImportsList(){s.a.dispatch({type:i.a.HIDE_IMPORTS_LIST})},handleImports(e){s.a.dispatch({type:i.a.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){s.a.dispatch({type:i.a.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(e,t,n,a){s.a.dispatch({type:i.a.GO_TO_IMPORTED_VERSION,barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:a})},retryImport(e){s.a.dispatch({type:i.a.RETRY_IMPORT,id:e})},cancelImport(e){s.a.dispatch({type:i.a.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){s.a.dispatch({type:i.a.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){s.a.dispatch({type:i.a.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){s.a.dispatch({type:i.a.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){s.a.dispatch({type:i.a.SEE_PLANS})}};t.a=a},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(172),o=n(171),r=n(109),l=n(22),c=n(7),d=n(126),u=n(35),h=n(90);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a,textStyles:o}}=n;if(!a.length)return e;const r=new u.a(i);return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},n,{[s]:{textStyles:o,colors:a.filter(e=>e.id!==r.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a}}=n;return a.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:s}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a,textStyles:o}}=n;if(!o.length)return e;const r=new h.a(i);return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},n,{[s]:{colors:a,textStyles:o.filter(e=>e.id!==r.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:s}=t;if(!n[s])return e;const{[s]:{textStyles:a}}=n;return a.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:s}),e):e}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:s}}=e;return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},i,{[n]:Object.assign({},s,{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:s}}=e;return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},i,{[n]:Object.assign({},s,{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return Object.assign({},e,{suggestedResourcesByBarrel:function(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:s=[]}=e[n];return Object.assign({},t,{[n]:{colors:i.map(e=>new u.a(Object.assign({_id:Object(c.c)()},e))),textStyles:s.map(e=>new h.a(Object.assign({_id:Object(c.c)()},e)))}})},{})}(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case r.b.OPEN_NEXT_SCREEN:case r.b.OPEN_PREVIOUS_SCREEN:return this.hideImportsList(e);case l.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case l.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case l.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case l.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case d.a.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case d.a.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case o.a.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case o.a.SHOW_IMPORTS_LIST:return this.showImportsList(e);case o.a.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case o.a.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case o.a.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case o.a.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);default:return e}}}},function(e,t,n){"use strict";var i=n(91),s=n(92),a=n(267);const o={openPreviousScreen(){s.a.dispatch({type:i.a.OPEN_PREVIOUS_SCREEN})},openNextScreen(){s.a.dispatch({type:i.a.OPEN_NEXT_SCREEN})},selectLayer(e){s.a.dispatch({type:i.a.SELECT_LAYER,layer:e})},deselectLayer(){s.a.dispatch({type:i.a.DESELECT_LAYER})},enterLayer(e,t){s.a.dispatch({type:i.a.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){s.a.dispatch({type:i.a.LEAVE_LAYER})},changePercentageMode(e){s.a.dispatch({type:i.a.CHANGE_PERCENTAGE_MODE,percentageMode:e})},copyLayerCode(e,t){s.a.dispatch({type:i.a.COPY_LAYER_CODE,code:e,extensionId:t})},copyLayerContent(e){s.a.dispatch({type:i.a.COPY_LAYER_CONTENT,content:e})},copyScreenLink(e){s.a.dispatch({type:i.a.COPY_SCREEN_LINK,link:e})},updateScreen(e,t){s.a.dispatch({type:i.a.UPDATE_SCREEN,sid:e,data:t})},openManageTags(e){s.a.dispatch({type:i.a.OPEN_MANAGE_TAGS,sid:e})},openSourceFile(e){s.a.dispatch({type:i.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){s.a.dispatch({type:i.a.OPEN_SOURCE_FOLDER,path:e})},loadDots(e,t,n,a,o){s.a.dispatch({type:i.a.LOAD_DOTS,dots:e,status:t,color:n,highlight:a,open:o})},selectDot(e,t){s.a.dispatch({type:i.a.SELECT_DOT,dotId:e,commentId:t})},selectHighlightedDot(){const e=a.a.getState();e.open&&e.open.did&&this.selectDot(e.open.did,e.open.cmid)},closeDotPopup(){s.a.dispatch({type:i.a.CLOSE_DOT_POPUP})},changeDotFilter(e,t){s.a.dispatch({type:i.a.CHANGE_DOT_FILTER,status:e,color:t})},dotsFlashed(){s.a.dispatch({type:i.a.DOTS_FLASHED})},followFlowLink(e,t){s.a.dispatch({type:i.a.FOLLOW_FLOW_LINK,destinationType:e,flowTo:t})},changeDotPosition(e,t,n){s.a.dispatch({type:i.a.CHANGE_DOT_POSITION,id:e,x:t,y:n})},commitDotPosition(e,t,n){s.a.dispatch({type:i.a.COMMIT_DOT_POSITION,id:e,x:t,y:n})},revertDotPosition(){s.a.dispatch({type:i.a.REVERT_DOT_POSITION})},cancelDotPosition(){s.a.dispatch({type:i.a.CANCEL_DOT_POSITION})},updateDotStatus(e,t){s.a.dispatch({type:i.a.UPDATE_DOT_STATUS,id:e,status:t})},copyDotLink(e){s.a.dispatch({type:i.a.COPY_DOT_LINK,id:e})},deleteDot(e){s.a.dispatch({type:i.a.DELETE_DOT,id:e})},openDotMenu(){s.a.dispatch({type:i.a.OPEN_DOT_MENU})},popout(){s.a.dispatch({type:i.a.POPOUT})},closeLayerView(){s.a.dispatch({type:i.a.CLOSE_LAYER_VIEW})},copyScreenCode(e,t){s.a.dispatch({type:i.a.COPY_SCREEN_CODE,code:e,extensionId:t})},changeZoomLevel(e,t){s.a.dispatch({type:i.a.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){s.a.dispatch({type:i.a.ZOOM_IN})},zoomOut(){s.a.dispatch({type:i.a.ZOOM_OUT})},resetZoom(){s.a.dispatch({type:i.a.RESET_ZOOM})},zoomApplied(){s.a.dispatch({type:i.a.ZOOM_APPLIED})},startGesture(){s.a.dispatch({type:i.a.START_GESTURE})},zoomWithGesture(e){s.a.dispatch({type:i.a.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){s.a.dispatch({type:i.a.ZOOM_WITH_WHEEL,deltaY:e})},toggleLayoutGrid(){s.a.dispatch({type:i.a.TOGGLE_LAYOUT_GRID})},enableNoteMode(){s.a.dispatch({type:i.a.ENABLE_NOTE_MODE})},disableNoteMode(){s.a.dispatch({type:i.a.DISABLE_NOTE_MODE})},createNote(e,t){s.a.dispatch({type:i.a.CREATE_NOTE,x:e,y:t})},showNotes(){s.a.dispatch({type:i.a.SHOW_NOTES})},hideNotes(){s.a.dispatch({type:i.a.HIDE_NOTES})},showVersions(){s.a.dispatch({type:i.a.SHOW_VERSIONS})},hideVersions(){s.a.dispatch({type:i.a.HIDE_VERSIONS})},showVersionsAuntie(){s.a.dispatch({type:i.a.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){s.a.dispatch({type:i.a.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){s.a.dispatch({type:i.a.NEW_VERSIONS_FOUND})},showFlowLinks(){s.a.dispatch({type:i.a.SHOW_FLOW_LINKS})},hideFlowLinks(){s.a.dispatch({type:i.a.HIDE_FLOW_LINKS})},changeSidebarTab(e){s.a.dispatch({type:i.a.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeSidebarWidth(e){s.a.dispatch({type:i.a.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})}};t.a=o},function(e,t,n){"use strict";var i=n(91),s=n(92),a=n(268),o=n(24),r=n(22);let l,c,d;const u={saveNotesVisible(){const{barrelId:e}=r.d.getState(),{notesVisible:t}=a.a.getState();clearTimeout(l),l=setTimeout(()=>o.b.set(e,"noteVisibility",t),1e3)},saveZoomLevel(){const{barrelId:e}=r.d.getState(),{zoomLevel:t}=a.a.getState();clearTimeout(c),c=setTimeout(()=>o.b.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=r.d.getState(),{layoutGridEnabled:t}=a.a.getState();clearTimeout(d),d=setTimeout(()=>o.b.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){o.d.set("versionsTutorialSeen",!0)},saveSidebarWidth(){const{barrelId:e}=r.d.getState(),{sidebarWidth:t}=a.a.getState();o.b.set(e,"screenSidebarWidth",t)}};s.a.register(e=>{switch(e.type){case i.a.SHOW_NOTES:case i.a.HIDE_NOTES:case i.a.SELECT_DOT:case i.a.CREATE_NOTE:case i.a.ENABLE_NOTE_MODE:u.saveNotesVisible();break;case i.a.ZOOM_WITH_GESTURE:case i.a.ZOOM_WITH_WHEEL:case i.a.CHANGE_ZOOM_FACTOR:case i.a.ZOOM_IN:case i.a.ZOOM_OUT:case i.a.RESET_ZOOM:u.saveZoomLevel();break;case i.a.TOGGLE_LAYOUT_GRID:u.saveLayoutGridEnabled();break;case i.a.SHOW_VERSIONS:case i.a.SHOW_VERSIONS_AUNTIE:u.saveVersionsTutorialSeen();break;case i.a.CHANGE_SIDEBAR_WIDTH:u.saveSidebarWidth()}})},function(e,t,n){"use strict";var i=n(0),s=n(131),a=n(528),o=n(39),r=n(557);n.n(r);function l(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:s},progress:{update:a,isGettingProject:o,isGettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:h}}=e,{_id:p,name:m,type:g}=n;return{id:t,versionCollectionId:p,versionCollectionName:m,versionCollectionType:g,barrelId:i,barrelType:s,update:a,gettingProject:o,gettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:h}}t.a=Object(o.a)(class extends i.default.Component{static getStores(){return[s.d]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:a}=s.d.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const o=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:s,anyVersionImportFailed:a}=e,o=Math.floor((s*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),r=a||!!t.progress.isApiOperationFailed,c=i.find(e=>e._id===t.barrel._id);let d=i;return c?c.versionImports.push(l(t)):d.push({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[l(t)]}),{importsByBarrel:d,versionImportsProgress:o,anyVersionImportFailed:r}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:r,versionImportsProgress:c,anyVersionImportFailed:d}=o;return{suggestedResourcesByBarrel:a,indicatorVisible:n,versionImportsProgress:c,anyVersionImportFailed:d,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:r}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d}=this.state;return e?i.default.h(a.a,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:s.b.showImportsList,onListClose:s.b.hideImportsList,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,onImportClick:s.b.goToImportedVersion,onRetryImport:s.b.retryImport,onCancelImport:s.b.cancelImport,onRetryGetProject:s.b.retryGetProjectForImports,onClearImports:s.b.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:s.b.hideComponentLimitHint,onComponentLimitActionClick:s.b.seePlans}):null}})},function(e,t,n){"use strict";var i=n(529);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(62),r=n(530),l=n(69),c=n(533),d=n(9),u=n(550),h=n(553),p=n(556);n.n(p);class m extends i.default.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:s,onRetryGetProject:a}=this.props,{id:o,versionCollectionId:r,versionCollectionName:l,versionCollectionType:d,barrelId:u,barrelType:h,update:p,gettingProject:m,gettingProjectFailed:g,countOfUploadedImages:f,countOfImagesToUpload:b,apiOperationCompleted:y,apiOperationFailed:v,apiOperationFailedError:S}=e;return m&&!g?i.default.h(c.c,null):m&&g?i.default.h(c.d,{id:o,onRetry:a}):b===f&&y&&!v?i.default.h(c.a,{key:o,id:o,update:p,barrelId:u,barrelType:h,versionCollectionId:r,versionCollectionName:l,versionCollectionType:d,onClick:t}):y&&v?i.default.h(c.b,{key:o,id:o,update:p,versionCollectionName:l,errorMessage:S?S.message:null,onRetry:n}):y?void 0:i.default.h(c.e,{key:o,id:o,update:p,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:f,onCancel:s})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:s,onComponentLimitActionClick:a}=this.props;if(!t[e])return null;const{owner:o,ownerPlan:r,rejected:l,total:c}=t[e];return i.default.h(u.a,{key:"componentLimitHintBox",onHideClick:s,onActionClick:a,owner:o,currentUser:n,ownerPlan:r,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.default.h("div",{key:e._id},i.default.h("div",{class:"barrelInformation"},i.default.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.default.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.default.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:s}=this.props,{colors:a=[],textStyles:o=[]}=n[e]||{};return i.default.h(h.a,{onClick:s,colors:a,textStyles:o,barrelType:t,barrelId:e})}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,s=1===t.length?t[0].name:"Zeplin";return i.default.h("div",{class:"versionImports"},i.default.h("div",{class:"body"},i.default.h("div",{class:"title"},i.default.h("div",null,e),i.default.h(l.a,{asset:"img/icHand.png"}),i.default.h("div",{class:"ellipsis"},s)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length?i.default.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.default.h(d.a,{onClick:n},i.default.h("div",null),i.default.h("div",null),i.default.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:s,onListClose:a,onListOpen:l}=this.props;return i.default.h(o.a,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:s,onClose:a,onOpen:l,left:2,top:2},i.default.h(r.a,{warning:n,progress:t}))}}m.propTypes={versionImportsProgress:a.a.number.isRequired,anyVersionImportFailed:a.a.bool.isRequired,listOpen:a.a.bool.isRequired,onListOpen:a.a.func.isRequired,onListClose:a.a.func.isRequired,importsSource:a.a.string.isRequired,importsByBarrel:a.a.arrayOf(a.a.shape({_id:a.a.string.isRequired,name:a.a.string.isRequired,type:a.a.string.isRequired,versionImports:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,versionCollectionId:a.a.string.isRequired,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),update:a.a.bool.isRequired,countOfImagesToUpload:a.a.number.isRequired,countOfUploadedImages:a.a.number.isRequired,apiOperationCompleted:a.a.bool.isRequired,apiOperationFailed:a.a.bool.isRequired,apiOperationFailedError:a.a.shape({message:a.a.string.isRequired})}))})),onImportClick:a.a.func.isRequired,onRetryImport:a.a.func.isRequired,onCancelImport:a.a.func.isRequired,onRetryGetProject:a.a.func.isRequired,onClearImports:a.a.func.isRequired},t.a=m},function(e,t,n){"use strict";var i=n(531);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(9),r=n(6),l=n(532);n.n(l);const c=15,d=2*c*Math.PI;function u(e){const{progress:t=0,warning:n=!1}=e,s=`${d*t/100} ${d*(100-t)/100}`;return i.default.h(o.a,{class:"versionImportsIndicator"},i.default.h("svg",{width:"32",height:"32",version:"1.1"},i.default.h("circle",{cx:"16",cy:"16",r:c}),i.default.h("circle",{cx:"16",cy:"16",r:c,"stroke-dasharray":s})),100===t&&i.default.h("img",{src:Object(r.e)("img/icImportsDone.svg")}),n&&i.default.h("div",{class:"warning"}))}u.defaultProps={progress:0,warning:!1},u.propTypes={progress:a.a.number,warning:a.a.bool},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(534),s=n(537),a=n(540),o=n(545),r=n(547);n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return s.a}),n.d(t,"e",function(){return o.a}),n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return a.a})},function(e,t,n){"use strict";var i=n(535);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){return i.default.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")};var i=n(0),s=n(536);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(538);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(25),r=n(9),l=n(6),c=n(539);n.n(c);class d extends o.a{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.default.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.default.h(r.a,{onClick:this.handleRetryClick},i.default.h("img",{src:Object(l.e)("img/icImportProgressFetchProjectRetry.svg")})))}}d.propTypes={id:a.a.string.isRequired,onRetry:a.a.func.isRequired},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(541);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(69),r=n(173),l=n(2),c=n(25),d=n(544);n.n(d);const u={};class h extends c.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,barrelId:t,barrelType:n,versionCollectionId:i,versionCollectionType:s}=this.props;e(t,n,i,s)}render(){const{id:e,update:t,versionCollectionName:n}=this.props;u[e]||(u[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const s=u[e];return i.default.h(r.a,{class:Object(l.a)("done",s),update:t,success:!0,versionCollectionName:n,progress:100,detail:function(e){switch(e){case"type1":return[i.default.h("div",null,"Done!"),i.default.h(o.a,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.default.h("span",{class:"wow"},"wow."),i.default.h("span",{class:"suchDesigns"},"such designs."),i.default.h("span",{class:"amaze"},"amaze."),i.default.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}(s),buttonIcon:"img/icImportDone.svg",onClick:this.handleClick})}}h.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionId:a.a.string.isRequired,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),onClick:a.a.func.isRequired},t.a=h},function(e,t,n){"use strict";t.a=function(e){const{class:t,onClick:n,update:r,success:l,versionCollectionName:c,progress:d,detail:u,detailTitle:h,buttonIcon:p,onButtonClick:m}=e;let g=r?"Replacing":"Importing";return g=l?g.replace("ing","ed"):g,i.default.h("div",{class:Object(a.a)("versionImport",t),onClick:n},i.default.h("div",{class:"information"},i.default.h("div",{class:"title ellipsis"},g,' "',c,'"'),i.default.h("div",{class:"progress"},d?i.default.h("div",{style:{width:`${d}%`}}):null),i.default.h("div",{class:"detail ellipsis",title:h||""},u)),i.default.h(s.a,{onClick:m},i.default.h("img",{src:Object(o.e)(p)})))};var i=n(0),s=n(9),a=n(2),o=n(6),r=n(543);n.n(r)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(546);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(173),r=n(25);class l extends r.a{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.default.h("div",{class:"progress"},i.default.h("div",{style:{width:`${this.calculateProgress()}%`}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.default.h(o.a,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,countOfUploadedImages:a.a.number.isRequired,countOfImagesToUpload:a.a.number.isRequired,onCancel:a.a.func.isRequired},t.a=l},function(e,t,n){"use strict";var i=n(548);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(173),r=n(25),l=n(549);n.n(l);class c extends r.a{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.default.h(o.a,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}c.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,errorMessage:a.a.string,onRetry:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(551);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(64),a=n(552);n.n(a);const o=new Date(2016,11,1),r=2592e6;t.a=class extends i.default.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:a,currentUser:l,onActionClick:c}=this.props,d=e._id===l._id;let u,h,p;return"Company"===t.name?(u=`${d?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-o)/r)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,h=d?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",p="Upgrade"):d?(p="See plans",u=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,h="Upgrade to access more space!"):(p="See plans",u=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,h="Ping them to upgrade and access more space!"),i.default.h(s.a,{class:"componentLimitHintBox",actionContent:p,onHideClick:this.handleHideClick,onActionClick:c},"Out of ",a," components you exported, ",n," not added to the project.",i.default.h("br",null),i.default.h("br",null),u,i.default.h("br",null),i.default.h("br",null),h)}}},function(e,t){},function(e,t,n){"use strict";var i=n(554);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(64),a=n(7),o=n(1),r=n(18),l=n(555);n.n(l);const c={[r.a.PROJECT]:"project-styleguide",[r.a.STYLEGUIDE]:"styleguide"};t.a=function(e){const{colors:t,textStyles:n,barrelId:r,barrelType:l,onClick:d}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(a.e)(t.length,"color")} and ${Object(a.e)(n.length,"text style")}`),t.length&&!n.length&&(u=`Found ${Object(a.e)(t.length,"color")}`),!t.length&&n.length&&(u=`Found ${Object(a.e)(n.length,"text style")}`);let h=Object(o.P)(`${c[l]}-colors`,{url:{bid:r}});return t.length||(h=Object(o.P)(`${c[l]}-textstyles`,{url:{bid:r}})),i.default.h("a",{href:h,class:"suggestedResourcesHintBox",onClick:d},i.default.h(s.a,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(245),s=n(246);const a={init(){s.a.dispatch({type:i.a.INIT})},load(e,t){s.a.dispatch({type:i.a.LOAD,inid:e,events:t})},open(e,t){s.a.dispatch({type:i.a.OPEN,inid:e,channelName:t})},close(){s.a.dispatch({type:i.a.CLOSE})},updateEventGroup(e,t){s.a.dispatch({type:i.a.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){s.a.dispatch({type:i.a.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){s.a.dispatch({type:i.a.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},eventUpdated(e,t,n){s.a.dispatch({type:i.a.EVENT_UPDATED,inid:e,event:t,added:n})}};t.a=a},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(246),o=n(245),r=n(350),l=n(1),c=n(22);function d(e,t,n){const{barrelType:i}=c.d.getState();return n?Object.assign({},e,{[t]:r.b(i,t)}):Object(l.k)(e,t)}t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[]}}init(e,t){return Object.assign({},e,{barrelId:t})}load(e,t,n){const{barrelType:i}=c.d.getState();return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:r.d(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign({},e,{open:!0,inid:t,channelName:n}):e}close(e){return Object.assign({},e,{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[e.inid]:d(e.eventGroupsByInid[e.inid],t,n)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?Object.assign({},e,{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:d(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n])}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:function(e,t,n){const{barrelType:i}=c.d.getState(),s=r.c(i,t);let a=e[s]||[];return n&&!a.includes(t)?Object.assign({},e,{[s]:a.concat(t)}):!n&&a.includes(t)?0===(a=a.filter(e=>e!==t)).length?Object(l.k)(e,s):Object.assign({},e,{[s]:a}):e}(e.eventGroupsByInid[t],n,i)})}):e}reduce(e,t){switch(t.type){case o.a.INIT:return this.init(e,t.barrelId);case o.a.LOAD:return this.load(e,t.inid,t.events);case o.a.OPEN:return this.open(e,t.inid,t.channelName);case o.a.CLOSE:return this.close(e);case o.a.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case o.a.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case o.a.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case o.a.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.added);default:return e}}}},function(e,t,n){"use strict";var i=n(707);t.a=i.a},function(e,t,n){"use strict";var i=n(8);function s(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let s=t;e.addEventListener("input",function(){if(e.value){if(Object(i.e)(e.value,s+"px Roboto")>e.clientWidth&&s>n)for(;Object(i.e)(e.value,s+"px Roboto")>e.clientWidth&&s>n;)s-=.2;else if(Object(i.e)(e.value,s+"px Roboto")<=e.clientWidth&&s<t)for(;Object(i.e)(e.value,s+"px Roboto")<=e.clientWidth&&s<t;)s+=.2}else s=t;e.style.fontSize=s+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(s)})},function(e,t,n){"use strict";var i=n(51),s=["gaussian","background"];function a(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, )");t.radius=e}}})}a.prototype=Object.create(i.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.a=a},function(e,t,n){"use strict";var i=n(273),s=n(51);function a(e,t,n){var s=Object.assign({},e);s.fill=new i.a({fillType:s.fillType,color:s.color,gradient:s.gradient,opacity:s.opacity,blendMode:s.blendMode},t,n),delete s.fillType,delete s.color,delete s.gradient,delete s.opacity,delete s.blendMode,Object.defineProperties(this,{position:{get:function(){return s.position},set:function(e){s.position=e}},thickness:{get:function(){return s.thickness},set:function(e){s.thickness=e}},fill:{get:function(){return s.fill},set:function(e){s.fill=e}}})}a.prototype=Object.create(s.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.a=a},function(e,t,n){"use strict";var i=n(565),s=n(51),a=["linear","radial","angular"];function o(e,t,n){var s=Object.assign({},e);s.colorStops=s.colorStops.map(function(e){return new i.a(e)}),Object.defineProperties(this,{type:{get:function(){return s.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(a));s.type=e},enumerable:!0},from:{get:function(){return s.from},set:function(e){s.from=e},enumerable:!0},to:{get:function(){return s.to},set:function(e){s.to=e},enumerable:!0},angle:{get:function(){return s.angle},set:function(e){s.angle=e},enumerable:!0},scale:{get:function(){return s.scale},set:function(e){s.scale=e},enumerable:!0},colorStops:{value:s.colorStops,enumerable:!0}})}o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map(function(e){return e.toObject()})};return void 0!==this.angle&&(e.angle=this.angle),e},t.a=o},function(e,t,n){"use strict";var i=n(35),s=n(51);function a(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}a.prototype=Object.create(s.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.a=a},function(e,t,n){"use strict";var i=n(35),s=n(51),a=["outer","inner"];function o(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(a));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}}})}o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.a=o},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m});var i,s,a,o,r,l,c=n(8),d=0,u=[],h=!1;function p(e){a&&!a.classList.contains("hidden")&&m(),l=e.cb.autoComplete,a=e.elements.suggestedListContainer,o=a.querySelector(".suggestedListBox"),r=e.elements.textContainer,d=e.index,u=e.list,i=0,s=0,a.classList.remove("hidden");var t=o.querySelector(".suggestedItem[data-index='"+d+"']");t.classList.add("selected"),Object(c.k)(t),h||(h=!0,o.addEventListener("mousemove",f),o.addEventListener("click",b),r.addEventListener("keydown",g,!0))}function m(){if(h&&(r.removeEventListener("keydown",g,!0),o.removeEventListener("mousemove",f),o.removeEventListener("click",g)),a&&!a.classList.contains("hidden")){var e=o.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),a.classList.add("hidden"),a.innerHTML="",o.innerHTML="",r=null,h=!1,u=[],d=0}}function g(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),l(u[o.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),m();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&y(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&y(--d)}}function f(e){if(e.stopPropagation(),i!==e.clientX||s!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||y(t.dataset.index),i=e.clientX,s=e.clientY}}function b(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");l(u[t.dataset.index])}function y(e){d=e;var t=o.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=o.querySelector(".suggestedItem[data-index='"+d+"']");n&&(n.classList.add("selected"),Object(c.k)(n))}},function(e,t,n){"use strict";var i=n(569);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(123),o=n(570),r=n(62),l=n(10),c=n(20),d=n(573);n.n(d);const u=!!l.a&&!!l.a.features&&!!l.a.features.globalStyleguides,h="dismiss-globalstyleguides-whatsnew-popup";t.a=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDismiss=this.handleDismiss.bind(this),this.renderContent=this.renderContent.bind(this),this.state={whatsNewPopupOpen:!1}}static calculateState(){const{globalStyleguidesWhatsNewSeen:e}=a.b.getState();return{globalStyleguidesWhatsNewSeen:e}}static getStores(){return[a.b]}handleOpen(){mixpanel.master.track("Viewed what's new",{Feature:"Global Styleguides"}),this.setState({whatsNewPopupOpen:!0})}handleClick({eventSource:e}){e&&mixpanel.master.track("Clicked what's new link",{Link:e,Feature:"Global Styleguides"})}handleClose(){this.setState({whatsNewPopupOpen:!1})}handleDismiss({eventSource:e}){Object(c.g)()&&u&&l.a.ipcRenderer.send(h),this.handleClick({eventSource:e}),a.a.markGlobalStyleguidesWhatsNewAsSeen(),this.setState({whatsNewPopupOpen:!1})}componentDidMount(){Object(c.g)()&&u&&l.a.ipcRenderer.on(h,()=>a.a.markGlobalStyleguidesWhatsNewAsSeen())}componentWillUnmount(){Object(c.g)()&&u&&l.a.ipcRenderer.removeAllListeners(h)}renderContent(){return mixpanel.master.track("Viewed what's new",{Feature:"Global Styleguides"}),i.default.h(o.a,{onClick:this.handleClick,onDismiss:this.handleDismiss})}render(){const{whatsNewPopupOpen:e,globalStyleguidesWhatsNewSeen:t}=this.state;return t||Object(c.g)()&&!u?null:i.default.h(r.a,{contentClass:"whatsNewPopoverContent",open:e,content:this.renderContent,onOpen:this.handleOpen,onClose:this.handleClose,toggleable:!0},i.default.h("button",{class:"whatsNewButton"},""))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(571);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{onClick:t,onDismiss:n}=e;return i.default.h("div",{class:"whatsNewPopup"},i.default.h("h2",null,"Fresh from the oven "),i.default.h("div",{class:"body"},i.default.h("p",null,i.default.h("strong",null,"Announcing Global Styleguidesconnecting design systems to engineering")),i.default.h("p",null,"You can now create global styleguides and link them multiple projects, ",i.default.h("strong",null,"enabling engineers to reference your design system across all of your projects"),"."),i.default.h("figure",null,i.default.h("a",{href:"https://zpl.io/blog/global-styleguides",target:"_blank",onClick:e=>t({eventSource:"Video"})},i.default.h(o.a,{asset:"img/icGlobalStyleguidePreview.png"}))),i.default.h("p",null,"If you have a design system spanning multiple platforms, you can easily create Styleguide trees with parent-child relationships."),i.default.h("figure",null,i.default.h(o.a,{asset:"img/icGlobalStyleguideTree.png"})),i.default.h("p",null,"Weve been hard at work for the past few monthsthis our biggest update yet. ",i.default.h("a",{href:"https://zpl.io/tweet/global-styleguides",target:"_blank",onClick:e=>t({eventSource:"Share"})},"Share Global Styleguides")," with your team, cant wait to hear what you all think!")),i.default.h("div",{class:"footer"},i.default.h(a.a,{secondary:!0,inverted:!0,onClick:n},"DISMISS"),i.default.h("div",null,i.default.h("a",{href:"https://zpl.io/blog/global-styleguides",target:"_blank",class:"button secondary inverted",onClick:e=>t({eventSource:"Video"})},"LEARN MORE"),i.default.h("a",{href:Object(s.P)("styleguides"),class:"button primary inverted",onClick:e=>n({eventSource:"Get started"})},"GET STARTED"))))};var i=n(0),s=n(1),a=n(9),o=n(69),r=n(572);n.n(r)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(575);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(6),l=n(576),c=n(579);n.n(c);function d(e){const{headerLeft:t,headerCenter:n,headerRight:s,backButtonLabel:a,backButtonLink:c,hideLogo:d,tall:u,hidden:h,loading:p,class:m}=e;return i.default.h("header",{class:Object(o.a)(m,{tall:u,hidden:h})},i.default.h("div",{class:"headerLeft noSelect"},!d&&i.default.h("img",{src:Object(r.e)("img/icZeplin.svg"),alt:"Zeplin",class:"logo"}),a&&i.default.h("a",{href:c,class:"backLink","data-link-type":"inApp"},a),t),i.default.h("div",{class:"headerCenter noSelect"},n),i.default.h("div",{class:"headerRight noSelect"},s),i.default.h(l.a,{running:p}))}d.propTypes={headerLeft:a.a.node,headerCenter:a.a.node,headerRight:a.a.node,backButtonLabel:a.a.string,backButtonLink:a.a.string,tall:a.a.boolean,hidden:a.a.boolean,showLogo:a.a.boolean,class:a.a.string,loading:a.a.boolean},t.a=d},function(e,t,n){"use strict";var i=n(577);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(578);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.zIndex=1,this.state={stopRequested:!1,stopped:!0}}createAnimation(e){const t=Object.values(this.barRefs);this.createBarAnimation(t[e]).addEventListener("finish",n=>{!this.state.stopRequested&&t?this.createAnimation((e+1)%t.length):this.state.stopped||(this.createBarAnimation(this.nodeRefs.bgBar),this.setState({stopped:!0}))})}createBarAnimation(e){const{duration:t,easing:n}=this.props;return this.zIndex=(this.zIndex+1)%9999,e.animate([{transform:"scaleX(0)",zIndex:this.zIndex},{transform:"scaleX(1)",zIndex:this.zIndex}],{duration:t,fill:"forwards",easing:n})}startAnimation(){this.setState({stopRequested:!1,stopped:!1}),this.createAnimation(0)}componentDidMount(){this.props.running&&this.startAnimation()}componentWillReceiveProps(e){this.props.running&&!e.running?this.setState({stopRequested:!0}):!this.props.running&&e.running&&this.startAnimation()}render(){const{class:e,colors:t,bgColor:n}=this.props,o=Object(s.a)("loadingBar",e);return i.default.h("div",{class:o},i.default.h("div",{key:"bgBar",class:"background",ref:Object(a.a)(this,"bgBar"),style:{backgroundColor:n}}),t.map((e,t)=>i.default.h("div",{key:`bar${t}`,ref:Object(a.a)(this,`bar${t}`,"barRefs"),class:"bar",style:{backgroundColor:e}})))}}r.defaultProps={bgColor:"var(--casper)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=new Map},function(e,t,n){"use strict";n(582);var i=n(741);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),s=n(3),a=n.n(s),o=n(1),r=n(2),l=n(4),c=n(8),d=n(583),u=n(740);n.n(u);const h=150;function p(e){class t extends i.default.Component{constructor(e){super(e),this.collapseExpandSection=this.collapseExpandSection.bind(this),this.handleHeaderClick=this.handleHeaderClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.highlightSection=this.highlightSection.bind(this),this.highlightName=this.highlightName.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.state={collapsed:e.collapsed,menuShown:!1,hidden:!1}}collapseExpandSection(e){e.stopPropagation(),this.state.collapsed?this.setState({collapsed:!1}):this.setState({collapsed:!0})}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}hideOptionsMenu(){this.state.menuShown&&this.setState({menuShown:!1})}highlight(){this.state.collapsed&&this.setState({collapsed:!1});const{top:e}=this.nodeRefs.base.getBoundingClientRect(),t=Object(c.d)(this.nodeRefs.base);t&&(t.scrollTop+=e-h),this.nodeRefs&&this.nodeRefs.headerBase&&this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"})}highlightSection(){const{scroll:e,highlight:t,onScroll:n}=this.props;if(e){this.state.collapsed&&this.setState({collapsed:!1});const{top:e}=this.nodeRefs.base.getBoundingClientRect(),t=Object(c.d)(this.nodeRefs.base);t&&(t.scrollTop+=e-h)}t&&this.nodeRefs&&this.nodeRefs.headerBase&&this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}highlightName(){this.componentRefs.header.highlightName()}highlightDescription(){this.state.collapsed?this.setState({collapsed:!1},()=>{this.componentRefs.header.highlightDescription()}):this.componentRefs.header.highlightDescription()}handleHeaderClick(){const{collapsed:e}=this.state;e&&this.setState({collapsed:!1})}handleStartDrag(){const{empty:e}=this.props;this.setState(Object(o.w)({hidden:!0,collapsed:!e,menuShown:!1}))}handleEndDrag(){this.setState({hidden:!1})}handleBaseRef(e){Object(l.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}componentDidMount(){this.highlightSection()}componentWillReceiveProps(e){this.state.collapsed&&(e.forceExpand||e.empty)&&this.setState({collapsed:!1})}componentDidUpdate(e,t){!t.collapsed&&this.state.collapsed?this.props.onCollapse(this.props.id):t.collapsed&&!this.state.collapsed&&this.props.onExpand(this.props.id),this.highlightSection()}renderHeader(){const{id:t,name:n,index:s,styleguideId:a,defaultSection:o,countInfoText:r,componentCount:c,emptyText:d,empty:u,readOnly:h,headerClass:p,actionsDisabled:m,description:g,optionsMenu:f,onNameBlur:b,onDescriptionBlur:y,draggable:v,contextMenuRef:S,optionsButtonRef:C,optionsActive:E,sectionHeaderHover:k}=this.props,{collapsed:O,menuShown:D}=this.state;return o?null:i.default.h(e,{baseRef:Object(l.a)(this,"headerBase"),contextMenuRef:S,componentRef:Object(l.a)(this,"header","componentRefs"),class:p,hasDragHover:k,id:t,index:s,styleguideId:a,name:n,countInfoText:r,componentCount:c,empty:u,emptyText:d,readOnly:h,actionsDisabled:m,description:g,onNameBlur:b,onDescriptionBlur:y,collapsed:O,optionsMenu:D&&f,draggable:v,optionsButtonRef:C,optionsActive:E,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag})}render(){const{children:e,targetPosition:t,empty:n,class:s}=this.props,{collapsed:a,hidden:o,menuShown:l}=this.state,c=Object(r.a)("section",s,t,{collapsed:a,empty:n,menuShown:l,hidden:o});return i.default.h("div",{class:c,ref:this.handleBaseRef},this.renderHeader(),!a&&!n&&e)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.default.h(t,n)}}const m=p(d.b);m.displayName="Section",m.propTypes={onNameBlur:a.a.func.isRequired,onDescriptionBlur:a.a.func.isRequired,name:a.a.string,description:a.a.string,id:a.a.string.isRequired,defaultSection:a.a.bool,children:a.a.arrayOf(a.a.element).isRequired,countInfoText:a.a.string,showOptionsButton:a.a.bool,optionsMenu:a.a.element,readOnly:a.a.bool,actionsDisabled:a.a.bool},m.defaultProps={showOptionsButton:!1,defaultSection:!1}},function(e,t,n){"use strict";var i=n(732);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(742);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(76),s=n(175),a=n(274),o=n(49),r=n(16),l=n(15),c=n(42);const d={onProjectLink({project:e,styleguide:t,oid:n,syncWithApi:i}){(i?Object(r.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(s=>{i&&mixpanel.master.track("Linked styleguide to project");const{styleguides:{[n]:a}}=c.c.getState(),o=[...t.ancestors,t._id].filter(e=>!(a[e]&&a[e].complete));return Promise.all(o.map(t=>Object(r.getStyleguide)(t,{projectId:e._id})))}).then(i=>{a.a.linkProjectToStyleguideSuccess({project:e,styleguide:t,oid:n,styleguides:i})}).catch(i=>{a.a.unlinkProjectFromStyleguide({pid:e._id,styleguide:t,oid:n}),l.b(i)})},onProjectUnlink({pid:e,styleguide:t,oid:n}){Object(r.removeProjectStyleguideLink)(e).catch(i=>{const{projects:s}=o.c.getState(),r=s[n][e];a.a.linkProjectToStyleguide({project:r,styleguide:t,oid:n}),l.b(i)})}};s.a.register(e=>{switch(e.type){case i.a.UNLINK_PROJECT:e.syncWithApi&&d.onProjectUnlink(e);break;case i.a.LINK_PROJECT_REQUEST:d.onProjectLink(e)}})},function(e,t,n){"use strict";var i=n(759);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";let i,s;t.a=function(e){s||(i=new IntersectionObserver(o,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),s={observe(e,t){a.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),a.delete(e)}});return s};const a=new WeakMap;function o(e){e.forEach(e=>{const t=a.get(e.target);t&&t(e)})}},function(e,t,n){"use strict";var i=n(768);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(590),l=n(176),c=n(593);n.n(c);function d(e){const{class:t,filterValue:n,onFilter:s,onSort:a,sortOptions:c,selectedSortType:d,inputPlaceholder:u,placeholderWidth:h,rightContent:p,disabled:m}=e;return i.default.h("div",{class:Object(o.a)("filterSortView",t)},i.default.h("div",{class:"bumper"},!n&&c&&i.default.h(l.a,{onChange:a,optionsClass:"sortOptionsClass",pos:{top:22,left:0}},c.map(({label:e,value:t})=>i.default.h(l.a.Item,{key:t,label:e,value:t,selected:t===d})))),i.default.h(r.a,{placeholder:u,placeholderWidth:h,value:n,onFilter:s,disabled:m}),i.default.h("div",{class:"bumper"},p))}d.propTypes={class:a.a.string,inputPlaceholder:a.a.string,sortOptions:a.a.arrayOf(a.a.shape({label:a.a.string.isRequired,value:a.a.string.isRequired})).isRequired,selectedSortType:a.a.string.isRequired,filterValue:a.a.string,onSort:a.a.func.isRequired,onFilter:a.a.func.isRequired,rightContent:a.a.element,disabled:a.a.bool},d.defaultProps={filterValue:"",placeholderWidth:162},t.a=d},function(e,t,n){"use strict";var i=n(591);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(8),r=n(592);n.n(r);const l=200;t.a=class extends i.default.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,l,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){if((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&e.keyCode===Zeplin.KEY_CODE.KeyF){e.preventDefault();const t=Object(o.d)(this.nodeRefs.input);Object(o.g)(this.nodeRefs.input),setTimeout(()=>{t.scrollTop=0},4)}}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{placeholder:e,placeholderWidth:t,disabled:n}=this.props,{focusWithin:o,value:r}=this.state,l=Object(s.a)("filterInput noSelect",{focusWithin:o}),c=o||r?null:{width:t};return i.default.h("label",{class:l},i.default.h("svg",{width:"16",height:"16"},i.default.h("path",{"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.606-4.215-1.606-5.823 0-1.606 1.61-1.606 4.217 0 5.825z"})),i.default.h("input",{style:c,type:"search",placeholder:e,value:r,ref:Object(a.a)(this,"input"),disabled:n,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(795);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(815);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(828);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(830);n.n(a);t.a=function(e){const{class:t,disabled:n,full:a}=e,o=Object(s.a)("slackLogo",t,{disabled:n});return a?i.default.h("svg",{width:"87",height:"22",class:o},i.default.h("path",{d:"M4.71 13.86a2.28 2.28 0 1 1-2.28-2.29H4.7v2.29zM5.86 13.86a2.28 2.28 0 1 1 4.57 0v5.71a2.28 2.28 0 1 1-4.57 0v-5.71z"}),i.default.h("path",{d:"M8.14 4.68a2.28 2.28 0 1 1 2.29-2.29v2.29H8.14zM8.14 5.84a2.28 2.28 0 1 1 0 4.57H2.41a2.28 2.28 0 1 1 0-4.57h5.73z"}),i.default.h("path",{d:"M17.3 8.12a2.28 2.28 0 1 1 2.3 2.3h-2.3v-2.3zM16.16 8.12a2.28 2.28 0 1 1-4.57 0V2.4a2.28 2.28 0 1 1 4.57 0v5.73z"}),i.default.h("path",{d:"M13.88 17.29a2.28 2.28 0 1 1-2.3 2.28V17.3h2.3zM13.88 16.14a2.28 2.28 0 1 1 0-4.57h5.73a2.28 2.28 0 1 1 0 4.57h-5.73z"}),i.default.h("path",{class:"text",d:"M27.63 17.24l1.07-2.5a7.16 7.16 0 0 0 4.23 1.32c1.13 0 1.84-.43 1.84-1.1-.02-1.83-6.74-.4-6.8-5-.01-2.34 2.07-4.14 5.01-4.14 1.75 0 3.5.43 4.75 1.42l-1 2.55a7.58 7.58 0 0 0-3.92-1.25c-.92 0-1.52.43-1.52.99.01 1.8 6.79.81 6.85 5.21 0 2.4-2.02 4.07-4.93 4.07-2.13 0-4.09-.5-5.58-1.57m41.21-3.4a3.1 3.1 0 1 1 0-3.05l2.96-1.64a6.5 6.5 0 1 0 0 6.34l-2.96-1.65zM39.63.44h3.71v18.14h-3.7zm33.62 0v18.13h3.71v-5.44l4.4 5.44h4.75l-5.6-6.46 5.18-6.03h-4.54l-4.19 5V.45zM54.36 13.88a3.42 3.42 0 0 1-2.9 1.54 3.1 3.1 0 1 1 0-6.2c1.25 0 2.36.69 2.9 1.59v3.07zm0-7.8v1.47c-.6-1.02-2.11-1.73-3.7-1.73-3.25 0-5.81 2.88-5.81 6.48 0 3.6 2.56 6.51 5.82 6.51 1.58 0 3.08-.7 3.69-1.73v1.47h3.7V6.08h-3.7z"})):i.default.h("svg",{width:"16",height:"16",class:o},i.default.h("path",{d:"M3.406 10.09c0 .916-.748 1.665-1.664 1.665A1.669 1.669 0 0 1 .077 10.09c0-.916.749-1.664 1.665-1.664h1.664v1.664zM4.245 10.09c0-.916.749-1.664 1.665-1.664s1.664.748 1.664 1.664v4.168c0 .916-.748 1.665-1.664 1.665a1.669 1.669 0 0 1-1.665-1.665V10.09z"}),i.default.h("path",{d:"M5.91 3.406a1.669 1.669 0 0 1-1.665-1.664c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742A1.669 1.669 0 0 1 .077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.default.h("path",{d:"M12.594 5.91c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664h-1.664V5.91zM11.755 5.91c0 .916-.749 1.664-1.665 1.664A1.669 1.669 0 0 1 8.426 5.91V1.742c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665V5.91z"}),i.default.h("path",{d:"M10.09 12.594c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665a1.669 1.669 0 0 1-1.664-1.665v-1.664h1.664zM10.09 11.755a1.669 1.669 0 0 1-1.664-1.665c0-.916.748-1.664 1.664-1.664h4.168c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665H10.09z"}))}},function(e,t,n){"use strict";var i=n(838);t.a=i.a},function(e,t,n){"use strict";var i=n(600);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(37),o=n(2),r=n(4),l=n(601);n.n(l);const c=30;t.a=class extends i.default.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(s.k)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:l,srcset:d}=Object(s.f)(e,{ignoreRandomEmotar:!1,size:c});return i.default.h("div",{class:"memberRow",ref:Object(r.a)(this,"memberRow")},i.default.h(a.a,{class:"memberRowAvatar",src:l,srcset:d,width:c,height:c}),"invited"===e.status?i.default.h("div",{class:"info"},i.default.h("div",{class:"ellipsis",title:e.email},e.email),i.default.h("div",null,"pending invitation")):i.default.h("div",{class:"info"},i.default.h("div",{class:"ellipsis",title:e.username},e.username),i.default.h("div",{class:"ellipsis",title:e.email},e.email)),n&&i.default.h("button",{class:Object(o.a)("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.default.h("svg",{width:"24",height:"24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"6",cy:"12",r:"2"}),i.default.h("circle",{cx:"12",cy:"12",r:"2"}),i.default.h("circle",{cx:"18",cy:"12",r:"2"})))))}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m});var i=n(0),s=n(373),a=n(1),o=n(4),r=n(250),l=n(613);n.n(l);const c=({title:e="No styleguides to link yet",children:t})=>i.default.h("div",{class:"linkToStyleguidePopupEmpty"},i.default.h("h3",null,e),t),d=({projectOwnerName:e})=>i.default.h(c,null,i.default.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.default.h("strong",null,e)," and youre not invited to any of their styleguides.")),u=({hasOrganization:e})=>i.default.h(c,null,i.default.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"theres no organization styleguide yet":"you don't have a styleguide yet",", ",i.default.h("a",{href:Object(a.P)("styleguides"),class:"emptyCreateButton"},"go ahead and create one"),".")),h=({oid:e})=>i.default.h(c,{title:"No styleguides to move to yet"},i.default.h("p",null,"Looks like theres no organization styleguide yet, ",i.default.h("a",{href:Object(a.P)("organization-styleguides",{url:{oid:e}}),class:"emptyCreateButton"},"go ahead and create one"),".")),p=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.default.h(c,{title:"No styleguides to move to yet"},i.default.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and youre not invited to any of their styleguides.")),m=({resourceType:e})=>i.default.h(c,{title:"No styleguides to move to yet"},i.default.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you dont have a styleguide yet, ",i.default.h("a",{href:Object(a.P)("styleguides"),class:"emptyCreateButton"},"go ahead and create one"),"."));class g extends i.default.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(r.b)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=`${this.nodeRefs.base.clientHeight}px`),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(r.b)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:a}=this.props;return i.default.h("div",{ref:Object(o.a)(this,"base"),class:"linkToStyleguidePopup"},i.default.h("p",{class:"noSelect"},a),i.default.h(s.a,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}g.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.f=g},function(e,t,n){"use strict";var i=n(0),s=n(361),a=n(2),o=n(33),r=n(609);n.n(r);const l=i.default.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("g",{"fill-rule":"evenodd"},i.default.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.default.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.default.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.default.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.default.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.default.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.default.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.default.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})));function c({name:e,type:t,selected:n,loading:s}){const o=Object(a.a)("nodeItem",{selected:n});return i.default.h("div",{class:o},i.default.h("span",{class:"styleguideName ellipsis"},e),",",i.default.h("span",{class:"nodeType"},t),s&&n&&i.default.h("div",{class:"nodeSpinner"},l))}t.a=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:r,hoverable:l,loading:d,class:u}=e,h=function(e,t,n){return function e(s){return s.map(({id:s,data:{name:a,type:r},children:l})=>({id:s,title:a,children:e(l),content:i.default.h(c,{name:a,loading:n,type:o.d[r],selected:t===s})}))}(e.map(e=>e.root))}(t,n,d),p=Object(a.a)("styleguidesTreeView",u);return i.default.h(s.a,{class:p,tree:h,selectedNodeId:n,onNodeSelect:r,hoverable:!d&&l,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1),r=n(20),l=n(2),c=n(4),d=n(605),u=n(608);n.n(u);function h(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(h(e.children,t,e.id)))))}function p(e,t){for(const n of e){if(n.id===t)return n;let e=p(n.children,t);if(e)return e}return null}const m=300,g=4;class f extends i.default.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=h(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{let{collapsedNodes:n}=t;return n.includes(e)?Object(o.b)(n,t=>t===e):n.push(e),{collapsedNodes:n}}),function(e,t){return!!p(e.children,t)}(p(t,e),n)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:s}=this.props;if(s)return;this.setState({selectedNodeId:e});const a=t?m:g;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,a,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e,{debounce:!0})}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(r.h)()&&e.metaKey?this.nodeList.length-1:n+1,s=this.nodeList[i];this.handleNodeSelect(s.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(r.h)()&&e.metaKey?0:n-1,s=this.nodeList[i];this.handleNodeSelect(s.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const e=this.nodeList[0];this.handleNodeSelect(e.id,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:s}=e,{collapsedNodes:a}=t;n.length!==a&&(this.nodeList=h(i,a,null)),this.setState({selectedNodeId:s})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t){const{nodeClass:n,nodePadding:s}=this.props,{collapsedNodes:a,selectedNodeId:o}=this.state;return e.map(({id:e,title:r,content:l,class:c,children:u})=>{const h=a.includes(e),p=o===e;return i.default.h("div",{key:`tree-${e}`,class:"tree"},i.default.h(d.a,{key:`node-${e}`,class:[n,c],extraPadding:s,id:e,title:r,level:t,leaf:!u.length,collapsed:h,selected:p,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover},l),0!==u.length&&!h&&this.renderTree(u,t+1))})}render(){const{class:e,tree:t}=this.props,n=Object(l.a)("treeView",e);return i.default.h("div",{class:n,tabIndex:"0",ref:Object(c.a)(this,"base"),onClick:o.N,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,0))}}const b={id:a.a.string.isRequired,title:a.a.string.isRequired,content:a.a.node.isRequired},y=a.a.shape(b);y.children=a.a.arrayOf(y).isRequired,f.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),nodeClass:a.a.string,nodePadding:a.a.number,tree:a.a.arrayOf(y).isRequired,selectedNodeId:a.a.string,onNodeSelect:a.a.func.isRequired,hoverable:a.a.bool,focusOnMount:a.a.bool,frozen:a.a.bool},t.a=f},function(e,t,n){"use strict";var i=n(606);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(8),r=n(2),l=n(4),c=n(607);const d=i.default.h("svg",{width:"8",height:"8",viewBox:"0 0 8 8"},i.default.h("path",{"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"})),u=12,h=8,p=2*u;class m extends i.default.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e;if(t.length!==n.length)return!0;for(const[i,s]of Object(c.a)(t,n))if(i!==s)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.leaf!==e.leaf||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected}componentDidUpdate(){const{selected:e}=this.props;e&&Object(o.k)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:s,level:a,leaf:o,collapsed:c,selected:m}=this.props,g=Object(r.a)("node",t,{selected:m}),f=Object(r.a)("chevron",{collapsed:c}),b=n+a*u+(o?p:h);return i.default.h("div",{class:g,style:{paddingLeft:b},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:Object(l.a)(this,"base")},!o&&i.default.h("button",{class:f,onClick:this.handleChevronClick},d),i.default.h("span",{class:"nodeName ellipsis noSelect",title:s},e))}}m.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),extraPadding:a.a.number,id:a.a.string.isRequired,level:a.a.number.isRequired,children:a.a.oneOfType([a.a.node,a.a.element]).isRequired,title:a.a.string.isRequired,leaf:a.a.bool.isRequired,collapsed:a.a.bool.isRequired,selected:a.a.bool.isRequired,onNodeSelect:a.a.bool.isRequired,onChevronClick:a.a.func.isRequired},m.defaultProps={extraPadding:0},t.a=m},function(e,t,n){"use strict";t.a=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=class{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";var i=n(612);t.a=class{constructor(e){this.root=e,this.levels=function e(t,n=1,s={}){return t.children.length>0&&(s[n]=(s[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,s)})),Object.keys(s).map(e=>new i.a(Number(e),s[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";t.a=class{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t){},function(e,t,n){"use strict";var i=n(875);t.a=i.a},function(e,t){e.exports=Prism},function(e,t,n){"use strict";t.a=function(e){var t,n=new URL(e);switch(n.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":var i=n.hostname.split(".");t=i[i.length-2];break;case"www.twitter.com":case"twitter.com":t=n.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:t=e.replace(/https?:\/\//,"")}return{url:e,text:t}}},function(e,t,n){"use strict";let i=0;t.a=class{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value:function(){return this.invoke(e,Array.from(arguments))}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const s=this.constructor.getInvocationId();this.callbacks[s]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:s,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";var i=n(24);const s={create:function(e,t,n={}){return{get:s=>i.a.get(e,t,s).then(function(e){return null===e||void 0===e?n[s]:e}),getAll:()=>i.a.get(e,t).then(function(e){return Object.assign({},n,e)}),set:(n,s)=>i.a.set(e,t,n,s)}},clear:function(e){return i.a.remove(e)}};t.a=s},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(277),o=n(278),r=n(279),l=n(280);t.a=new class extends s.a{constructor(){super(r.a)}getInitialState(){return{removedExtensions:{},enabledExtensions:{},extensions:[],barrel:null,barrelType:"project",initialized:!1}}loadExtensions(e,{barrel:t,barrelType:n,extensions:i,enabledExtensions:s}){return e.extensions.forEach(e=>{e.terminate()}),{initialized:!0,removedExtensions:{project:[],styleguide:[]},enabledExtensions:{[n]:s},barrel:t,barrelType:n,extensions:i}}updateExtensionOption(e,t,n,i){const s=e.extensions.slice(0);return s.find(e=>e.id===t).setOption(n,i),Object.assign({},e,{extensions:s})}enableExtension(e,t){const{enabledExtensions:n,barrel:i,barrelType:s}=e;return l.a.enableExtension(i.id,s,t),Object.assign({},e,{enabledExtensions:Object.assign({},n,{[s]:n[s].concat(t)})})}disableExtension(e,t){const{enabledExtensions:n,barrel:i,barrelType:s}=e;return l.a.disableExtension(i.id,s,t),Object.assign({},e,{enabledExtensions:Object.assign({},n,{[s]:n[s].filter(e=>e!==t)})})}removeExtensionRequested(e,t,n){const{extensions:i,enabledExtensions:s,removedExtensions:a,barrelType:o}=e;l.a.disableExtension(t,o,n);const r=i.find(e=>e.id===n),c={enabledExtensions:Object.assign({},s,{[o]:s[o].filter(e=>e!==n)}),removedExtensions:r?Object.assign({},a,{[o]:a[o].concat(r)}):a,extensions:i.filter(e=>e.id!==n)};return Object.assign({},e,c)}removeExtensionResult(e,t,n,i){const{barrel:s,barrelType:a,removedExtensions:o,extensions:r,enabledExtensions:c}=e,d=o[a].find(e=>e.id===n);if(!d)return e;let u={removedExtensions:Object.assign({},o,{[a]:o[a].filter(e=>e.id!==n)})};return i?(s.removeExtension(n),d.terminate()):(l.a.enableExtension(t,a,d.id),u=Object.assign({},u,{enabledExtensions:Object.assign({},c,{[a]:c[a].concat(n)}),extensions:r.concat(d)})),Object.assign({},e,u)}addExtensionRequested(e,t,n){const i=e.extensions.find(e=>t.id===e.id);return i?(n&&i.reload(),Object.assign({},this.enableExtension(e,i.id))):(a.a.loadExtension(e.barrel,e.barrelType,t),e)}loadExtension(e,t){return e.extensions.push(t),Object.assign({},this.enableExtension(e,t.id))}reloadLocalExtensions(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),Object.assign({},e)):e}reduce(e,t){switch(t.type){case o.a.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case o.a.UPDATE_EXTENSION_OPTION:return this.updateExtensionOption(e,t.id,t.name,t.value);case o.a.DISABLE_EXTENSION:return this.disableExtension(e,t.id);case o.a.ENABLE_EXTENSION:return this.enableExtension(e,t.id);case o.a.REMOVE_EXTENSION_REQUESTED:return this.removeExtensionRequested(e,t.pid,t.id);case o.a.REMOVE_EXTENSION_SUCCESS:return this.removeExtensionResult(e,t.pid,t.id,!0);case o.a.REMOVE_EXTENSION_FAIL:return this.removeExtensionResult(e,t.pid,t.id,!1);case o.a.ADD_EXTENSION_REQUESTED:return this.addExtensionRequested(e,t.extension,t.local);case o.a.LOAD_EXTENSION:return this.loadExtension(e,t.extension);case o.a.ADD_LOCAL_EXTENSION:return this.addLocalExtension(e,t.extension);case o.a.RELOAD_LOCAL_EXTENSIONS:return this.reloadLocalExtensions(e);default:return e}}}},function(e,t,n){"use strict";var i=n(621);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(2),o=n(8),r=n(1),l=n(4),c=n(622),d=n(37),u=n(624);n.n(u);const h=180;function p(e){const t=Math.floor(e.latestVersion.snapshot.height*h/e.latestVersion.snapshot.width);return i.default.h(c.a,{height:t,key:e._id,source:e.latestVersion.snapshot.url})}function m(e,t){if(!e||!e.length)return i.default.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(r.L.role).map(({user:e})=>Object.assign({},e,{avatar:Object(o.f)(e).src,title:"invited"!==e.status?e.username:`Pending (${e.email})`}))}(e),s=n.slice(0,t).map(e=>i.default.h(d.a,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}));if(n.length===t+1){const e=n[t];s.push(i.default.h(d.a,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}))}else if(n.length>t+1){const a=n.slice(t).map(e=>e.title).join("\n"),o=i.default.h("div",{key:"remainingUsers",class:"remainingUsers",title:a},"+",e.length-t);s.push(o)}return i.default.h("div",{class:"projectUsers"},s)}t.a=class extends i.default.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),s=h+24,a=Math.floor((i-e)/s),o=i-a*s;let r=t;n.screens.length&&(r=o/2),this.nodeRefs.base.style=`padding-left: ${r}px; padding-right: ${r}px;`;const l=a*s-24-36,c=Math.floor(l/42);c!==this.state.usersLimit&&this.setState({usersLimit:c})}handleJoinClick(){this.props.onJoinClick(this.props.projectData._id)}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:o,users:c,screens:d},loadingJoin:u=!1,hideJoinButton:h,headerSticky:g}=this.props,{usersLimit:f}=this.state,b=Object(a.a)("projectPreviewHeader",{sticky:g}),y=Object(r.q)(n,o);return i.default.h("div",{ref:Object(l.a)(this,"base"),class:"projectPreview",key:e},i.default.h("div",{class:b},i.default.h("div",null,i.default.h("h1",null,t),i.default.h("h5",null,i.default.h("span",{class:"projectPreviewType"},Object(r.u)(n)),o&&i.default.h("span",{class:"projectPreviewDensity"},y))),!h&&i.default.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.default.h("img",{src:s.e("img/icSpinnerWhite.svg"),class:"spinning"}):i.default.h("span",null,"Join"))),m(c,f),function(e){return e&&e.length?i.default.h("div",{class:"projectPreviewScreens"},e.map(p)):i.default.h("div",{class:"projectPreviewScreensEmpty"},i.default.h("h1",null,"No designs in this project yet!"),i.default.h("h3",null,"Join and upload the first!"))}(d))}}},function(e,t,n){"use strict";var i=n(623);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(275),a=n(2);t.a=class extends i.default.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=Object(a.a)({loading:n},"projectPreviewScreen","noSelect");return i.default.h("div",{class:o,style:{height:e}},i.default.h(s.a,{source:t,onLoad:this.handleLoad}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(126),o=n(253),r=n(57),l=n(131);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{sortType:"default",filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,highlightedColors:[],highlightedTextStyles:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1}}}load(e={}){return Object.assign({},this.getInitialState(),e)}updateState(e,t){return Object.assign({},e,t)}changeSortType(e,t){return Object.assign({},e,{sortType:t})}changeFilterValue(e,t){return Object.assign({},e,{filterValue:t})}changeLeftSidebarWidth(e,t){return Object.assign({},e,{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return Object.assign({},e,{rightSidebarWidth:t})}changeSelectedStyleguideSection(e,t){let n=e.showSuggestedResourcesBadge;return"colors"!==t&&"textStyles"!==t||(n=Object.assign({},n,{[t]:!1})),Object.assign({},e,{selectedStyleguideSection:t,selectedNavigatorId:null,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:n})}changeSelectedNavigatorId(e,t,n){return Object.assign({},e,{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return Object.assign({},e,{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return Object.assign({},e,{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return Object.assign({},e,{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return Object.assign({},e,{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}sectionScrolled(e){return Object.assign({},e,{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n}){return Object.assign({},e,{selectionComponentId:t,selection:n})}componentSnapshotsReady(e){return Object.assign({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?Object.assign({},e,{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{data:t,resourceType:n,targetNode:i}){return Object.assign({},e,{moveResourcesPopup:{data:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return Object.assign({},e,{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return Object.assign({},e,{moveResourcesPopup:Object.assign({},n,{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return Object.assign({},e,{moveResourcesPopup:Object.assign({},t,{targetStyleguide:null})})}setSuggestedResources(e){return Object.assign({},e,{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}reduce(e,t){switch(t.type){case r.a.LOAD:return this.load(t.styleguide);case a.a.UPDATE_STATE:return this.updateState(e,t.update);case a.a.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.a.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case a.a.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case a.a.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case a.a.CHANGE_SELECTED_STYLEGUDE_SECTION:return this.changeSelectedStyleguideSection(e,t.selectedStyleguideSection);case a.a.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case a.a.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case a.a.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case a.a.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case a.a.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case a.a.SECTION_SCROLLED:return this.sectionScrolled(e);case a.a.CHANGE_SELECTION:return this.changeSelection(e,t);case a.a.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case a.a.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case a.a.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case a.a.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case a.a.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case r.a.REMOVE_COMPONENT:return this.removeComponent(e,t);case r.a.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case r.a.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case l.a.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);default:return e}}}},function(e,t,n){"use strict";var i=n(627);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(2),o=n(628);n.n(o);t.a=function({onClick:e,baseRef:t,class:n}){const o=Object(a.a)("optionsButton",n);return i.default.h("button",{ref:t,onClick:e,class:o,tabindex:"-1"},i.default.h("img",{src:Object(s.e)("img/icSettings.svg")}))}},function(e,t){},function(e,t,n){"use strict";var i=n(630);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(631),r=n(113),l=n(4),c=n(2),d=n(8);function u(e){return e.filter(e=>e&&e.nodeName&&e.nodeName.name===o.a.name).map(e=>e.attributes.value)}class h extends i.default.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemHover=this.handleItemHover.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.values=u(e.children),this.state={selected:this.values[0]}}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(d.k)(this.nodeRefs[`selectedListItem-${e}`])})}handleKeyDown(e){if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}handleItemHover(e){this.mouseActive&&this.changeSelected(e)}handleMouseMove(){this.mouseActive=!0}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const{children:t}=e,n=u(t);Object(r.a)(n,this.values)&&(this.values=n,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{children:t,onSelect:n}=this.props;return t.map(t=>{if(!t||!t.nodeName||t.nodeName.name!==o.a.name)return t;const s=t.attributes.value,a=s===e;return i.default.cloneElement(t,{key:s,onClick:n,onHover:this.handleItemHover,selected:a,baseRef:Object(l.a)(this,`selectedListItem-${s}`)})})}render(){const{class:e}=this.props,t=Object(c.a)("selectableListView",e);return i.default.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}h.propTypes={onSelect:a.a.func.isRequired,children:a.a.oneOfType([a.a.instanceOf(o.a),a.a.node])},h.ListItem=o.a,t.a=h},function(e,t,n){"use strict";var i=n(632);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s);class o extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:s,baseRef:a,class:o}=this.props;return i.default.h("div",{ref:a,class:o,onClick:this.handleClick,onMouseEnter:this.handleHover,style:s},n(t,e))}}o.propTypes={renderItem:a.a.func.isRequired,onClick:a.a.func.isRequired,onHover:a.a.func.isRequired,value:a.a.string.isRequired,selected:a.a.bool},t.a=o},function(e,t,n){"use strict";var i=n(921);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(932);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(64),r=n(9),l=n(2),c=n(939);n.n(c);function d(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:s,actionButtonText:a,emoji:c,title:d,description:u,children:h,class:p}=e,m=Object(l.a)("genericStyleguideHintBox",p);return i.default.h(o.a,{class:m,onHideClick:t,hideButtonText:s,hideEmoji:!0},i.default.h("div",{class:"hintBoxContainer"},i.default.h("span",{class:"emoji"},c),i.default.h("div",{class:"text"},i.default.h("h5",null,d),i.default.h("p",null,u)),n&&i.default.h(r.a,{class:"actionButton",onClick:n,primary:!0},a)),h)}d.propTypes={onHideClick:a.a.func.isRequired,hideButtonText:a.a.string.isRequired,onActionButtonClick:a.a.func,actionButtonText:a.a.string,emoji:a.a.string.isRequired,title:a.a.string.isRequired,description:a.a.string.isRequired},t.a=d},function(e,t,n){"use strict";t.a=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,s=t[0].next();for(;;)if(n=s,s=t[i=(i+1)%t.length].next(),yield n.value,s.done)return}}},function(e,t,n){"use strict";t.a=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t,n){"use strict";var i=n(959);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";const i=Object.freeze({LEFT:"left",RIGHT:"right"});t.a=i},function(e,t,n){"use strict";t.a={SET_PREF:"setPref"}},function(e,t,n){"use strict";var i=n(34);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(991);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(992);t.a=i.a},function(e,t,n){"use strict";var i=n(1002);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1024);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1032);n.d(t,"a",function(){return i.a})},function(e,t){},function(e,t,n){"use strict";var i=n(1053);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(650);n.d(t,"a",function(){return i.a});var s=n(657);n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(651);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(1),o=n(283),r=n(284),l=n(656),c=(n.n(l),n(2));const d=72,u=42,h=12,p=6;const m=108;t.a=class extends i.default.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(a.g)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.default.h("div",{class:Object(c.a)("styleguidePreviewLoading",this.props.class),ref:Object(s.a)(this,"base")},i.default.h("div",{class:"styleguidePreviewLoadingHead"}),i.default.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.default.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/u);return Array.from({length:Math.min(h,t)},()=>i.default.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.default.h("div",{class:"styleguidePreviewLoadingSection"},i.default.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.default.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/d);return Array.from({length:2*t},()=>i.default.h(o.a,null))}(e))),i.default.h("div",{class:"styleguidePreviewLoadingSection"},i.default.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.default.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:p},()=>i.default.h(r.a,null)))),i.default.h("div",{class:"styleguidePreviewLoadingSection"},i.default.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.default.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/m);return Array.from({length:2*t},()=>i.default.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(0),s=n(653);n.n(s);function a(){return i.default.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.b=function({color:e}){return i.default.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),s=n(177),a=n(655);n.n(a);function o(){return i.default.h("div",{class:"previewTextStyleCatalogRow"},i.default.h("div",{class:"previewTextStyleCatalogRowName"},i.default.h("div",{class:"placeholder"})),i.default.h("div",{class:"previewTextStyleCatalogRowInfo"},i.default.h("div",{class:"placeholder"})))}t.b=class extends i.default.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:s}}=this.props,a={fontSize:e,fontWeight:n,fontStyle:s};return i.default.h("span",{style:a},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:a}=Object(s.d)(t);return i.default.h("div",{class:"previewTextStyleCatalogRowStyle"},i.default.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(a))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.default.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(s.c)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.default.h("div",{class:"previewTextStyleCatalogColorContainer"},i.default.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.default.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?`#${t.name}`:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.default.h("div",{class:"previewTextStyleCatalogRow"},i.default.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.default.h("div",{class:"previewTextStyleCatalogRowInfo"},i.default.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=function(e){const{name:t,type:n,users:m,densityScale:g,colors:f,textStyles:b,components:y,showJoinButton:v,loadingJoin:S,onJoin:C,headerSticky:E}=e,k=f&&!!f.length,O=b&&!!b.length,D=y&&!!y.length,w=!k&&!O&&!D,j=Object(s.q)(n,g);return i.default.h("div",{class:"styleguidePreview"},i.default.h("div",{class:Object(o.a)("styleguidePreviewHeader",{sticky:E})},i.default.h("div",null,i.default.h("h1",null,t),i.default.h("h5",null,i.default.h("span",{class:"styleguidePreviewType"},a.d[n]),g&&i.default.h("span",{class:"styleguidePreviewDensity"},", ",j))),v&&i.default.h(p.a,{class:"styleguidePreviewJoinButton",ripple:"peach",onClick:C},S?i.default.h("img",{src:Object(r.e)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.default.h(h.a,{members:m,class:"styleguidePreviewMembers",avatarSize:36}),k&&i.default.h(l.a,{colors:f}),O&&i.default.h(c.a,{textStyles:b}),D&&i.default.h(d.a,{components:y}),w&&i.default.h(u.a,null))};var i=n(0),s=n(1),a=n(33),o=n(2),r=n(6),l=n(658),c=n(663),d=n(666),u=n(670),h=n(377),p=n(9),m=n(675);n.n(m)},function(e,t,n){"use strict";var i=n(659);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(283),a=n(179),o=n(4),r=n(662);n.n(r);const l=72,c=10;t.a=class extends i.default.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,c),r=n.length,d=t.length>=c,u=Math.floor(e/l),h=u-r%u;let p;return p=h===u?u:u+h,i.default.h(a.a,{name:"Color Palette"},i.default.h("div",{class:"styleguidePreviewColorPalette",ref:Object(o.a)(this,"contentWrapper")},n.map(e=>i.default.h(s.b,{color:e,key:e.id})),d&&Array.from({length:p},()=>i.default.h(s.a,null))))}}},function(e,t,n){"use strict";var i=n(0),s=n(661);n.n(s);t.a=function(e){const{name:t,children:n}=e;return i.default.h("div",{class:"styleguidePreviewSection"},i.default.h("div",{class:"styleguidePreviewSectionHeader"},t),i.default.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(664);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(179),a=n(284),o=n(281),r=n(665);n.n(r);const l=6;t.a=function(e){const{textStyles:t}=e,n=new o.a({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),r=t.slice(0,l);return i.default.h(s.a,{name:"Text Style Catalog"},i.default.h("div",{class:"styleguidePreviewTextStyleCatalog"},r.map(e=>i.default.h(a.b,{formatter:n,textStyle:e})),t.length>=l&&[i.default.h(a.a,null),i.default.h(a.a,null)]))}},function(e,t){},function(e,t,n){"use strict";var i=n(667);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(179),a=n(668),o=n(1),r=n(4),l=n(669);n.n(l);const c=()=>{},d=10,u=108,h=6;t.a=class extends i.default.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(o.g)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-h,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,o=n.slice(0,d),l=n.length>=d,h=Math.max(Math.floor(t/u),0),p=Math.floor(e/u)+h;return i.default.h(s.a,{name:"Components"},i.default.h("div",{class:"styleguidePreviewComponents",ref:Object(r.a)(this,"contentWrapper")},o.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:s,url:l}}}=e,d=t===o.length-1?Object(r.a)(this,"lastComponentEl"):c;return i.default.h(a.b,{key:t,width:n,height:s,url:l,baseRef:d})}),l&&Array.from({length:p},()=>i.default.h(a.a,null))))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),s=n(2),a=n(6);const o=12,r=4*o;function l(){return i.default.h("div",{class:"styleguidePreviewComponent"})}t.b=class extends i.default.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(a.c)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:a,baseRef:l}=this.props,c={width:function(e){return Math.ceil(e/o)*o+r}(t)},d=Object(s.a)("styleguidePreviewComponentContent",e);return i.default.h("div",{class:"styleguidePreviewComponent",style:c,ref:l},i.default.h("div",{class:d,style:{paddingBottom:`${100*n/t}%`}},i.default.h("img",{class:"noSelect",width:t,height:n,src:a})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(671);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(672);n.n(s);t.a=function(){return i.default.h("div",{class:"styleguidePreviewEmptyBody"},i.default.h("h1",null,"No colors, text styles or components yet."),i.default.h("h3",null,"Join and upload the first."))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(37),a=n(8),o=n(2),r=n(674);n.n(r);const l=30,c=7;function d(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending (${e.email})`}function u({remainingMembers:e,currentMemberRole:t}){const n=`+${e.length}`,s=e.map(e=>d(e.user,t)).join("\n");return i.default.h("div",{class:"remainingMembers",title:s},n)}t.a=function({members:e,currentMemberRole:t,class:n,avatarSize:r=l}){const h=e.slice(0,c-1),p=e.length;let m;if(p>c)m=i.default.h(u,{key:"remainingMembers",currentMemberRole:t,remainingMembers:e.slice(c-1)});else if(p===c){const n=e[p-1],o=Object(a.f)(n.user).src,l=d(n.user,t);m=i.default.h(s.a,{key:"lastUser",class:"avatar",type:"user",width:r,height:r,src:o,title:l})}return i.default.h("div",{class:Object(o.a)("memberAvatarList",n)},h.map(e=>{const n=Object(a.f)(e.user).src,o=d(e.user,t);return i.default.h(s.a,{key:e.user._id,class:"avatar",type:"user",width:r,height:r,src:n,title:o})}),m)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(33),s=n(378),a=n(77),o=n(42),r=n(257),l=n(22),c=n(93),d=n(1),u=n(17),h=n(16);i.b.bind(s.a.ACTIVATE,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);o.b.activateStyleguide({stid:t,oid:n})}),i.b.bind(s.a.ARCHIVE,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);o.b.archiveStyleguide({stid:t,oid:n})}),i.b.bind(s.a.DELETE,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);o.b.deleteStyleguide({stid:t,oid:n})}),i.b.bind(s.a.TRANSFER_OWNERSHIP,e=>{const t=e.params.oid,n=e.params.stid,i=e.params.mid,s=e.params.uid,{_id:l,users:c}=e.body,{organizationId:d}=Object(r.d)(n),u=!!d;if(i)return void o.b.transferOwnership({bid:n,fromUserId:s,targetId:i,users:c,oid:d});const{organizations:h}=a.d.getState(),p=h.find(e=>e._id===t),m=Object(r.a)(t);if(t&&l){if(!p)return void Object(r.h)(t);if(!u){if(!m)return;return o.b.addStyleguide({styleguide:e.body,oid:t}),void Object(r.g)(n)}if(d===t)return;o.b.transferOwnership({bid:n,targetId:t,users:c,oid:d,toOrganization:!0})}else if(t){if(!c.some(e=>e.user._id===Zeplin.user._id))return void o.b.deleteStyleguide({stid:n,oid:t});o.b.transferOwnership({bid:n,targetId:t,users:c,oid:d,toOrganization:!0})}}),i.b.bind(s.a.CREATE,e=>{const t=e.params.oid||"user",n=e.body;o.b.addStyleguide({styleguide:n,oid:t}),Object(r.g)(n._id)}),i.b.bind(s.a.INVITE_USER,e=>{const t=e.body.role,n=e.params.stid,{barrelId:i}=l.d.getState(),{organizationId:s,styleguide:a}=Object(r.d)(n);t?a&&!i?o.b.joinStyleguide({stid:n,user:e.body,oid:s}):a&&i?l.b.addMembers({bid:n,members:[e.body],oid:s}):Object(r.j)(n):a?o.b.updateStyleguide({stid:n,data:e.body,oid:s}):o.b.addStyleguide({styleguide:e.body,oid:"user"})}),i.b.bind(s.a.REMOVE_USER,e=>{const{stid:t,mid:n}=e.params,{barrelId:i}=l.d.getState(),{organizationId:s}=Object(r.d)(t);if("user"===s&&n===Zeplin.user._id){if(i===t)return u.a({title:"You're not invited to this styleguide",message:"Please contact styleguide members."},{defer:!0}),void location.assign(Object(d.P)("projects"));o.b.deleteStyleguide({stid:t,oid:s})}else o.b.removeUser({bid:t,uid:n,oid:s})}),i.b.bind(s.a.UPDATE_USER_ROLE,e=>{const{stid:t,mid:n}=e.params,{organizationId:i}=Object(r.d)(t);o.b.updateUserRole({bid:t,uid:n,role:e.body.role,oid:i})}),i.b.bind(s.a.UPDATE_NAME,e=>{const t=e.params.stid,{styleguide:n,organizationId:i}=Object(r.d)(t);n?o.b.updateStyleguide({stid:t,data:{name:e.body.name},oid:i}):Object(r.j)(t)}),i.b.bind(s.a.UPDATE_DESCRIPTION,e=>{const t=e.params.stid,{styleguide:n,organizationId:i}=Object(r.d)(t);n?o.b.updateStyleguide({stid:t,data:{description:e.body.description},oid:i}):Object(r.j)(t)}),i.b.bind(s.a.UPDATE_PARENT,e=>{const t=e.params.stid,{styleguide:n,organizationId:i}=Object(r.d)(t);n?o.b.updateStyleguide({stid:t,oid:i,data:e.body}):Object(r.j)(t)}),i.b.bind(s.a.REMOVE_PARENT,e=>{const t=e.params.stid,{styleguide:n,organizationId:i}=Object(r.d)(t);n?o.b.updateStyleguide({stid:t,oid:i,data:{parent:null,ancestors:[]}}):Object(r.j)(t)}),i.b.bind(s.a.UPDATE_DENSITY_SCALE,e=>{const t=e.params.stid,{styleguide:n,organizationId:i}=Object(r.d)(t);n?o.b.updateStyleguide({stid:t,data:{densityScale:e.body.densityScale},oid:i}):Object(r.j)(t)}),i.b.bind(s.a.CREATE_COLOR,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.addColor({bid:t,oid:n,color:e.body})}),i.b.bind(s.a.DELETE_COLOR,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.removeColor({bid:t,oid:n,cid:e.params.cid})}),i.b.bind(s.a.UPDATE_COLOR,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.updateColor({bid:t,oid:n,cid:e.params.cid,colorData:e.body})}),i.b.bind(s.a.UPDATE_COLORS_ORDER,e=>{const{params:{stid:t}}=e,{organizationId:n}=Object(r.d)(t);e.body.colors.forEach(({_id:e,to:i})=>{l.b.updateColorOrder({oid:n,bid:t,cid:e,to:i})})}),i.b.bind(s.a.CREATE_COMPONENT_SECTION,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t),i=e.body;i.components=i.components.map(e=>Object.assign({},e,{csid:e.csid.split("/")})),l.b.addComponentSection({bid:t,oid:n,csids:e.params.csid?e.params.csid.split("/"):[],componentSection:i})}),i.b.bind(s.a.CREATE_COMPONENT,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.addComponent({bid:t,oid:n,csids:e.params.csid.split("/"),component:e.body})}),i.b.bind(s.a.CREATE_COMPONENT_V2,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.addComponent({bid:t,oid:n,csids:e.params.csid.split("/"),component:e.body})}),i.b.bind(s.a.DELETE_COMPONENT,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.removeComponent({bid:t,oid:n,csids:e.params.csid.split("/"),coid:e.params.coid})}),i.b.bind(s.a.DELETE_COMPONENT_SECTION,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.removeComponentSection({bid:t,oid:n,csids:e.params.csid.split("/")})}),i.b.bind(s.a.MERGE_COMPONENT_SECTIONS,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);e.body.componentSections.forEach(e=>{l.b.mergeComponentSection({bid:t,oid:n,csids:e.csid.split("/"),tcsids:e.tcsid.split("/"),flatten:e.flatten})})}),i.b.bind(s.a.UPDATE_COMPONENT,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.updateComponent({bid:t,oid:n,csids:e.params.csid.split("/"),coid:e.params.coid,componentData:e.body})}),i.b.bind(s.a.UPDATE_COMPONENT_SECTION,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.updateComponentSection({bid:t,oid:n,csids:e.params.csid.split("/"),componentSectionData:e.body})}),i.b.bind(s.a.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,e=>{const{stid:t,tstid:n}=e.params,{organizationId:i}=Object(r.d)(t);i&&l.b.removeComponentSections({oid:i,bid:t,componentSections:e.body.componentSections});const{organizationId:s}=Object(r.d)(n);s&&h.styleguide.get(n).then(e=>{o.b.getStyleguideSuccess({styleguide:e,oid:s})})}),i.b.bind(s.a.UPDATE_COLORS_STYLEGUIDE,e=>{const{stid:t,tstid:n}=e.params,{organizationId:i}=Object(r.d)(t);i&&l.b.emptyColors({oid:i,bid:t});const{organizationId:s}=Object(r.d)(n);s&&h.styleguide.get(n).then(e=>{o.b.getStyleguideSuccess({styleguide:e,oid:s})})}),i.b.bind(s.a.UPDATE_COMPONENT_SECTIONS_ORDER,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.updateComponentSectionsOrder({bid:t,oid:n,componentSections:e.body.componentSections.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))})}),i.b.bind(s.a.CREATE_TEXT_STYLE,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.addTextStyle({bid:t,oid:n,textStyle:e.body})}),i.b.bind(s.a.DELETE_TEXT_STYLE,e=>{if(e.params.unorderedBatch)return;const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.removeTextStyle({bid:t,oid:n,tsid:e.params.tsid})}),i.b.bind(s.a.UPDATE_TEXT_STYLE,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.updateTextStyle({bid:t,oid:n,tsid:e.params.tsid,textStyleData:e.body})}),i.b.bind(s.a.UPDATE_TEXT_STYLES_STYLEGUIDE,e=>{const{stid:t,tstid:n}=e.params,{organizationId:i}=Object(r.d)(t);i&&l.b.emptyTextStyles({oid:i,bid:t});const{organizationId:s}=Object(r.d)(n);s&&h.styleguide.get(n).then(e=>{o.b.getStyleguideSuccess({styleguide:e,targetOrganizationId:s})})}),i.b.bind(s.a.CREATE_COMPONENT_VERSION,e=>{const t=e.params.stid,{organizationId:n}=Object(r.d)(t);l.b.addComponentVersion({bid:t,oid:n,csids:e.params.csid.split("/"),coid:e.params.coid,componentVersion:e.body})}),i.b.bind(s.a.ADD_EXTENSION,e=>{const t=e.params.stid,n=e.body._id,{barrelId:i}=l.d.getState(),{styleguide:s}=Object(r.d)(t);s?i===t&&(s.extensions.find(e=>e._id===n)||c.a.addExtension(s._id,"styleguide",n)):Object(r.j)(t)}),i.b.bind(s.a.REMOVE_EXTENSION,e=>{const{barrelId:t}=l.d.getState(),{stid:n,eid:i}=e.params;t===n&&c.a.removeExtension(n,"styleguide",i,!0)}),i.b.bind(s.a.UPDATE_COMPONENTS_ORDER,e=>{const{barrelId:t}=l.d.getState(),{stid:n}=e.params;if(t!==n)return;const i=e.body.components.map(e=>({coid:e.coid,csid:e.csid.split("/"),tcsid:e.tcsid.split("/"),to:e.to}));l.b.updateComponentsOrder({components:i})})},,,,function(e,t,n){"use strict";var i=n(715);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t,n,o){if(t)return function(e,t){const n={},s=e.screens.filter(e=>{const s=Object(i.c)(t,e.name);return n[e._id]=s,s}).sort((e,t)=>{const s=n[t._id]-n[e._id];return s||i.L.name(e,t)});if(s.length>0)return[a("filtered",s)];return[]}(e,t.toLowerCase());return function(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;t.tags.length?n=function(e){if(!Array.isArray(e))return t=>t.tags&&t.tags.includes(e);return t=>e.reduce((e,n)=>e&&t.tags&&t.tags.includes(n),!0)}(t.tags):t.untagged&&(n=(e=>!e.tags||!e.tags.length));return e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}(function(e,t){switch(t){case"default":default:return function(e){const t=e.sections.map(t=>((t=Object.assign({},t)).screens=t.screens.map(e.findScreen,e).filter(Boolean),t.type="user",t));return t[0].type="default",t}(e);case"lastUpdated":{const t=e.screens.slice(0).sort(i.L.lastUpdated);return function(e){const t=[],n={};return e.forEach(e=>{const s=Object(i.x)(new Date(e.updated));let a;s in n?a=n[s]:(t.push(s),a=[],n[s]=a),a.push(e)},{}),t.map(e=>({name:Object(s.f)(e),actionsDisabled:!0,screens:n[e],type:"timeline"}))}(t)}case"name":return[a("sorted",e.screens.slice(0).sort(i.L.name))]}}(e,n),o)};var i=n(1),s=n(7);function a(e,t){return{_id:e,screens:t,type:"default"}}},function(e,t,n){"use strict";var i=n(774);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(872);t.a=i.a},function(e,t,n){"use strict";const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],s=null!==window.mozInnerScreenX;t.a=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const a=n.style,o=window.getComputedStyle(e);var r="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",r||(a.wordWrap="break-word"),a.position="absolute",a.visibility="hidden",i.forEach(e=>{if(r&&"lineHeight"===e)if("border-box"===o.boxSizing){const e=parseInt(o.height,10),t=parseInt(o.paddingTop,10)+parseInt(o.paddingBottom,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10),n=t+parseInt(o.lineHeight,10);a.lineHeight=e>n?e-t+"px":e===n?o.lineHeight:0}else a.lineHeight=o.height;else a[e]=o[e]}),s?e.scrollHeight>parseInt(o.height,10)&&(a.overflowY="scroll"):a.overflow="hidden",n.textContent=e.value.substring(0,t),r&&(n.textContent=n.textContent.replace(/\s/g,""));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(o.borderTopWidth,10),left:l.offsetLeft+parseInt(o.borderLeftWidth,10),height:parseInt(o.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";var i=n(986);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1e3);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1003);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1004);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1005);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1007);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1009);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1038);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1169);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return r});var i=n(1);const s=Object.freeze(["yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]),a={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"};function o(e){return a[e]}function r(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.C)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}},,,,function(e,t,n){"use strict";var i=n(0),s=n(699);i.default.render(i.default.h(s.a,null),document.body)},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(349),o=n(701),r=n(350),l=n(22);t.a=Object(s.a)(class extends i.default.Component{static calculateState(e,t){const{open:n,inid:i,channelName:s,eventGroupsByInid:o,loading:c}=a.b.getState(),{barrelType:d}=l.d.getState();return{open:n,channelName:s,preferenceGroups:Object.keys(r.a[d]).map(e=>({title:r.a[d][e].name,description:r.a[d][e].info,loading:c.includes(e),checked:o[i]&&o[i][e]&&o[i][e].length===r.a[d][e].events.length,eventGroup:e}))}}static getStores(){return[a.b,l.d]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&i.default.h(o.a,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:a.a.updateEventGroup,onClose:a.a.close})}})},function(e,t,n){"use strict";var i,s=n(558),a=n(245),o=n(246),r=n(559),l=n(15),c=n(350),d=n(17),u=n(33),h=n(16),p=n(5),m=n(22),g=n(49),f=n(42),b=n(18);const y={[b.a.PROJECT]:g.c,[b.a.STYLEGUIDE]:f.c},v={project:h.project,styleguide:h.styleguide},S={[b.a.PROJECT]:p.r,[b.a.STYLEGUIDE]:p.z},C={[b.a.PROJECT]:{addIntegrationEvent:"AddProjectIntegrationEvent",deleteIntegrationEvent:"DeleteProjectIntegrationEvent"},[b.a.STYLEGUIDE]:{addIntegrationEvent:"AddStyleguideIntegrationEvent",deleteIntegrationEvent:"DeleteStyleguideIntegrationEvent"}},E={[b.a.PROJECT]:"pid",[b.a.STYLEGUIDE]:"stid"},k={getBarrel(){const{barrelType:e,organizationId:t,barrelId:n}=m.d.getState(),{[`${e}s`]:{[t]:{[n]:i}}}=y[e].getState();return i},initChannel:(e,t,n)=>v[t].getIntegrationEvents(e,n).then(e=>s.a.load(n,e.events)),init(){const e=this.getBarrel(),{barrelType:t}=m.d.getState(),n=e.integration.slacks.map(n=>this.initChannel(e._id,t,n._id).catch(()=>{}));Promise.all(n).then(()=>this.bindPusherEvents(e._id,t))},bindPusherEvents(e,t){i&&u.b.unsubscribe(i),i=S[t]+e;const n=u.b.channel(i)||u.b.subscribe(i);n.bind(C[t].addIntegrationEvent,n=>this.handlePusherEvent(e,t,n,!0)),n.bind(C[t].deleteIntegrationEvent,n=>this.handlePusherEvent(e,t,n,!1))},handlePusherEvent(e,t,n,i){const{intype:a,[E[t]]:o,inid:r,event:l}=n.params;"slacks"===a&&o===e&&s.a.eventUpdated(r,l,i)},initIfNecessary(e,t){e in r.a.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){d.a({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(r.a.getState().barrelId,[e]).then(()=>s.a.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const{inid:n}=r.a.getState();(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{s.a.eventGroupUpdated(n,e)}).catch(t=>{s.a.eventGroupUpdateFailed(n,e),l.b(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=m.d.getState();return c.b(i,t).reduce((t,s)=>t.then(()=>v[i].addIntegrationEvent(n,e,s)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=m.d.getState();return c.b(i,t).reduce((t,s)=>t.then(()=>v[i].deleteIntegrationEvent(n,e,s)),Promise.resolve())}};o.a.register(e=>{switch(e.type){case a.a.INIT:k.init();break;case a.a.OPEN:k.initIfNecessary(e.inid,e.channelName);break;case a.a.UPDATE_EVENT_GROUP:k.updateEventGroup(e.eventGroup,e.checked)}})},function(e,t,n){"use strict";var i=n(702);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(703),r=n(706),l=(n.n(r),n(4));class c extends i.default.Component{constructor(e){super(e),this.handleDialogContainerClick=this.handleDialogContainerClick.bind(this)}handleDialogContainerClick(e){e.stopPropagation(),this.props.onClose()}handleDialogClick(e){e.stopPropagation()}componentDidMount(){this.nodeRefs.container.scrollTop=1,this.nodeRefs.container.scrollTop=0}render(){const{channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:s}=this.props;return i.default.h("div",{class:"slackPreferencesDialogContainer",onClick:this.handleDialogContainerClick},i.default.h("div",{class:"slackPreferencesDialog",onClick:this.handleDialogClick},i.default.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",i.default.h("span",{title:e},e)),i.default.h("div",{ref:Object(l.a)(this,"container"),class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:s,checked:a,eventGroup:r})=>i.default.h(o.a,{key:r,title:e,description:t,loading:s,checked:a,onChange:n,eventGroup:r}))),i.default.h("div",{class:"slackPreferencesDialogFooter"},i.default.h("button",{class:"slackPreferencesDialogDone",onClick:s},"DONE"))))}}c.propTypes={channelName:a.a.string.isRequired,preferenceGroups:a.a.array.isRequired,onPreferenceGroupStateChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=c},function(e,t,n){"use strict";var i=n(704);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(73),o=n(3),r=n.n(o),l=n(705);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t,eventGroup:n}=this.props;t(n,e.target.checked)}render(){const{title:e,description:t,loading:n,checked:o}=this.props;return i.default.h("label",{className:Object(s.a)("slackPreferenceGroup",{loading:n})},i.default.h("div",{className:"slackPreferenceGroupInfo"},i.default.h("div",{className:"slackPreferenceGroupName",title:e},e),i.default.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),i.default.h(a.a,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:o,onChange:this.handleChange}))}}c.propTypes={title:r.a.string.isRequired,description:r.a.string.isRequired,loading:r.a.bool.isRequired,checked:r.a.bool.isRequired,onChange:r.a.func.isRequired,eventGroup:r.a.string.isRequired},t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(2),o=n(6),r=n(4),l=n(708);n.n(l);t.a=class extends i.default.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.default.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,type:n,actionButton:l,content:c,noControls:d,buttonText:u,anchor:h}=this.props,p=Object(a.a)("hideableInfo",{popover:e,padBottom:t});let m;m="html"===n?i.default.h("div",{dangerouslySetInnerHTML:{__html:c},class:"infoText"}):i.default.h("div",{class:"infoText"},c);let g=null;l&&l.text&&l.callback&&(g=i.default.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},l.text));let f=null;return d||(f=i.default.h("div",{class:"infoButtons"},i.default.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.default.h("div",null,i.default.h("img",{src:o.e("img/icGuidelineRemove.svg"),alt:""}),i.default.h("span",{class:"infoHideButtonText"},u||"OK, hide it!"))),g)),i.default.h("div",{class:p,onClick:s.N,ref:Object(r.a)(this,"base")},i.default.h("img",{width:"20",height:"20",src:o.e("img/icTip.png"),srcset:`${o.e("img/icTip@2x.png")} 2x, ${o.e("img/icTip@3x.png")} 3x`,alt:""}),i.default.h("div",{class:"infoBody"},m,f),i.default.h("div",{class:`anchor ${h||"bottom"}`}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1);function s(e){this._isMac=e&&e.mac,this._routes=[],this._history=new a,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function a(){this._history=window.history,this._listeners={},this._listenerCount=0,this._flowNavigationStack=[],window.addEventListener("popstate",this._handlePopState.bind(this))}function o(e,t){this._element=e,this._router=t,this._element._routerLink&&this._element.removeEventListener("click",this._element._routerLink._boundClickHandler),this._boundClickHandler=this._clickHandler.bind(this),this._element._routerLink=this,this._element.addEventListener("click",this._boundClickHandler)}Object.defineProperties(s.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t,n){var i=Promise.resolve();return this._hookAppLinks(e),t&&(i=i.then(t)),i=i.then(function(){this._handle(window.location.href)}.bind(this)),n&&i.then(n),this}},_createLink:{value:function(e){return new o(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var t=this._findRoute(e);if(t)return t.handler({url:e,match:e.href.match(t.regex).slice(1),query:Object(i.G)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}}}),Object.defineProperties(a.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},pop:{value:function(){if(!this._flowNavigationStack.length)return;const{state:e,url:t}=this._flowNavigationStack.pop();this._history.pushState(e,null,t),this._notifyListeners({action:this.actions.PUSH_STATE,state:e,url:window.location.toString()})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(o.prototype,{element:{get:function(){return this._element}},navigationOperation:{get:function(){return this._element.dataset.navOp}},_clickHandler:{value:function(e){if("#"!==this._element.href&&(!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)))return;e.preventDefault();const t={};switch("flowNav"in this._element.dataset&&(t.flowNavigation=!0),this.navigationOperation){case"replace":this._router.history.replace(this._element.href,t);break;case"pop":this._router.history.pop();break;case"push":default:this._router.history.push(this._element.href,t)}}}}),t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return S}),n.d(t,"open",function(){return E}),n.d(t,"close",function(){return k}),n.d(t,"formatEmojiString",function(){return C}),n.d(t,"replace",function(){return v});var i,s,a,o,r=n(1),l=n(182),c=n(567),d=document.getElementById("suggestedEmojisContainer"),u=d.querySelector(".suggestedListBox"),h=document.getElementById("suggestedEmojiTemplate"),p=0,m=[],g=/:(\S+?):/g;function f(e){return e?(o=e,(m=l.a.getSuggestedEmojis(e)).length?(m.forEach(b),d.appendChild(u),!i||function(e){return!m.some(function(t){return t.emoji===e.emoji})}(i)?(p=0,i=m[0]):p=d.querySelector(".suggestedItem[data-emoji='"+i.emoji+"']").dataset.index,d):void(i=null)):(i=null,p=0,void k())}function b(e,t){var n=document.importNode(h.content,!0),i=n.querySelector(".suggestedItem"),s=e.alias.replace(/\s/gi,"_");i.dataset.index=t,i.dataset.emoji=e.emoji,e.customEmoji?(i.querySelector(".emojiImg").src=e.emoji,i.classList.add("customEmoji")):i.querySelector(".emojiChar").textContent=e.emoji,i.querySelector(".emojiAlias").textContent=s,i.querySelector(".emojiAlias").title=s,u.appendChild(n)}function y(e){var t=s.selectionStart,n=s.value.substring(0,t),i=n.length-n.split("").reverse().join("").search(/:/)-1,l=s.value.substring(i,t),c=e.alias.replace(/\s/g,"_");s.value=s.value.substring(0,i)+l.replace(o,c+": ")+s.value.substring(t),a.innerHTML=Object(r.j)(s.value)+"&nbsp;";var d=t-o.length+c.length+2;s.focus(),s.setSelectionRange(d,d),k()}function v(e,t,n){return e.replace(g,function(e,i){var s=l.a.searchEmoji(i);if(s){if(n)return"";if(!s.customEmoji)return s.emoji;if(!t)return'<img class="customEmoji" src="'+s.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`})}function S(e,t){if(s=e,a=t,!d.classList.contains("hidden")){var n=d.querySelector(".suggestedItem.selected");n&&(i=m[n.dataset.index])}var r=e.value.substring(0,e.selectionStart),c=r.lastIndexOf(":"),u=e.value.substring(c,e.selectionStart).match(/^:(.+)/);if(u){var h=u[0].substring(1);if(o===h&&!d.classList.contains("hidden"))return;k();var b=r.substring(0,c).lastIndexOf(":"),y=r.substring(b,c+1).match(g);if(y&&l.a.searchEmoji(y[0].substring(1,y[0].length-1)))return;return f(h)}p=0,i=null,k()}function C(e,t){return v(e,t)}function E(){var e={elements:{textContainer:s,suggestedListContainer:d},cb:{autoComplete:y},index:p,list:m};c.b(e)}function k(){c.a()}},function(e,t,n){"use strict";t.a=[{emoji:"",aliases:["grinning"]},{emoji:"",aliases:["smiley"]},{emoji:"",aliases:["smile"]},{emoji:"",aliases:["grin"]},{emoji:"",aliases:["laughing","satisfied"]},{emoji:"",aliases:["sweat smile"]},{emoji:"",aliases:["joy"]},{emoji:"",aliases:["rofl"]},{emoji:"",aliases:["relaxed"]},{emoji:"",aliases:["blush"]},{emoji:"",aliases:["innocent"]},{emoji:"",aliases:["slightly smiling face"]},{emoji:"",aliases:["upside down face"]},{emoji:"",aliases:["wink"]},{emoji:"",aliases:["relieved"]},{emoji:"",aliases:["heart eyes"]},{emoji:"",aliases:["kissing heart"]},{emoji:"",aliases:["kissing"]},{emoji:"",aliases:["kissing smiling eyes"]},{emoji:"",aliases:["kissing closed eyes"]},{emoji:"",aliases:["yum"]},{emoji:"",aliases:["stuck out tongue winking eye"]},{emoji:"",aliases:["stuck out tongue closed eyes"]},{emoji:"",aliases:["stuck out tongue"]},{emoji:"",aliases:["money mouth face"]},{emoji:"",aliases:["hugs"]},{emoji:"",aliases:["nerd face"]},{emoji:"",aliases:["sunglasses"]},{emoji:"",aliases:["clown face"]},{emoji:"",aliases:["cowboy hat face"]},{emoji:"",aliases:["smirk"]},{emoji:"",aliases:["unamused"]},{emoji:"",aliases:["disappointed"]},{emoji:"",aliases:["pensive"]},{emoji:"",aliases:["worried"]},{emoji:"",aliases:["confused"]},{emoji:"",aliases:["slightly frowning face"]},{emoji:"",aliases:["frowning face"]},{emoji:"",aliases:["persevere"]},{emoji:"",aliases:["confounded"]},{emoji:"",aliases:["tired face"]},{emoji:"",aliases:["weary"]},{emoji:"",aliases:["triumph"]},{emoji:"",aliases:["angry"]},{emoji:"",aliases:["rage","pout"]},{emoji:"",aliases:["no mouth"]},{emoji:"",aliases:["neutral face"]},{emoji:"",aliases:["expressionless"]},{emoji:"",aliases:["hushed"]},{emoji:"",aliases:["frowning"]},{emoji:"",aliases:["anguished"]},{emoji:"",aliases:["open mouth"]},{emoji:"",aliases:["astonished"]},{emoji:"",aliases:["dizzy face"]},{emoji:"",aliases:["flushed"]},{emoji:"",aliases:["scream"]},{emoji:"",aliases:["fearful"]},{emoji:"",aliases:["cold sweat"]},{emoji:"",aliases:["cry"]},{emoji:"",aliases:["disappointed relieved"]},{emoji:"",aliases:["drooling face"]},{emoji:"",aliases:["sob"]},{emoji:"",aliases:["sweat"]},{emoji:"",aliases:["sleepy"]},{emoji:"",aliases:["sleeping"]},{emoji:"",aliases:["roll eyes"]},{emoji:"",aliases:["thinking"]},{emoji:"",aliases:["lying face"]},{emoji:"",aliases:["grimacing"]},{emoji:"",aliases:["zipper mouth face"]},{emoji:"",aliases:["nauseated face"]},{emoji:"",aliases:["sneezing face"]},{emoji:"",aliases:["mask"]},{emoji:"",aliases:["face with thermometer"]},{emoji:"",aliases:["face with head bandage"]},{emoji:"",aliases:["smiling imp"]},{emoji:"",aliases:["imp"]},{emoji:"",aliases:["japanese ogre"]},{emoji:"",aliases:["japanese goblin"]},{emoji:"",aliases:["hankey","poop","shit"]},{emoji:"",aliases:["ghost"]},{emoji:"",aliases:["skull"]},{emoji:"",aliases:["skull and crossbones"]},{emoji:"",aliases:["alien"]},{emoji:"",aliases:["space invader"]},{emoji:"",aliases:["robot"]},{emoji:"",aliases:["jack o lantern"]},{emoji:"",aliases:["smiley cat"]},{emoji:"",aliases:["smile cat"]},{emoji:"",aliases:["joy cat"]},{emoji:"",aliases:["heart eyes cat"]},{emoji:"",aliases:["smirk cat"]},{emoji:"",aliases:["kissing cat"]},{emoji:"",aliases:["scream cat"]},{emoji:"",aliases:["crying cat face"]},{emoji:"",aliases:["pouting cat"]},{emoji:"",aliases:["open hands"]},{emoji:"",aliases:["raised hands"]},{emoji:"",aliases:["clap"]},{emoji:"",aliases:["pray"]},{emoji:"",aliases:["handshake"]},{emoji:"",aliases:["+1","thumbsup"]},{emoji:"",aliases:["-1","thumbsdown"]},{emoji:"",aliases:["fist oncoming","facepunch","punch"]},{emoji:"",aliases:["fist raised","fist"]},{emoji:"",aliases:["fist left"]},{emoji:"",aliases:["fist right"]},{emoji:"",aliases:["crossed fingers"]},{emoji:"",aliases:["v"]},{emoji:"",aliases:["metal"]},{emoji:"",aliases:["ok hand"]},{emoji:"",aliases:["point left"]},{emoji:"",aliases:["point right"]},{emoji:"",aliases:["point up 2"]},{emoji:"",aliases:["point down"]},{emoji:"",aliases:["point up"]},{emoji:"",aliases:["hand","raised hand"]},{emoji:"",aliases:["raised back of hand"]},{emoji:"",aliases:["raised hand with fingers splayed"]},{emoji:"",aliases:["vulcan salute"]},{emoji:"",aliases:["wave"]},{emoji:"",aliases:["call me hand"]},{emoji:"",aliases:["muscle"]},{emoji:"",aliases:["middle finger","fu"]},{emoji:"",aliases:["writing hand"]},{emoji:"",aliases:["selfie"]},{emoji:"",aliases:["nail care"]},{emoji:"",aliases:["ring"]},{emoji:"",aliases:["lipstick"]},{emoji:"",aliases:["kiss"]},{emoji:"",aliases:["lips"]},{emoji:"",aliases:["tongue"]},{emoji:"",aliases:["ear"]},{emoji:"",aliases:["nose"]},{emoji:"",aliases:["footprints"]},{emoji:"",aliases:["eye"]},{emoji:"",aliases:["eyes"]},{emoji:"",aliases:["speaking head"]},{emoji:"",aliases:["bust in silhouette"]},{emoji:"",aliases:["busts in silhouette"]},{emoji:"",aliases:["baby"]},{emoji:"",aliases:["boy"]},{emoji:"",aliases:["girl"]},{emoji:"",aliases:["man"]},{emoji:"",aliases:["woman"]},{emoji:"",aliases:["blonde woman"]},{emoji:"",aliases:["blonde man","person with blond hair"]},{emoji:"",aliases:["older man"]},{emoji:"",aliases:["older woman"]},{emoji:"",aliases:["man with gua pi mao"]},{emoji:"",aliases:["woman with turban"]},{emoji:"",aliases:["man with turban"]},{emoji:"",aliases:["policewoman"]},{emoji:"",aliases:["policeman","cop"]},{emoji:"",aliases:["construction worker woman"]},{emoji:"",aliases:["construction worker man","construction worker"]},{emoji:"",aliases:["guardswoman"]},{emoji:"",aliases:["guardsman"]},{emoji:"",aliases:["female detective"]},{emoji:"",aliases:["male detective","detective"]},{emoji:"",aliases:["woman health worker"]},{emoji:"",aliases:["man health worker"]},{emoji:"",aliases:["woman farmer"]},{emoji:"",aliases:["man farmer"]},{emoji:"",aliases:["woman cook"]},{emoji:"",aliases:["man cook"]},{emoji:"",aliases:["woman student"]},{emoji:"",aliases:["man student"]},{emoji:"",aliases:["woman singer"]},{emoji:"",aliases:["man singer"]},{emoji:"",aliases:["woman teacher"]},{emoji:"",aliases:["man teacher"]},{emoji:"",aliases:["woman factory worker"]},{emoji:"",aliases:["man factory worker"]},{emoji:"",aliases:["woman technologist"]},{emoji:"",aliases:["man technologist"]},{emoji:"",aliases:["woman office worker"]},{emoji:"",aliases:["man office worker"]},{emoji:"",aliases:["woman mechanic"]},{emoji:"",aliases:["man mechanic"]},{emoji:"",aliases:["woman scientist"]},{emoji:"",aliases:["man scientist"]},{emoji:"",aliases:["woman artist"]},{emoji:"",aliases:["man artist"]},{emoji:"",aliases:["woman firefighter"]},{emoji:"",aliases:["man firefighter"]},{emoji:"",aliases:["woman pilot"]},{emoji:"",aliases:["man pilot"]},{emoji:"",aliases:["woman astronaut"]},{emoji:"",aliases:["man astronaut"]},{emoji:"",aliases:["woman judge"]},{emoji:"",aliases:["man judge"]},{emoji:"",aliases:["mrs claus"]},{emoji:"",aliases:["santa"]},{emoji:"",aliases:["princess"]},{emoji:"",aliases:["prince"]},{emoji:"",aliases:["bride with veil"]},{emoji:"",aliases:["man in tuxedo"]},{emoji:"",aliases:["angel"]},{emoji:"",aliases:["pregnant woman"]},{emoji:"",aliases:["bowing woman"]},{emoji:"",aliases:["bowing man","bow"]},{emoji:"",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"",aliases:["tipping hand man","sassy man"]},{emoji:"",aliases:["no good woman","no good","ng woman"]},{emoji:"",aliases:["no good man","ng man"]},{emoji:"",aliases:["ok woman"]},{emoji:"",aliases:["ok man"]},{emoji:"",aliases:["raising hand woman","raising hand"]},{emoji:"",aliases:["raising hand man"]},{emoji:"",aliases:["woman facepalming"]},{emoji:"",aliases:["man facepalming"]},{emoji:"",aliases:["woman shrugging"]},{emoji:"",aliases:["man shrugging"]},{emoji:"",aliases:["pouting woman","person with pouting face"]},{emoji:"",aliases:["pouting man"]},{emoji:"",aliases:["frowning woman","person frowning"]},{emoji:"",aliases:["frowning man"]},{emoji:"",aliases:["haircut woman","haircut"]},{emoji:"",aliases:["haircut man"]},{emoji:"",aliases:["massage woman","massage"]},{emoji:"",aliases:["massage man"]},{emoji:"",aliases:["business suit levitating"]},{emoji:"",aliases:["dancer"]},{emoji:"",aliases:["man dancing"]},{emoji:"",aliases:["dancing women","dancers"]},{emoji:"",aliases:["dancing men"]},{emoji:"",aliases:["walking woman"]},{emoji:"",aliases:["walking man","walking"]},{emoji:"",aliases:["running woman"]},{emoji:"",aliases:["running man","runner","running"]},{emoji:"",aliases:["couple"]},{emoji:"",aliases:["two women holding hands"]},{emoji:"",aliases:["two men holding hands"]},{emoji:"",aliases:["couple with heart woman man","couple with heart"]},{emoji:"",aliases:["couple with heart woman woman"]},{emoji:"",aliases:["couple with heart man man"]},{emoji:"",aliases:["couplekiss man woman"]},{emoji:"",aliases:["couplekiss woman woman"]},{emoji:"",aliases:["couplekiss man man"]},{emoji:"",aliases:["family man woman boy","family"]},{emoji:"",aliases:["family man woman girl"]},{emoji:"",aliases:["family man woman girl boy"]},{emoji:"",aliases:["family man woman boy boy"]},{emoji:"",aliases:["family man woman girl girl"]},{emoji:"",aliases:["family woman woman boy"]},{emoji:"",aliases:["family woman woman girl"]},{emoji:"",aliases:["family woman woman girl boy"]},{emoji:"",aliases:["family woman woman boy boy"]},{emoji:"",aliases:["family woman woman girl girl"]},{emoji:"",aliases:["family man man boy"]},{emoji:"",aliases:["family man man girl"]},{emoji:"",aliases:["family man man girl boy"]},{emoji:"",aliases:["family man man boy boy"]},{emoji:"",aliases:["family man man girl girl"]},{emoji:"",aliases:["family woman boy"]},{emoji:"",aliases:["family woman girl"]},{emoji:"",aliases:["family woman girl boy"]},{emoji:"",aliases:["family woman boy boy"]},{emoji:"",aliases:["family woman girl girl"]},{emoji:"",aliases:["family man boy"]},{emoji:"",aliases:["family man girl"]},{emoji:"",aliases:["family man girl boy"]},{emoji:"",aliases:["family man boy boy"]},{emoji:"",aliases:["family man girl girl"]},{emoji:"",aliases:["womans clothes"]},{emoji:"",aliases:["shirt","tshirt"]},{emoji:"",aliases:["jeans"]},{emoji:"",aliases:["necktie"]},{emoji:"",aliases:["dress"]},{emoji:"",aliases:["bikini"]},{emoji:"",aliases:["kimono"]},{emoji:"",aliases:["high heel"]},{emoji:"",aliases:["sandal"]},{emoji:"",aliases:["boot"]},{emoji:"",aliases:["mans shoe","shoe"]},{emoji:"",aliases:["athletic shoe"]},{emoji:"",aliases:["womans hat"]},{emoji:"",aliases:["tophat"]},{emoji:"",aliases:["mortar board"]},{emoji:"",aliases:["crown"]},{emoji:"",aliases:["rescue worker helmet"]},{emoji:"",aliases:["school satchel"]},{emoji:"",aliases:["pouch"]},{emoji:"",aliases:["purse"]},{emoji:"",aliases:["handbag"]},{emoji:"",aliases:["briefcase"]},{emoji:"",aliases:["eyeglasses"]},{emoji:"",aliases:["dark sunglasses"]},{emoji:"",aliases:["closed umbrella"]},{emoji:"",aliases:["open umbrella"]},{emoji:"",aliases:["dog"]},{emoji:"",aliases:["cat"]},{emoji:"",aliases:["mouse"]},{emoji:"",aliases:["hamster"]},{emoji:"",aliases:["rabbit"]},{emoji:"",aliases:["fox face"]},{emoji:"",aliases:["bear"]},{emoji:"",aliases:["panda face"]},{emoji:"",aliases:["koala"]},{emoji:"",aliases:["tiger"]},{emoji:"",aliases:["lion"]},{emoji:"",aliases:["cow"]},{emoji:"",aliases:["pig"]},{emoji:"",aliases:["pig nose"]},{emoji:"",aliases:["frog"]},{emoji:"",aliases:["monkey face"]},{emoji:"",aliases:["see no evil"]},{emoji:"",aliases:["hear no evil"]},{emoji:"",aliases:["speak no evil"]},{emoji:"",aliases:["monkey"]},{emoji:"",aliases:["chicken"]},{emoji:"",aliases:["penguin"]},{emoji:"",aliases:["bird"]},{emoji:"",aliases:["baby chick"]},{emoji:"",aliases:["hatching chick"]},{emoji:"",aliases:["hatched chick"]},{emoji:"",aliases:["duck"]},{emoji:"",aliases:["eagle"]},{emoji:"",aliases:["owl"]},{emoji:"",aliases:["bat"]},{emoji:"",aliases:["wolf"]},{emoji:"",aliases:["boar"]},{emoji:"",aliases:["horse"]},{emoji:"",aliases:["unicorn"]},{emoji:"",aliases:["bee","honeybee"]},{emoji:"",aliases:["bug"]},{emoji:"",aliases:["butterfly"]},{emoji:"",aliases:["snail"]},{emoji:"",aliases:["shell"]},{emoji:"",aliases:["beetle"]},{emoji:"",aliases:["ant"]},{emoji:"",aliases:["spider"]},{emoji:"",aliases:["spider web"]},{emoji:"",aliases:["turtle"]},{emoji:"",aliases:["snake"]},{emoji:"",aliases:["lizard"]},{emoji:"",aliases:["scorpion"]},{emoji:"",aliases:["crab"]},{emoji:"",aliases:["squid"]},{emoji:"",aliases:["octopus"]},{emoji:"",aliases:["shrimp"]},{emoji:"",aliases:["tropical fish"]},{emoji:"",aliases:["fish"]},{emoji:"",aliases:["blowfish"]},{emoji:"",aliases:["dolphin","flipper"]},{emoji:"",aliases:["shark"]},{emoji:"",aliases:["whale"]},{emoji:"",aliases:["whale2"]},{emoji:"",aliases:["crocodile"]},{emoji:"",aliases:["leopard"]},{emoji:"",aliases:["tiger2"]},{emoji:"",aliases:["water buffalo"]},{emoji:"",aliases:["ox"]},{emoji:"",aliases:["cow2"]},{emoji:"",aliases:["deer"]},{emoji:"",aliases:["dromedary camel"]},{emoji:"",aliases:["camel"]},{emoji:"",aliases:["elephant"]},{emoji:"",aliases:["rhinoceros"]},{emoji:"",aliases:["gorilla"]},{emoji:"",aliases:["racehorse"]},{emoji:"",aliases:["pig2"]},{emoji:"",aliases:["goat"]},{emoji:"",aliases:["ram"]},{emoji:"",aliases:["sheep"]},{emoji:"",aliases:["dog2"]},{emoji:"",aliases:["poodle"]},{emoji:"",aliases:["cat2"]},{emoji:"",aliases:["rooster"]},{emoji:"",aliases:["turkey"]},{emoji:"",aliases:["dove"]},{emoji:"",aliases:["rabbit2"]},{emoji:"",aliases:["mouse2"]},{emoji:"",aliases:["rat"]},{emoji:"",aliases:["chipmunk"]},{emoji:"",aliases:["feet","paw prints"]},{emoji:"",aliases:["dragon"]},{emoji:"",aliases:["dragon face"]},{emoji:"",aliases:["cactus"]},{emoji:"",aliases:["christmas tree"]},{emoji:"",aliases:["evergreen tree"]},{emoji:"",aliases:["deciduous tree"]},{emoji:"",aliases:["palm tree"]},{emoji:"",aliases:["seedling"]},{emoji:"",aliases:["herb"]},{emoji:"",aliases:["shamrock"]},{emoji:"",aliases:["four leaf clover"]},{emoji:"",aliases:["bamboo"]},{emoji:"",aliases:["tanabata tree"]},{emoji:"",aliases:["leaves"]},{emoji:"",aliases:["fallen leaf"]},{emoji:"",aliases:["maple leaf"]},{emoji:"",aliases:["mushroom"]},{emoji:"",aliases:["ear of rice"]},{emoji:"",aliases:["bouquet"]},{emoji:"",aliases:["tulip"]},{emoji:"",aliases:["rose"]},{emoji:"",aliases:["wilted flower"]},{emoji:"",aliases:["sunflower"]},{emoji:"",aliases:["blossom"]},{emoji:"",aliases:["cherry blossom"]},{emoji:"",aliases:["hibiscus"]},{emoji:"",aliases:["earth americas"]},{emoji:"",aliases:["earth africa"]},{emoji:"",aliases:["earth asia"]},{emoji:"",aliases:["full moon"]},{emoji:"",aliases:["waning gibbous moon"]},{emoji:"",aliases:["last quarter moon"]},{emoji:"",aliases:["waning crescent moon"]},{emoji:"",aliases:["new moon"]},{emoji:"",aliases:["waxing crescent moon"]},{emoji:"",aliases:["first quarter moon"]},{emoji:"",aliases:["moon","waxing gibbous moon"]},{emoji:"",aliases:["new moon with face"]},{emoji:"",aliases:["full moon with face"]},{emoji:"",aliases:["sun with face"]},{emoji:"",aliases:["first quarter moon with face"]},{emoji:"",aliases:["last quarter moon with face"]},{emoji:"",aliases:["crescent moon"]},{emoji:"",aliases:["dizzy"]},{emoji:"",aliases:["star"]},{emoji:"",aliases:["star2"]},{emoji:"",aliases:["sparkles"]},{emoji:"",aliases:["zap"]},{emoji:"",aliases:["fire"]},{emoji:"",aliases:["boom","collision"]},{emoji:"",aliases:["comet"]},{emoji:"",aliases:["sunny"]},{emoji:"",aliases:["sun behind small cloud"]},{emoji:"",aliases:["partly sunny"]},{emoji:"",aliases:["sun behind large cloud"]},{emoji:"",aliases:["sun behind rain cloud"]},{emoji:"",aliases:["rainbow"]},{emoji:"",aliases:["cloud"]},{emoji:"",aliases:["cloud with rain"]},{emoji:"",aliases:["cloud with lightning and rain"]},{emoji:"",aliases:["cloud with lightning"]},{emoji:"",aliases:["cloud with snow"]},{emoji:"",aliases:["snowman with snow"]},{emoji:"",aliases:["snowman"]},{emoji:"",aliases:["snowflake"]},{emoji:"",aliases:["wind face"]},{emoji:"",aliases:["dash"]},{emoji:"",aliases:["tornado"]},{emoji:"",aliases:["fog"]},{emoji:"",aliases:["ocean"]},{emoji:"",aliases:["droplet"]},{emoji:"",aliases:["sweat drops"]},{emoji:"",aliases:["umbrella"]},{emoji:"",aliases:["green apple"]},{emoji:"",aliases:["apple"]},{emoji:"",aliases:["pear"]},{emoji:"",aliases:["tangerine","orange","mandarin"]},{emoji:"",aliases:["lemon"]},{emoji:"",aliases:["banana"]},{emoji:"",aliases:["watermelon"]},{emoji:"",aliases:["grapes"]},{emoji:"",aliases:["strawberry"]},{emoji:"",aliases:["melon"]},{emoji:"",aliases:["cherries"]},{emoji:"",aliases:["peach"]},{emoji:"",aliases:["pineapple"]},{emoji:"",aliases:["kiwi fruit"]},{emoji:"",aliases:["avocado"]},{emoji:"",aliases:["tomato"]},{emoji:"",aliases:["eggplant"]},{emoji:"",aliases:["cucumber"]},{emoji:"",aliases:["carrot"]},{emoji:"",aliases:["corn"]},{emoji:"",aliases:["hot pepper"]},{emoji:"",aliases:["potato"]},{emoji:"",aliases:["sweet potato"]},{emoji:"",aliases:["chestnut"]},{emoji:"",aliases:["peanuts"]},{emoji:"",aliases:["honey pot"]},{emoji:"",aliases:["croissant"]},{emoji:"",aliases:["bread"]},{emoji:"",aliases:["baguette bread"]},{emoji:"",aliases:["cheese"]},{emoji:"",aliases:["egg"]},{emoji:"",aliases:["fried egg"]},{emoji:"",aliases:["bacon"]},{emoji:"",aliases:["pancakes"]},{emoji:"",aliases:["fried shrimp"]},{emoji:"",aliases:["poultry leg"]},{emoji:"",aliases:["meat on bone"]},{emoji:"",aliases:["pizza"]},{emoji:"",aliases:["hotdog"]},{emoji:"",aliases:["hamburger"]},{emoji:"",aliases:["fries"]},{emoji:"",aliases:["stuffed flatbread"]},{emoji:"",aliases:["taco"]},{emoji:"",aliases:["burrito"]},{emoji:"",aliases:["green salad"]},{emoji:"",aliases:["shallow pan of food"]},{emoji:"",aliases:["spaghetti"]},{emoji:"",aliases:["ramen"]},{emoji:"",aliases:["stew"]},{emoji:"",aliases:["fish cake"]},{emoji:"",aliases:["sushi"]},{emoji:"",aliases:["bento"]},{emoji:"",aliases:["curry"]},{emoji:"",aliases:["rice"]},{emoji:"",aliases:["rice ball"]},{emoji:"",aliases:["rice cracker"]},{emoji:"",aliases:["oden"]},{emoji:"",aliases:["dango"]},{emoji:"",aliases:["shaved ice"]},{emoji:"",aliases:["ice cream"]},{emoji:"",aliases:["icecream"]},{emoji:"",aliases:["cake"]},{emoji:"",aliases:["birthday"]},{emoji:"",aliases:["custard"]},{emoji:"",aliases:["lollipop"]},{emoji:"",aliases:["candy"]},{emoji:"",aliases:["chocolate bar"]},{emoji:"",aliases:["popcorn"]},{emoji:"",aliases:["doughnut"]},{emoji:"",aliases:["cookie"]},{emoji:"",aliases:["milk glass"]},{emoji:"",aliases:["baby bottle"]},{emoji:"",aliases:["coffee"]},{emoji:"",aliases:["tea"]},{emoji:"",aliases:["sake"]},{emoji:"",aliases:["beer"]},{emoji:"",aliases:["beers"]},{emoji:"",aliases:["clinking glasses"]},{emoji:"",aliases:["wine glass"]},{emoji:"",aliases:["tumbler glass"]},{emoji:"",aliases:["cocktail"]},{emoji:"",aliases:["tropical drink"]},{emoji:"",aliases:["champagne"]},{emoji:"",aliases:["spoon"]},{emoji:"",aliases:["fork and knife"]},{emoji:"",aliases:["plate with cutlery"]},{emoji:"",aliases:["soccer"]},{emoji:"",aliases:["basketball"]},{emoji:"",aliases:["football"]},{emoji:"",aliases:["baseball"]},{emoji:"",aliases:["tennis"]},{emoji:"",aliases:["volleyball"]},{emoji:"",aliases:["rugby football"]},{emoji:"",aliases:["8ball"]},{emoji:"",aliases:["ping pong"]},{emoji:"",aliases:["badminton"]},{emoji:"",aliases:["goal net"]},{emoji:"",aliases:["ice hockey"]},{emoji:"",aliases:["field hockey"]},{emoji:"",aliases:["cricket"]},{emoji:"",aliases:["golf"]},{emoji:"",aliases:["bow and arrow"]},{emoji:"",aliases:["fishing pole and fish"]},{emoji:"",aliases:["boxing glove"]},{emoji:"",aliases:["martial arts uniform"]},{emoji:"",aliases:["ice skate"]},{emoji:"",aliases:["ski"]},{emoji:"",aliases:["skier"]},{emoji:"",aliases:["snowboarder"]},{emoji:"",aliases:["weight lifting woman"]},{emoji:"",aliases:["weight lifting man"]},{emoji:"",aliases:["person fencing"]},{emoji:"",aliases:["women wrestling"]},{emoji:"",aliases:["men wrestling"]},{emoji:"",aliases:["woman cartwheeling"]},{emoji:"",aliases:["man cartwheeling"]},{emoji:"",aliases:["basketball woman"]},{emoji:"",aliases:["basketball man"]},{emoji:"",aliases:["woman playing handball"]},{emoji:"",aliases:["man playing handball"]},{emoji:"",aliases:["golfing woman"]},{emoji:"",aliases:["golfing man"]},{emoji:"",aliases:["surfing woman"]},{emoji:"",aliases:["surfing man","surfer"]},{emoji:"",aliases:["swimming woman"]},{emoji:"",aliases:["swimming man","swimmer"]},{emoji:"",aliases:["woman playing water polo"]},{emoji:"",aliases:["man playing water polo"]},{emoji:"",aliases:["rowing woman"]},{emoji:"",aliases:["rowing man","rowboat"]},{emoji:"",aliases:["horse racing"]},{emoji:"",aliases:["biking woman"]},{emoji:"",aliases:["biking man","bicyclist"]},{emoji:"",aliases:["mountain biking woman"]},{emoji:"",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"",aliases:["running shirt with sash"]},{emoji:"",aliases:["medal sports"]},{emoji:"",aliases:["medal military"]},{emoji:"",aliases:["1st place medal"]},{emoji:"",aliases:["2nd place medal"]},{emoji:"",aliases:["3rd place medal"]},{emoji:"",aliases:["trophy"]},{emoji:"",aliases:["rosette"]},{emoji:"",aliases:["reminder ribbon"]},{emoji:"",aliases:["ticket"]},{emoji:"",aliases:["tickets"]},{emoji:"",aliases:["circus tent"]},{emoji:"",aliases:["woman juggling"]},{emoji:"",aliases:["man juggling"]},{emoji:"",aliases:["performing arts"]},{emoji:"",aliases:["art"]},{emoji:"",aliases:["clapper"]},{emoji:"",aliases:["microphone"]},{emoji:"",aliases:["headphones"]},{emoji:"",aliases:["musical score"]},{emoji:"",aliases:["musical keyboard"]},{emoji:"",aliases:["drum"]},{emoji:"",aliases:["saxophone"]},{emoji:"",aliases:["trumpet"]},{emoji:"",aliases:["guitar"]},{emoji:"",aliases:["violin"]},{emoji:"",aliases:["game die"]},{emoji:"",aliases:["dart"]},{emoji:"",aliases:["bowling"]},{emoji:"",aliases:["video game"]},{emoji:"",aliases:["slot machine"]},{emoji:"",aliases:["car","red car"]},{emoji:"",aliases:["taxi"]},{emoji:"",aliases:["blue car"]},{emoji:"",aliases:["bus"]},{emoji:"",aliases:["trolleybus"]},{emoji:"",aliases:["racing car"]},{emoji:"",aliases:["police car"]},{emoji:"",aliases:["ambulance"]},{emoji:"",aliases:["fire engine"]},{emoji:"",aliases:["minibus"]},{emoji:"",aliases:["truck"]},{emoji:"",aliases:["articulated lorry"]},{emoji:"",aliases:["tractor"]},{emoji:"",aliases:["kick scooter"]},{emoji:"",aliases:["bike"]},{emoji:"",aliases:["motor scooter"]},{emoji:"",aliases:["motorcycle"]},{emoji:"",aliases:["rotating light"]},{emoji:"",aliases:["oncoming police car"]},{emoji:"",aliases:["oncoming bus"]},{emoji:"",aliases:["oncoming automobile"]},{emoji:"",aliases:["oncoming taxi"]},{emoji:"",aliases:["aerial tramway"]},{emoji:"",aliases:["mountain cableway"]},{emoji:"",aliases:["suspension railway"]},{emoji:"",aliases:["railway car"]},{emoji:"",aliases:["train"]},{emoji:"",aliases:["mountain railway"]},{emoji:"",aliases:["monorail"]},{emoji:"",aliases:["bullettrain side"]},{emoji:"",aliases:["bullettrain front"]},{emoji:"",aliases:["light rail"]},{emoji:"",aliases:["steam locomotive"]},{emoji:"",aliases:["train2"]},{emoji:"",aliases:["metro"]},{emoji:"",aliases:["tram"]},{emoji:"",aliases:["station"]},{emoji:"",aliases:["helicopter"]},{emoji:"",aliases:["small airplane"]},{emoji:"",aliases:["airplane"]},{emoji:"",aliases:["flight departure"]},{emoji:"",aliases:["flight arrival"]},{emoji:"",aliases:["rocket"]},{emoji:"",aliases:["artificial satellite"]},{emoji:"",aliases:["seat"]},{emoji:"",aliases:["canoe"]},{emoji:"",aliases:["boat","sailboat"]},{emoji:"",aliases:["motor boat"]},{emoji:"",aliases:["speedboat"]},{emoji:"",aliases:["passenger ship"]},{emoji:"",aliases:["ferry"]},{emoji:"",aliases:["ship"]},{emoji:"",aliases:["anchor"]},{emoji:"",aliases:["construction"]},{emoji:"",aliases:["fuelpump"]},{emoji:"",aliases:["busstop"]},{emoji:"",aliases:["vertical traffic light"]},{emoji:"",aliases:["traffic light"]},{emoji:"",aliases:["world map"]},{emoji:"",aliases:["moyai"]},{emoji:"",aliases:["statue of liberty"]},{emoji:"",aliases:["fountain"]},{emoji:"",aliases:["tokyo tower"]},{emoji:"",aliases:["european castle"]},{emoji:"",aliases:["japanese castle"]},{emoji:"",aliases:["stadium"]},{emoji:"",aliases:["ferris wheel"]},{emoji:"",aliases:["roller coaster"]},{emoji:"",aliases:["carousel horse"]},{emoji:"",aliases:["parasol on ground"]},{emoji:"",aliases:["beach umbrella"]},{emoji:"",aliases:["desert island"]},{emoji:"",aliases:["mountain"]},{emoji:"",aliases:["mountain snow"]},{emoji:"",aliases:["mount fuji"]},{emoji:"",aliases:["volcano"]},{emoji:"",aliases:["desert"]},{emoji:"",aliases:["camping"]},{emoji:"",aliases:["tent"]},{emoji:"",aliases:["railway track"]},{emoji:"",aliases:["motorway"]},{emoji:"",aliases:["building construction"]},{emoji:"",aliases:["factory"]},{emoji:"",aliases:["house"]},{emoji:"",aliases:["house with garden"]},{emoji:"",aliases:["houses"]},{emoji:"",aliases:["derelict house"]},{emoji:"",aliases:["office"]},{emoji:"",aliases:["department store"]},{emoji:"",aliases:["post office"]},{emoji:"",aliases:["european post office"]},{emoji:"",aliases:["hospital"]},{emoji:"",aliases:["bank"]},{emoji:"",aliases:["hotel"]},{emoji:"",aliases:["convenience store"]},{emoji:"",aliases:["school"]},{emoji:"",aliases:["love hotel"]},{emoji:"",aliases:["wedding"]},{emoji:"",aliases:["classical building"]},{emoji:"",aliases:["church"]},{emoji:"",aliases:["mosque"]},{emoji:"",aliases:["synagogue"]},{emoji:"",aliases:["kaaba"]},{emoji:"",aliases:["shinto shrine"]},{emoji:"",aliases:["japan"]},{emoji:"",aliases:["rice scene"]},{emoji:"",aliases:["national park"]},{emoji:"",aliases:["sunrise"]},{emoji:"",aliases:["sunrise over mountains"]},{emoji:"",aliases:["stars"]},{emoji:"",aliases:["sparkler"]},{emoji:"",aliases:["fireworks"]},{emoji:"",aliases:["city sunrise"]},{emoji:"",aliases:["city sunset"]},{emoji:"",aliases:["cityscape"]},{emoji:"",aliases:["night with stars"]},{emoji:"",aliases:["milky way"]},{emoji:"",aliases:["bridge at night"]},{emoji:"",aliases:["foggy"]},{emoji:"",aliases:["watch"]},{emoji:"",aliases:["iphone"]},{emoji:"",aliases:["calling"]},{emoji:"",aliases:["computer"]},{emoji:"",aliases:["keyboard"]},{emoji:"",aliases:["desktop computer"]},{emoji:"",aliases:["printer"]},{emoji:"",aliases:["computer mouse"]},{emoji:"",aliases:["trackball"]},{emoji:"",aliases:["joystick"]},{emoji:"",aliases:["clamp"]},{emoji:"",aliases:["minidisc"]},{emoji:"",aliases:["floppy disk"]},{emoji:"",aliases:["cd"]},{emoji:"",aliases:["dvd"]},{emoji:"",aliases:["vhs"]},{emoji:"",aliases:["camera"]},{emoji:"",aliases:["camera flash"]},{emoji:"",aliases:["video camera"]},{emoji:"",aliases:["movie camera"]},{emoji:"",aliases:["film projector"]},{emoji:"",aliases:["film strip"]},{emoji:"",aliases:["telephone receiver"]},{emoji:"",aliases:["phone","telephone"]},{emoji:"",aliases:["pager"]},{emoji:"",aliases:["fax"]},{emoji:"",aliases:["tv"]},{emoji:"",aliases:["radio"]},{emoji:"",aliases:["studio microphone"]},{emoji:"",aliases:["level slider"]},{emoji:"",aliases:["control knobs"]},{emoji:"",aliases:["stopwatch"]},{emoji:"",aliases:["timer clock"]},{emoji:"",aliases:["alarm clock"]},{emoji:"",aliases:["mantelpiece clock"]},{emoji:"",aliases:["hourglass"]},{emoji:"",aliases:["hourglass flowing sand"]},{emoji:"",aliases:["satellite"]},{emoji:"",aliases:["battery"]},{emoji:"",aliases:["electric plug"]},{emoji:"",aliases:["bulb"]},{emoji:"",aliases:["flashlight"]},{emoji:"",aliases:["candle"]},{emoji:"",aliases:["wastebasket"]},{emoji:"",aliases:["oil drum"]},{emoji:"",aliases:["money with wings"]},{emoji:"",aliases:["dollar"]},{emoji:"",aliases:["yen"]},{emoji:"",aliases:["euro"]},{emoji:"",aliases:["pound"]},{emoji:"",aliases:["moneybag"]},{emoji:"",aliases:["credit card"]},{emoji:"",aliases:["gem"]},{emoji:"",aliases:["balance scale"]},{emoji:"",aliases:["wrench"]},{emoji:"",aliases:["hammer"]},{emoji:"",aliases:["hammer and pick"]},{emoji:"",aliases:["hammer and wrench"]},{emoji:"",aliases:["pick"]},{emoji:"",aliases:["nut and bolt"]},{emoji:"",aliases:["gear"]},{emoji:"",aliases:["chains"]},{emoji:"",aliases:["gun"]},{emoji:"",aliases:["bomb"]},{emoji:"",aliases:["hocho","knife"]},{emoji:"",aliases:["dagger"]},{emoji:"",aliases:["crossed swords"]},{emoji:"",aliases:["shield"]},{emoji:"",aliases:["smoking"]},{emoji:"",aliases:["coffin"]},{emoji:"",aliases:["funeral urn"]},{emoji:"",aliases:["amphora"]},{emoji:"",aliases:["crystal ball"]},{emoji:"",aliases:["prayer beads"]},{emoji:"",aliases:["barber"]},{emoji:"",aliases:["alembic"]},{emoji:"",aliases:["telescope"]},{emoji:"",aliases:["microscope"]},{emoji:"",aliases:["hole"]},{emoji:"",aliases:["pill"]},{emoji:"",aliases:["syringe"]},{emoji:"",aliases:["thermometer"]},{emoji:"",aliases:["toilet"]},{emoji:"",aliases:["potable water"]},{emoji:"",aliases:["shower"]},{emoji:"",aliases:["bathtub"]},{emoji:"",aliases:["bath"]},{emoji:"",aliases:["bellhop bell"]},{emoji:"",aliases:["key"]},{emoji:"",aliases:["old key"]},{emoji:"",aliases:["door"]},{emoji:"",aliases:["couch and lamp"]},{emoji:"",aliases:["bed"]},{emoji:"",aliases:["sleeping bed"]},{emoji:"",aliases:["framed picture"]},{emoji:"",aliases:["shopping"]},{emoji:"",aliases:["shopping cart"]},{emoji:"",aliases:["gift"]},{emoji:"",aliases:["balloon"]},{emoji:"",aliases:["flags"]},{emoji:"",aliases:["ribbon"]},{emoji:"",aliases:["confetti ball"]},{emoji:"",aliases:["tada"]},{emoji:"",aliases:["dolls"]},{emoji:"",aliases:["izakaya lantern","lantern"]},{emoji:"",aliases:["wind chime"]},{emoji:"",aliases:["email","envelope"]},{emoji:"",aliases:["envelope with arrow"]},{emoji:"",aliases:["incoming envelope"]},{emoji:"",aliases:["e-mail"]},{emoji:"",aliases:["love letter"]},{emoji:"",aliases:["inbox tray"]},{emoji:"",aliases:["outbox tray"]},{emoji:"",aliases:["package"]},{emoji:"",aliases:["label"]},{emoji:"",aliases:["mailbox closed"]},{emoji:"",aliases:["mailbox"]},{emoji:"",aliases:["mailbox with mail"]},{emoji:"",aliases:["mailbox with no mail"]},{emoji:"",aliases:["postbox"]},{emoji:"",aliases:["postal horn"]},{emoji:"",aliases:["scroll"]},{emoji:"",aliases:["page with curl"]},{emoji:"",aliases:["page facing up"]},{emoji:"",aliases:["bookmark tabs"]},{emoji:"",aliases:["bar chart"]},{emoji:"",aliases:["chart with upwards trend"]},{emoji:"",aliases:["chart with downwards trend"]},{emoji:"",aliases:["spiral notepad"]},{emoji:"",aliases:["spiral calendar"]},{emoji:"",aliases:["calendar"]},{emoji:"",aliases:["date"]},{emoji:"",aliases:["card index"]},{emoji:"",aliases:["card file box"]},{emoji:"",aliases:["ballot box"]},{emoji:"",aliases:["file cabinet"]},{emoji:"",aliases:["clipboard"]},{emoji:"",aliases:["file folder"]},{emoji:"",aliases:["open file folder"]},{emoji:"",aliases:["card index dividers"]},{emoji:"",aliases:["newspaper roll"]},{emoji:"",aliases:["newspaper"]},{emoji:"",aliases:["notebook"]},{emoji:"",aliases:["notebook with decorative cover"]},{emoji:"",aliases:["ledger"]},{emoji:"",aliases:["closed book"]},{emoji:"",aliases:["green book"]},{emoji:"",aliases:["blue book"]},{emoji:"",aliases:["orange book"]},{emoji:"",aliases:["books"]},{emoji:"",aliases:["book","open book"]},{emoji:"",aliases:["bookmark"]},{emoji:"",aliases:["link"]},{emoji:"",aliases:["paperclip"]},{emoji:"",aliases:["paperclips"]},{emoji:"",aliases:["triangular ruler"]},{emoji:"",aliases:["straight ruler"]},{emoji:"",aliases:["pushpin"]},{emoji:"",aliases:["round pushpin"]},{emoji:"",aliases:["scissors"]},{emoji:"",aliases:["pen"]},{emoji:"",aliases:["fountain pen"]},{emoji:"",aliases:["black nib"]},{emoji:"",aliases:["paintbrush"]},{emoji:"",aliases:["crayon"]},{emoji:"",aliases:["memo","pencil"]},{emoji:"",aliases:["pencil2"]},{emoji:"",aliases:["mag"]},{emoji:"",aliases:["mag right"]},{emoji:"",aliases:["lock with ink pen"]},{emoji:"",aliases:["closed lock with key"]},{emoji:"",aliases:["lock"]},{emoji:"",aliases:["unlock"]},{emoji:"",aliases:["heart"]},{emoji:"",aliases:["yellow heart"]},{emoji:"",aliases:["green heart"]},{emoji:"",aliases:["blue heart"]},{emoji:"",aliases:["purple heart"]},{emoji:"",aliases:["black heart"]},{emoji:"",aliases:["broken heart"]},{emoji:"",aliases:["heavy heart exclamation"]},{emoji:"",aliases:["two hearts"]},{emoji:"",aliases:["revolving hearts"]},{emoji:"",aliases:["heartbeat"]},{emoji:"",aliases:["heartpulse"]},{emoji:"",aliases:["sparkling heart"]},{emoji:"",aliases:["cupid"]},{emoji:"",aliases:["gift heart"]},{emoji:"",aliases:["heart decoration"]},{emoji:"",aliases:["peace symbol"]},{emoji:"",aliases:["latin cross"]},{emoji:"",aliases:["star and crescent"]},{emoji:"",aliases:["om"]},{emoji:"",aliases:["wheel of dharma"]},{emoji:"",aliases:["star of david"]},{emoji:"",aliases:["six pointed star"]},{emoji:"",aliases:["menorah"]},{emoji:"",aliases:["yin yang"]},{emoji:"",aliases:["orthodox cross"]},{emoji:"",aliases:["place of worship"]},{emoji:"",aliases:["ophiuchus"]},{emoji:"",aliases:["aries"]},{emoji:"",aliases:["taurus"]},{emoji:"",aliases:["gemini"]},{emoji:"",aliases:["cancer"]},{emoji:"",aliases:["leo"]},{emoji:"",aliases:["virgo"]},{emoji:"",aliases:["libra"]},{emoji:"",aliases:["scorpius"]},{emoji:"",aliases:["sagittarius"]},{emoji:"",aliases:["capricorn"]},{emoji:"",aliases:["aquarius"]},{emoji:"",aliases:["pisces"]},{emoji:"",aliases:["id"]},{emoji:"",aliases:["atom symbol"]},{emoji:"",aliases:["accept"]},{emoji:"",aliases:["radioactive"]},{emoji:"",aliases:["biohazard"]},{emoji:"",aliases:["mobile phone off"]},{emoji:"",aliases:["vibration mode"]},{emoji:"",aliases:["u6709"]},{emoji:"",aliases:["u7121"]},{emoji:"",aliases:["u7533"]},{emoji:"",aliases:["u55b6"]},{emoji:"",aliases:["u6708"]},{emoji:"",aliases:["eight pointed black star"]},{emoji:"",aliases:["vs"]},{emoji:"",aliases:["white flower"]},{emoji:"",aliases:["ideograph advantage"]},{emoji:"",aliases:["secret"]},{emoji:"",aliases:["congratulations"]},{emoji:"",aliases:["u5408"]},{emoji:"",aliases:["u6e80"]},{emoji:"",aliases:["u5272"]},{emoji:"",aliases:["u7981"]},{emoji:"",aliases:["a"]},{emoji:"",aliases:["b"]},{emoji:"",aliases:["ab"]},{emoji:"",aliases:["cl"]},{emoji:"",aliases:["o2"]},{emoji:"",aliases:["sos"]},{emoji:"",aliases:["x"]},{emoji:"",aliases:["o"]},{emoji:"",aliases:["stop sign"]},{emoji:"",aliases:["no entry"]},{emoji:"",aliases:["name badge"]},{emoji:"",aliases:["no entry sign"]},{emoji:"",aliases:["100"]},{emoji:"",aliases:["anger"]},{emoji:"",aliases:["hotsprings"]},{emoji:"",aliases:["no pedestrians"]},{emoji:"",aliases:["do not litter"]},{emoji:"",aliases:["no bicycles"]},{emoji:"",aliases:["non-potable water"]},{emoji:"",aliases:["underage"]},{emoji:"",aliases:["no mobile phones"]},{emoji:"",aliases:["no smoking"]},{emoji:"",aliases:["exclamation","heavy exclamation mark"]},{emoji:"",aliases:["grey exclamation"]},{emoji:"",aliases:["question"]},{emoji:"",aliases:["grey question"]},{emoji:"",aliases:["bangbang"]},{emoji:"",aliases:["interrobang"]},{emoji:"",aliases:["low brightness"]},{emoji:"",aliases:["high brightness"]},{emoji:"",aliases:["part alternation mark"]},{emoji:"",aliases:["warning"]},{emoji:"",aliases:["children crossing"]},{emoji:"",aliases:["trident"]},{emoji:"",aliases:["fleur de lis"]},{emoji:"",aliases:["beginner"]},{emoji:"",aliases:["recycle"]},{emoji:"",aliases:["white check mark"]},{emoji:"",aliases:["u6307"]},{emoji:"",aliases:["chart"]},{emoji:"",aliases:["sparkle"]},{emoji:"",aliases:["eight spoked asterisk"]},{emoji:"",aliases:["negative squared cross mark"]},{emoji:"",aliases:["globe with meridians"]},{emoji:"",aliases:["diamond shape with a dot inside"]},{emoji:"",aliases:["m"]},{emoji:"",aliases:["cyclone"]},{emoji:"",aliases:["zzz"]},{emoji:"",aliases:["atm"]},{emoji:"",aliases:["wc"]},{emoji:"",aliases:["wheelchair"]},{emoji:"",aliases:["parking"]},{emoji:"",aliases:["u7a7a"]},{emoji:"",aliases:["sa"]},{emoji:"",aliases:["passport control"]},{emoji:"",aliases:["customs"]},{emoji:"",aliases:["baggage claim"]},{emoji:"",aliases:["left luggage"]},{emoji:"",aliases:["mens"]},{emoji:"",aliases:["womens"]},{emoji:"",aliases:["baby symbol"]},{emoji:"",aliases:["restroom"]},{emoji:"",aliases:["put litter in its place"]},{emoji:"",aliases:["cinema"]},{emoji:"",aliases:["signal strength"]},{emoji:"",aliases:["koko"]},{emoji:"",aliases:["symbols"]},{emoji:"",aliases:["information source"]},{emoji:"",aliases:["abc"]},{emoji:"",aliases:["abcd"]},{emoji:"",aliases:["capital abcd"]},{emoji:"",aliases:["ng"]},{emoji:"",aliases:["ok"]},{emoji:"",aliases:["up"]},{emoji:"",aliases:["cool"]},{emoji:"",aliases:["new"]},{emoji:"",aliases:["free"]},{emoji:"0",aliases:["zero"]},{emoji:"1",aliases:["one"]},{emoji:"2",aliases:["two"]},{emoji:"3",aliases:["three"]},{emoji:"4",aliases:["four"]},{emoji:"5",aliases:["five"]},{emoji:"6",aliases:["six"]},{emoji:"7",aliases:["seven"]},{emoji:"8",aliases:["eight"]},{emoji:"9",aliases:["nine"]},{emoji:"",aliases:["keycap ten"]},{emoji:"",aliases:["1234"]},{emoji:"#",aliases:["hash"]},{emoji:"*",aliases:["asterisk"]},{emoji:"",aliases:["arrow forward"]},{emoji:"",aliases:["pause button"]},{emoji:"",aliases:["play or pause button"]},{emoji:"",aliases:["stop button"]},{emoji:"",aliases:["record button"]},{emoji:"",aliases:["next track button"]},{emoji:"",aliases:["previous track button"]},{emoji:"",aliases:["fast forward"]},{emoji:"",aliases:["rewind"]},{emoji:"",aliases:["arrow double up"]},{emoji:"",aliases:["arrow double down"]},{emoji:"",aliases:["arrow backward"]},{emoji:"",aliases:["arrow up small"]},{emoji:"",aliases:["arrow down small"]},{emoji:"",aliases:["arrow right"]},{emoji:"",aliases:["arrow left"]},{emoji:"",aliases:["arrow up"]},{emoji:"",aliases:["arrow down"]},{emoji:"",aliases:["arrow upper right"]},{emoji:"",aliases:["arrow lower right"]},{emoji:"",aliases:["arrow lower left"]},{emoji:"",aliases:["arrow upper left"]},{emoji:"",aliases:["arrow up down"]},{emoji:"",aliases:["left right arrow"]},{emoji:"",aliases:["arrow right hook"]},{emoji:"",aliases:["leftwards arrow with hook"]},{emoji:"",aliases:["arrow heading up"]},{emoji:"",aliases:["arrow heading down"]},{emoji:"",aliases:["twisted rightwards arrows"]},{emoji:"",aliases:["repeat"]},{emoji:"",aliases:["repeat one"]},{emoji:"",aliases:["arrows counterclockwise"]},{emoji:"",aliases:["arrows clockwise"]},{emoji:"",aliases:["musical note"]},{emoji:"",aliases:["notes"]},{emoji:"",aliases:["heavy plus sign"]},{emoji:"",aliases:["heavy minus sign"]},{emoji:"",aliases:["heavy division sign"]},{emoji:"",aliases:["heavy multiplication x"]},{emoji:"",aliases:["heavy dollar sign"]},{emoji:"",aliases:["currency exchange"]},{emoji:"",aliases:["tm"]},{emoji:"",aliases:["copyright"]},{emoji:"",aliases:["registered"]},{emoji:"",aliases:["wavy dash"]},{emoji:"",aliases:["curly loop"]},{emoji:"",aliases:["loop"]},{emoji:"",aliases:["end"]},{emoji:"",aliases:["back"]},{emoji:"",aliases:["on"]},{emoji:"",aliases:["top"]},{emoji:"",aliases:["soon"]},{emoji:"",aliases:["heavy check mark"]},{emoji:"",aliases:["ballot box with check"]},{emoji:"",aliases:["radio button"]},{emoji:"",aliases:["white circle"]},{emoji:"",aliases:["black circle"]},{emoji:"",aliases:["red circle"]},{emoji:"",aliases:["large blue circle"]},{emoji:"",aliases:["small red triangle"]},{emoji:"",aliases:["small red triangle down"]},{emoji:"",aliases:["small orange diamond"]},{emoji:"",aliases:["small blue diamond"]},{emoji:"",aliases:["large orange diamond"]},{emoji:"",aliases:["large blue diamond"]},{emoji:"",aliases:["white square button"]},{emoji:"",aliases:["black square button"]},{emoji:"",aliases:["black small square"]},{emoji:"",aliases:["white small square"]},{emoji:"",aliases:["black medium small square"]},{emoji:"",aliases:["white medium small square"]},{emoji:"",aliases:["black medium square"]},{emoji:"",aliases:["white medium square"]},{emoji:"",aliases:["black large square"]},{emoji:"",aliases:["white large square"]},{emoji:"",aliases:["speaker"]},{emoji:"",aliases:["mute"]},{emoji:"",aliases:["sound"]},{emoji:"",aliases:["loud sound"]},{emoji:"",aliases:["bell"]},{emoji:"",aliases:["no bell"]},{emoji:"",aliases:["mega"]},{emoji:"",aliases:["loudspeaker"]},{emoji:"",aliases:["eye speech bubble"]},{emoji:"",aliases:["speech balloon"]},{emoji:"",aliases:["thought balloon"]},{emoji:"",aliases:["right anger bubble"]},{emoji:"",aliases:["spades"]},{emoji:"",aliases:["clubs"]},{emoji:"",aliases:["hearts"]},{emoji:"",aliases:["diamonds"]},{emoji:"",aliases:["black joker"]},{emoji:"",aliases:["flower playing cards"]},{emoji:"",aliases:["mahjong"]},{emoji:"",aliases:["clock1"]},{emoji:"",aliases:["clock2"]},{emoji:"",aliases:["clock3"]},{emoji:"",aliases:["clock4"]},{emoji:"",aliases:["clock5"]},{emoji:"",aliases:["clock6"]},{emoji:"",aliases:["clock7"]},{emoji:"",aliases:["clock8"]},{emoji:"",aliases:["clock9"]},{emoji:"",aliases:["clock10"]},{emoji:"",aliases:["clock11"]},{emoji:"",aliases:["clock12"]},{emoji:"",aliases:["clock130"]},{emoji:"",aliases:["clock230"]},{emoji:"",aliases:["clock330"]},{emoji:"",aliases:["clock430"]},{emoji:"",aliases:["clock530"]},{emoji:"",aliases:["clock630"]},{emoji:"",aliases:["clock730"]},{emoji:"",aliases:["clock830"]},{emoji:"",aliases:["clock930"]},{emoji:"",aliases:["clock1030"]},{emoji:"",aliases:["clock1130"]},{emoji:"",aliases:["clock1230"]},{emoji:"",aliases:["white flag"]},{emoji:"",aliases:["black flag"]},{emoji:"",aliases:["checkered flag"]},{emoji:"",aliases:["triangular flag on post"]},{emoji:"",aliases:["rainbow flag"]},{emoji:"",aliases:["afghanistan"]},{emoji:"",aliases:["aland islands"]},{emoji:"",aliases:["albania"]},{emoji:"",aliases:["algeria"]},{emoji:"",aliases:["american samoa"]},{emoji:"",aliases:["andorra"]},{emoji:"",aliases:["angola"]},{emoji:"",aliases:["anguilla"]},{emoji:"",aliases:["antarctica"]},{emoji:"",aliases:["antigua barbuda"]},{emoji:"",aliases:["argentina"]},{emoji:"",aliases:["armenia"]},{emoji:"",aliases:["aruba"]},{emoji:"",aliases:["australia"]},{emoji:"",aliases:["austria"]},{emoji:"",aliases:["azerbaijan"]},{emoji:"",aliases:["bahamas"]},{emoji:"",aliases:["bahrain"]},{emoji:"",aliases:["bangladesh"]},{emoji:"",aliases:["barbados"]},{emoji:"",aliases:["belarus"]},{emoji:"",aliases:["belgium"]},{emoji:"",aliases:["belize"]},{emoji:"",aliases:["benin"]},{emoji:"",aliases:["bermuda"]},{emoji:"",aliases:["bhutan"]},{emoji:"",aliases:["bolivia"]},{emoji:"",aliases:["caribbean netherlands"]},{emoji:"",aliases:["bosnia herzegovina"]},{emoji:"",aliases:["botswana"]},{emoji:"",aliases:["brazil"]},{emoji:"",aliases:["british indian ocean territory"]},{emoji:"",aliases:["british virgin islands"]},{emoji:"",aliases:["brunei"]},{emoji:"",aliases:["bulgaria"]},{emoji:"",aliases:["burkina faso"]},{emoji:"",aliases:["burundi"]},{emoji:"",aliases:["cape verde"]},{emoji:"",aliases:["cambodia"]},{emoji:"",aliases:["cameroon"]},{emoji:"",aliases:["canada"]},{emoji:"",aliases:["canary islands"]},{emoji:"",aliases:["cayman islands"]},{emoji:"",aliases:["central african republic"]},{emoji:"",aliases:["chad"]},{emoji:"",aliases:["chile"]},{emoji:"",aliases:["cn"]},{emoji:"",aliases:["christmas island"]},{emoji:"",aliases:["cocos islands"]},{emoji:"",aliases:["colombia"]},{emoji:"",aliases:["comoros"]},{emoji:"",aliases:["congo brazzaville"]},{emoji:"",aliases:["congo kinshasa"]},{emoji:"",aliases:["cook islands"]},{emoji:"",aliases:["costa rica"]},{emoji:"",aliases:["cote divoire"]},{emoji:"",aliases:["croatia"]},{emoji:"",aliases:["cuba"]},{emoji:"",aliases:["curacao"]},{emoji:"",aliases:["cyprus"]},{emoji:"",aliases:["czech republic"]},{emoji:"",aliases:["denmark"]},{emoji:"",aliases:["djibouti"]},{emoji:"",aliases:["dominica"]},{emoji:"",aliases:["dominican republic"]},{emoji:"",aliases:["ecuador"]},{emoji:"",aliases:["egypt"]},{emoji:"",aliases:["el salvador"]},{emoji:"",aliases:["equatorial guinea"]},{emoji:"",aliases:["eritrea"]},{emoji:"",aliases:["estonia"]},{emoji:"",aliases:["ethiopia"]},{emoji:"",aliases:["eu","european union"]},{emoji:"",aliases:["falkland islands"]},{emoji:"",aliases:["faroe islands"]},{emoji:"",aliases:["fiji"]},{emoji:"",aliases:["finland"]},{emoji:"",aliases:["fr"]},{emoji:"",aliases:["french guiana"]},{emoji:"",aliases:["french polynesia"]},{emoji:"",aliases:["french southern territories"]},{emoji:"",aliases:["gabon"]},{emoji:"",aliases:["gambia"]},{emoji:"",aliases:["georgia"]},{emoji:"",aliases:["de"]},{emoji:"",aliases:["ghana"]},{emoji:"",aliases:["gibraltar"]},{emoji:"",aliases:["greece"]},{emoji:"",aliases:["greenland"]},{emoji:"",aliases:["grenada"]},{emoji:"",aliases:["guadeloupe"]},{emoji:"",aliases:["guam"]},{emoji:"",aliases:["guatemala"]},{emoji:"",aliases:["guernsey"]},{emoji:"",aliases:["guinea"]},{emoji:"",aliases:["guinea bissau"]},{emoji:"",aliases:["guyana"]},{emoji:"",aliases:["haiti"]},{emoji:"",aliases:["honduras"]},{emoji:"",aliases:["hong kong"]},{emoji:"",aliases:["hungary"]},{emoji:"",aliases:["iceland"]},{emoji:"",aliases:["india"]},{emoji:"",aliases:["indonesia"]},{emoji:"",aliases:["iran"]},{emoji:"",aliases:["iraq"]},{emoji:"",aliases:["ireland"]},{emoji:"",aliases:["isle of man"]},{emoji:"",aliases:["israel"]},{emoji:"",aliases:["it"]},{emoji:"",aliases:["jamaica"]},{emoji:"",aliases:["jp"]},{emoji:"",aliases:["crossed flags"]},{emoji:"",aliases:["jersey"]},{emoji:"",aliases:["jordan"]},{emoji:"",aliases:["kazakhstan"]},{emoji:"",aliases:["kenya"]},{emoji:"",aliases:["kiribati"]},{emoji:"",aliases:["kosovo"]},{emoji:"",aliases:["kuwait"]},{emoji:"",aliases:["kyrgyzstan"]},{emoji:"",aliases:["laos"]},{emoji:"",aliases:["latvia"]},{emoji:"",aliases:["lebanon"]},{emoji:"",aliases:["lesotho"]},{emoji:"",aliases:["liberia"]},{emoji:"",aliases:["libya"]},{emoji:"",aliases:["liechtenstein"]},{emoji:"",aliases:["lithuania"]},{emoji:"",aliases:["luxembourg"]},{emoji:"",aliases:["macau"]},{emoji:"",aliases:["macedonia"]},{emoji:"",aliases:["madagascar"]},{emoji:"",aliases:["malawi"]},{emoji:"",aliases:["malaysia"]},{emoji:"",aliases:["maldives"]},{emoji:"",aliases:["mali"]},{emoji:"",aliases:["malta"]},{emoji:"",aliases:["marshall islands"]},{emoji:"",aliases:["martinique"]},{emoji:"",aliases:["mauritania"]},{emoji:"",aliases:["mauritius"]},{emoji:"",aliases:["mayotte"]},{emoji:"",aliases:["mexico"]},{emoji:"",aliases:["micronesia"]},{emoji:"",aliases:["moldova"]},{emoji:"",aliases:["monaco"]},{emoji:"",aliases:["mongolia"]},{emoji:"",aliases:["montenegro"]},{emoji:"",aliases:["montserrat"]},{emoji:"",aliases:["morocco"]},{emoji:"",aliases:["mozambique"]},{emoji:"",aliases:["myanmar"]},{emoji:"",aliases:["namibia"]},{emoji:"",aliases:["nauru"]},{emoji:"",aliases:["nepal"]},{emoji:"",aliases:["netherlands"]},{emoji:"",aliases:["new caledonia"]},{emoji:"",aliases:["new zealand"]},{emoji:"",aliases:["nicaragua"]},{emoji:"",aliases:["niger"]},{emoji:"",aliases:["nigeria"]},{emoji:"",aliases:["niue"]},{emoji:"",aliases:["norfolk island"]},{emoji:"",aliases:["northern mariana islands"]},{emoji:"",aliases:["north korea"]},{emoji:"",aliases:["norway"]},{emoji:"",aliases:["oman"]},{emoji:"",aliases:["pakistan"]},{emoji:"",aliases:["palau"]},{emoji:"",aliases:["palestinian territories"]},{emoji:"",aliases:["panama"]},{emoji:"",aliases:["papua new guinea"]},{emoji:"",aliases:["paraguay"]},{emoji:"",aliases:["peru"]},{emoji:"",aliases:["philippines"]},{emoji:"",aliases:["pitcairn islands"]},{emoji:"",aliases:["poland"]},{emoji:"",aliases:["portugal"]},{emoji:"",aliases:["puerto rico"]},{emoji:"",aliases:["qatar"]},{emoji:"",aliases:["reunion"]},{emoji:"",aliases:["romania"]},{emoji:"",aliases:["ru"]},{emoji:"",aliases:["rwanda"]},{emoji:"",aliases:["st barthelemy"]},{emoji:"",aliases:["st helena"]},{emoji:"",aliases:["st kitts nevis"]},{emoji:"",aliases:["st lucia"]},{emoji:"",aliases:["st pierre miquelon"]},{emoji:"",aliases:["st vincent grenadines"]},{emoji:"",aliases:["samoa"]},{emoji:"",aliases:["san marino"]},{emoji:"",aliases:["sao tome principe"]},{emoji:"",aliases:["saudi arabia"]},{emoji:"",aliases:["senegal"]},{emoji:"",aliases:["serbia"]},{emoji:"",aliases:["seychelles"]},{emoji:"",aliases:["sierra leone"]},{emoji:"",aliases:["singapore"]},{emoji:"",aliases:["sint maarten"]},{emoji:"",aliases:["slovakia"]},{emoji:"",aliases:["slovenia"]},{emoji:"",aliases:["solomon islands"]},{emoji:"",aliases:["somalia"]},{emoji:"",aliases:["south africa"]},{emoji:"",aliases:["south georgia south sandwich islands"]},{emoji:"",aliases:["kr"]},{emoji:"",aliases:["south sudan"]},{emoji:"",aliases:["es"]},{emoji:"",aliases:["sri lanka"]},{emoji:"",aliases:["sudan"]},{emoji:"",aliases:["suriname"]},{emoji:"",aliases:["swaziland"]},{emoji:"",aliases:["sweden"]},{emoji:"",aliases:["switzerland"]},{emoji:"",aliases:["syria"]},{emoji:"",aliases:["taiwan"]},{emoji:"",aliases:["tajikistan"]},{emoji:"",aliases:["tanzania"]},{emoji:"",aliases:["thailand"]},{emoji:"",aliases:["timor leste"]},{emoji:"",aliases:["togo"]},{emoji:"",aliases:["tokelau"]},{emoji:"",aliases:["tonga"]},{emoji:"",aliases:["trinidad tobago"]},{emoji:"",aliases:["tunisia"]},{emoji:"",aliases:["tr"]},{emoji:"",aliases:["turkmenistan"]},{emoji:"",aliases:["turks caicos islands"]},{emoji:"",aliases:["tuvalu"]},{emoji:"",aliases:["uganda"]},{emoji:"",aliases:["ukraine"]},{emoji:"",aliases:["united arab emirates"]},{emoji:"",aliases:["gb","uk"]},{emoji:"",aliases:["us"]},{emoji:"",aliases:["us virgin islands"]},{emoji:"",aliases:["uruguay"]},{emoji:"",aliases:["uzbekistan"]},{emoji:"",aliases:["vanuatu"]},{emoji:"",aliases:["vatican city"]},{emoji:"",aliases:["venezuela"]},{emoji:"",aliases:["vietnam"]},{emoji:"",aliases:["wallis futuna"]},{emoji:"",aliases:["western sahara"]},{emoji:"",aliases:["yemen"]},{emoji:"",aliases:["zambia"]},{emoji:"",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return C}),n.d(t,"checkStatus",function(){return E}),n.d(t,"open",function(){return k}),n.d(t,"close",function(){return O});var i,s,a,o,r,l=n(1),c=n(7),d=n(8),u=n(567),h=document.getElementById("suggestedUsersContainer"),p=h.querySelector(".suggestedListBox"),m=document.getElementById("suggestedUsersTemplate"),g=[],f=0,b=null;function y(){var e=[{user:{username:"everyone",_id:"everyone"},icon:o.icon.type,projectName:o.name}].concat(o.users);if((g=e.filter(({user:e})=>"invited"!==e.status&&("me"===b&&Zeplin.user._id===e._id||e.username.startsWith(b)))).length)return b||(f=1,a=g[1]),g.forEach(v),h.appendChild(p),!a||function(e){return!g.some(function(t){return t.user._id===e.user._id})}(a)||"me"===b?(f=0,a=g[0]):f=h.querySelector(".suggestedItem[data-id='"+a.user._id+"']").dataset.index,h;O()}function v(e,t){var n=document.importNode(m.content,!0),i=n.querySelector(".suggestedItem"),s=n.querySelector(".suggestedUserName"),a=n.querySelector(".everyoneInfo"),o=n.querySelector(".suggestedUserImage"),r=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,s.textContent=e.user.username||e.user.email,s.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&s.classList.add("you"),"everyone"===e.user._id?(a.textContent="Notify everyone in "+e.projectName,r.dataset.type=e.icon,o.parentElement.classList.add("hidden")):(a.textContent="",Object(d.m)(o,e.user)),p.appendChild(n)}function S(e){var t=i.value.substring(0,i.selectionStart),n=i.value.substring(i.selectionStart),a=e.user.username,o=t.substr(0,t.lastIndexOf("@"))+"@"+a+" ";i.value=o+n,s.innerHTML=l.j(i.value)+"&nbsp;",i.focus(),i.setSelectionRange(o.length+1,o.length+1),O()}function C(e,t,n){if(i=e,s=t,o=n,!h.classList.contains("hidden")){var r=h.querySelector(".suggestedItem.selected");r&&(a=g[r.dataset.index])}var l,d=Object(c.b)(i.value.substring(0,i.selectionStart),!0);return l=(l=Object(c.b)(i.value.substr(i.selectionStart)))>-1?i.selectionStart+l:0,O(),b=null,"everyone"===(b=l?i.value.substring(d+1,l):i.value.substring(d+1))&&(b=""),y()}function E(){b&&u.b(r)}function k(){r={elements:{textContainer:i,suggestedListContainer:h},cb:{autoComplete:S},index:f,list:g},u.b(r)}function O(){u.a()}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var i,s=n(17),a=document.getElementById("deleteProjectDialog"),o=document.getElementById("projectNameInput"),r=document.getElementById("deleteProjectDialogCancelButton"),l=document.getElementById("deleteProjectDialogDoneButton");function c(e){i=e}function d(e,t,n){a.dataset.pid=e,a.dataset.projectName=t,a.dataset.oid=n,a.showModal()}s.b.registerDialog(a),o.addEventListener("input",function(){a.querySelector("button.done").disabled=o.value!==a.dataset.projectName,o.setCustomValidity(o.value===a.dataset.projectName?"":"Project name doesn't match provided value")}),r.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&a.close()}),a.addEventListener("close",function(){o.value="",o.setCustomValidity(""),o.parentElement.classList.remove("typed"),a.querySelector("button.done").disabled=!0}),o.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),o.value===a.dataset.projectName&&(a.close(),i(a.dataset.pid,a.dataset.oid))}}),l.addEventListener("click",function(){o.value===a.dataset.projectName&&(a.close(),i(a.dataset.pid,a.dataset.oid))})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(18),o=n(680),r=n(723),l=n(683),c=n(620),d=n(882),u=n(1080),h=n(129),p=n(22),m=n(109),g=n(93),f=n(77),b=n(49),y=n(42),v=n(39),S=n(1083);n.n(S);class C extends i.default.Component{constructor(e){super(e),this.handleExportClick=this.handleExportClick.bind(this),this.handleChangeSelectedView=this.handleChangeSelectedView.bind(this)}static getExtensionState(){const e=g.b.getState();let t,n;if(e.initialized){t=!0;const i=e.extensions.filter(({id:t})=>e.enabledExtensions[e.barrelType].includes(t)).map(({name:e})=>e);if(i.length)if(i.length>1){const e=i.pop();n=`${i.join(", ")}, and ${e}`}else n=i[0];else n="No extensions yet."}else t=!1,n="";return{extensionsLoaded:t,extensionTitles:n}}static calculateState(){const e=p.d.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]);if(t)return{loading:!0};const{organizations:i}=f.d.getState(),{barrelId:s,barrelType:o,organizationId:r,organizationTransitionFinished:l}=n,{projects:c}=b.c.getState(),{styleguides:d,loadingSelectParent:u}=y.c.getState(),{name:h}=i.find(e=>e._id===r)||{},m=(o===a.a.STYLEGUIDE?d:c)[r][s];if(m.partial)return Object.assign({loading:!1,organizationName:h,barrel:m},n);const g=Object.values(c[r]||{}),v=d[r]||{},S=Object.values(v||{}),E=function(e,t){if(t===a.a.STYLEGUIDE)return e.ancestors;if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;return"active"===i?[...n.ancestors,n._id]:[]}(m,o).map(e=>v[e]).filter(Boolean);return Object.assign({loading:!1,loadingSelectParent:u,organizationName:h,organizationId:r,organizationTransitionFinished:l,barrel:m,linkedStyleguides:E,currentOrganizationProjects:g,currentOrganizationStyleguides:S},n,C.getExtensionState())}static getStores(){return[p.d,g.b,f.d,b.c,y.c]}handleExportClick(e,t,n){p.b.exportCode({resourceType:e,exportObjects:t,extension:n})}handleChangeSelectedView(e){p.b.changeSelectedView(e,!0)}getChildContext(){const{shortlinks:e}=this.state;return{shortlinks:e}}renderHeader(){const{loading:e,barrel:t,organizationName:n,organizationId:r,barrelType:l,barrel:{name:c=""}={},selectedView:d}=this.state,u=l===a.a.PROJECT?"projects":"styleguides";let h,p;return r&&"user"!==r&&n?(h=i.default.h("div",{class:"backButtonLabel",title:n},i.default.h("div",{class:"organizationName ellipsis"},n),i.default.h("div",null,"s Workspace")),p=Object(s.P)(`organization-${u}`,{url:{oid:r}})):(h="Workspace",p=Object(s.P)(u)),document.head.querySelector("title").textContent=`${c} - Zeplin`,i.default.h(o.a,{loadingBarrel:e,loadingSnapshot:!1,barrelType:l,selectedView:d,title:c,backButtonLabel:h,backButtonLink:p,isPreview:t&&t.partial,onOpenPreviousScreen:m.c.openPreviousScreen,onOpenNextScreen:m.c.openNextScreen,onChangeSelectedView:this.handleChangeSelectedView})}renderProjectPreview(){const{barrel:e,loadingJoin:t}=this.state;return i.default.h(c.a,{projectData:e,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoinClick:p.b.join})}renderDashboard(){const{projectOverviewRef:e,fixedThumbnailSize:t,formatZplTextArea:n,projectSidebarWidth:s,dashboardMountListener:a}=this.props,{loading:o,barrel:l,barrelUser:c,organizationId:d,showSlackReconnectionAuntie:u,extensionsLoaded:h,extensionTitles:p}=this.state;return l.partial?this.renderProjectPreview():i.default.h(r.a,{projectOverviewRef:e,fixedThumbnailSize:t,formatZplTextArea:n,sidebarWidth:s,mountListener:a,loading:o,barrel:l,barrelUser:c,organizationId:d,showSlackReconnectionAuntie:u,extensionsLoaded:h,extensionTitles:p})}renderStyleguidePreview(){const{barrel:e,loadingJoin:t}=this.state;return i.default.h(u.a,{styleguide:e,loadingJoin:t,onJoin:p.b.join})}renderStyleguide(){const{descriptionFormatter:e}=this.props,{loading:t,loadingSelectParent:n,barrelType:s,barrel:a,barrelUser:o,currentOrganizationProjects:r,currentOrganizationStyleguides:l,assetDensityScalePrefs:c,assetNamingConvention:u,showOptimizedSVG:h,showSlackReconnectionAuntie:p,bitmapInfoHidden:m,densityWarningHidden:g,linkedStyleguides:f,organizationId:b,organizationTransitionFinished:y,linkingProjectToStyleguide:v}=this.state;return a.partial?this.renderStyleguidePreview():i.default.h(d.a,{barrelType:s,barrel:a,linkedStyleguides:f,assetDensityScalePrefs:c,assetNamingConvention:u,showOptimizedSVG:h,bitmapInfoHidden:m,densityWarningHidden:g,barrelUser:o,currentOrganizationProjects:r,currentOrganizationStyleguides:l,organizationId:b,organizationTransitionFinished:y,descriptionFormatter:e,showSlackReconnectionAuntie:p,loading:t,loadingSelectParent:n,linkingProjectToStyleguide:v,onExportClick:this.handleExportClick})}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e===a.a.STYLEGUIDE||"styleguide"===t?this.renderStyleguide():"dashboard"===t?this.renderDashboard():null}renderSupportButton(){const{barrelType:e}=this.state,t=e===a.a.PROJECT?"project-styleguide":"styleguide";return i.default.h(h.a,{page:t})}render(){const{extensionDialogOpen:e}=this.state;return i.default.h("div",{key:"barrel",class:"barrelContainer"},this.renderHeader(),this.renderContent(),e&&i.default.h(l.a,null),this.renderSupportButton())}}t.a=Object(v.a)(C,{withProps:!0,pure:!1})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(20),o=n(18),r=n(568),l=n(574),c=n(716),d=n(367),u=n(719),h=n(368),p=n(270),m=n(722);n.n(m);const g=!!s.a&&!!s.a.features&&!!s.a.features.dashboardShortcutIsAltA;function f({selectedTab:e,onChange:t}){const n=!s.a||g?"A":"D",o=Object(a.h)()===a.b.MAC?"":"Alt+";return i.default.h(c.a,{selectedTab:e,onChange:t},i.default.h(c.a.Tab,{label:"Dashboard",shortcut:`${o}${n}`,value:"dashboard"}),i.default.h(c.a.Tab,{label:"Styleguide",shortcut:`${o}S`,value:"styleguide"}))}t.a=function(e){const{loadingBarrel:t,loadingSnapshot:n,barrelType:s,selectedView:a,inBarrelContainer:c=!0,title:m,backButtonLabel:g,backButtonLink:b,hasPrevious:y,hasNext:v,isPreview:S=!1,onOpenPreviousScreen:C,onOpenNextScreen:E,onChangeSelectedView:k}=e;let O;!t&&s===o.a.STYLEGUIDE||S?O=i.default.h("span",{title:m},m):t||"screen"!==a?t||s!==o.a.PROJECT||(O=i.default.h(f,{selectedTab:a,onChange:k})):O=i.default.h(u.a,{loading:n,title:m,hasPrevious:y,hasNext:v,onPreviousClick:C,onNextClick:E});const D=[i.default.h(d.a,{key:"notifications"}),i.default.h(h.a,{key:"userMenu"})];return(c&&"screen"!==a||!c&&"screen"===a)&&D.unshift(i.default.h(p.a,{key:"versionImports"})),D.unshift(i.default.h(r.a,{key:"whatsNew"})),i.default.h(l.a,{loading:t||n,backButtonLabel:g,backButtonLink:b,headerCenter:O,headerRight:D})}},function(e,t,n){"use strict";var i=n(717);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(7),a=n(2),o=n(718);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.inputName=Object(s.c)(),this.handleTabChange=this.handleTabChange.bind(this)}handleTabChange(e){const{onChange:t}=this.props;t(e)}render(){const{children:e,selectedTab:t}=this.props;return i.default.h("div",{class:"headerTabView"},e.map(e=>i.default.cloneElement(e,{name:this.inputName,shortcut:e.attributes.shortcut,selected:e.attributes.value===t,onChange:this.handleTabChange,key:e.attributes.value})))}}r.Tab=class extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{value:t,onChange:n}=this.props;n(t)}render(){const{label:e,shortcut:t,name:n,value:s,selected:o}=this.props,r=Object(a.a)("tab","noSelect",{selected:o});return i.default.h("label",{class:r},i.default.h("span",{class:"label"},e),i.default.h("span",{class:"shortcut"},t),i.default.h("input",{type:"radio",name:n,value:s,checked:o,onChange:this.handleChange}))}},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(720);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(721),a=(n.n(s),n(4)),o=n(2);const r={LEFT:i.default.h("svg",{width:"9",height:"16"},i.default.h("path",{fill:"#554d56",d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"})),RIGHT:i.default.h("svg",{width:"9",height:"16"},i.default.h("path",{fill:"#554d56",d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))};t.a=class extends i.default.Component{constructor(e){super(e),this.restoreTitleWidth=this.restoreTitleWidth.bind(this),this.handlePreviousClick=this.handlePreviousClick.bind(this),this.handleNextClick=this.handleNextClick.bind(this),this.state={titleWidth:null}}fixTitleWidth(){this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}restoreTitleWidth(){const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}handlePreviousClick(){this.fixTitleWidth(),this.props.onPreviousClick()}handleNextClick(){this.fixTitleWidth(),this.props.onNextClick()}render(){const{loading:e,title:t,hasPrevious:n,hasNext:s}=this.props,{titleWidth:l}=this.state,c=Object(o.a)("screenNavigator",{loading:e}),d=null===l?{}:{width:l};return i.default.h("div",{class:c,ref:Object(a.a)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.default.h("button",{type:"button",disabled:!n,title:" Previous screen",onClick:this.handlePreviousClick},r.LEFT),i.default.h("div",{class:"screenTitle"},i.default.h("h2",{class:"ellipsis",ref:Object(a.a)(this,"title"),style:d,title:t},t),i.default.h("div",{class:"titleExtra"},"Loading layers")),i.default.h("button",{type:"button",disabled:!s,title:"Next screen ",onClick:this.handleNextClick},r.RIGHT))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(724);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(681),o=n(1),r=n(725),l=n(595),c=n(65),d=n(183),u=n(39),h=n(18),p=n(871);n.n(p);const m=!!s.a&&!!s.a.features&&!!s.a.features.integrations&&s.a.features.integrations.slack;t.a=Object(u.a)(class extends i.default.Component{constructor(e){super(e),this.handleFilter=this.handleFilter.bind(this),this.handleTagClick=this.handleTagClick.bind(this),this.handleResetTagsClick=this.handleResetTagsClick.bind(this)}static calculateState(){const e=d.b.getState();return Object.assign({},e)}static getStores(){return[d.b]}handleFilter(e){const{barrel:{id:t}}=this.props;d.a.changeFilterValue(e),history.replaceState({},`Dashboard - ${name} - Zeplin`,Object(o.P)("project-dashboard",{url:{pid:t},query:{q:e}}))}handleTagClick(e,t){const{tagFilter:n}=this.state,{barrel:{id:i,name:s}}=this.props,a=n.tags.includes(e);let r,l;e?(r=[e],l=!1,a&&(r=n.tags.filter(t=>t!==e),l=!1),t&&!a&&(r=n.tags.concat(e),l=!1)):(r=[],l=!n.untagged),d.a.changeTagFilter({tags:r,untagged:l});const c=l?{untagged:"true"}:{tag:r};history.replaceState({},`Dashboard - ${s} - Zeplin`,Object(o.P)("project-dashboard",{url:{pid:i},query:c}))}handleResetTagsClick(){const{barrel:{id:e,name:t}}=this.props;d.a.changeTagFilter({tags:[],untagged:!1}),history.replaceState({},`Dashboard - ${t} - Zeplin`,Object(o.P)("project-dashboard",{url:{pid:e}}))}componentDidMount(){this.props.mountListener.handleMount()}componentWillUnmount(){this.props.mountListener.handleUnmount()}getChildContext(){const{loading:e,barrel:t}=this.props;if(e)return{};const{id:n,type:i}=t;return{barrelId:n,projectId:n,projectType:i}}render(){const{projectOverviewRef:e,fixedThumbnailSize:t,formatZplTextArea:n,sidebarWidth:u,loading:p,barrel:g,barrelUser:f,organizationId:b,showSlackReconnectionAuntie:y,extensionsLoaded:v,extensionTitles:S}=this.props,{sortType:C,filterValue:E,tagFilter:k,collapsedSections:O,highlightedScreens:D,jumpToPopupOpen:w}=this.state;if(p)return i.default.h("div",{class:"dashboardContainer"},i.default.h(r.a.Loading,null),i.default.h(l.a.Loading,null));const j=Object(a.a)(g,E,C,k);let T;g.integration&&g.integration.slacks&&g.integration.slacks.length&&(T=g.integration.slacks.slice().reverse());const _=Object(o.A)(g);return i.default.h("div",{class:"dashboardContainer"},i.default.h(r.a,{componentRef:e,project:g,containerSelector:".projectOverview",userRole:f.role,fixedThumbnailSize:t,collapsedSections:O,filterSortedSections:j,filterValue:E,sortType:C,highlightedScreens:D,tagFilter:k,jumpToPopupOpen:w,onSort:d.a.changeSortType,onFilter:this.handleFilter,onTagClick:this.handleTagClick,onResetTagsClick:this.handleResetTagsClick,onExpandSection:d.a.expandSection,onCollapseSection:d.a.collapseSection}),i.default.h(l.a,{barrelType:h.a.PROJECT,barrelId:g.id,name:g.name,public:g.public,platform:g.type,densityScale:g.densityScale,description:g.description,descriptionFormatter:n,members:g.users.slice(),width:u,hideAddToSlack:s.a&&!m,showSlackReconnectionAuntie:y,barrelUser:f,extensionsLoaded:v,extensionTitles:S,slackChannels:T,loading:p,isOrganizationProject:_,organizationId:b,onRelease:c.b.setProjectSidebarWidth}))}},{withProps:!0,pure:!1})},function(e,t,n){"use strict";var i=n(726);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(727),a=n(10),o=n(580),r=n(1),l=n(20),c=n(4),d=n(728),u=n(127),h=n(766),p=n(276),m=n(771),g=n(682),f=n(782),b=n(785),y=n(811),v=n(65),S=n(814);n.n(S);const C=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];function E(e){const{canManageScreens:t}=e;return i.default.h("div",{class:"projectOverviewTagsEmpty"},i.default.h("span",null,"Tags:"),t?i.default.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.default.h("span",null,"Organization ",Object(r.y)("rook"),"s or higher can organize screens using tags."))}const k=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.state={showCubuk:!1,dragging:!1,cubukLeft:0,cubukTop:0,cubukHeight:0},this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleScreenThumbnailDrop=this.handleScreenThumbnailDrop.bind(this),this.handleScreenThumbnailDropToSection=this.handleScreenThumbnailDropToSection.bind(this)}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}highlightSection(e){this.componentRefs.dashboardSections.highlightSection(e)}highlightScreenName(e){this.componentRefs.dashboardSections.highlightScreenName(e)}scrollToScreen(e){this.componentRefs.dashboardSections.scrollToScreen(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return"default"!==this.props.sortType}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length||e.untagged}handleStartDrag(){this.setState({dragging:!0})}handleEndDrag(){this.setState({dragging:!1})}handleScreenThumbnailDrop({mirrorPosition:e,sourceIndex:t,sourceSectionIndex:n,targetIndex:i,targetSectionIndex:s}){const{sections:a}=this.props.project,o=a[n].screens[t],r=a[s].screens[i],l=document.querySelector(`.screenThumbnail[data-id="${r}"]`).getBoundingClientRect(),c=e.left>l.left+l.width/2;if(n===s&&t===i)return;let d=i;n===s?(t>i&&c&&(d=i+1),t<i&&!c&&(d=i-1)):c&&(d=i+1),v.b.updateScreenOrder({id:o,sourceIndex:t,sourceSectionIndex:n,targetIndex:d,targetSectionIndex:s})}handleScreenThumbnailDropToSection(e,t,n){const{sections:i}=this.props.project,s=i[t].screens[e],a=i[n].screens,o=a&&a.length>0?a.length:0;v.b.updateScreenOrder({id:s,sourceIndex:e,sourceSectionIndex:t,targetIndex:o,targetSectionIndex:n})}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive()}}componentDidUpdate(e,t){this.props.project.id!==e.project.id&&o.a.clear(),this.state.dragging&&!t.dragging&&document.body.classList.add("dragging"),!this.state.dragging&&t.dragging&&document.body.classList.remove("dragging")}componentWillUnmount(){document.body.classList.remove("dragging")}renderTags(){const{canManageScreens:e}=this.context,{tagFilter:t,project:n,filterValue:s}=this.props,a=!!s;return n.tags.length?i.default.h("div",{class:"projectOverviewTags"},n.tags.map(s=>i.default.h(y.a,{key:s,tag:s,disabled:a,contextMenuDisabled:!e,selected:t.tags.includes(s),canCreateSectionFromTag:function(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}(n,s),onClick:this.props.onTagClick,onOpenContextMenu:v.b.generateTagShortLink,onCopyWebLink:v.b.copyTagWebLink,onCopyAppURI:v.b.copyTagAppURI,onDownloadScreenImages:v.b.downloadScreenImagesFromTag,onConvertToSection:v.b.convertTagToSection,onDelete:v.b.deleteTag})),i.default.h(y.a,{untagged:!0,disabled:a,selected:t.untagged,onClick:this.props.onTagClick})):i.default.h(E,{canManageScreens:e})}render(){const{canManageScreens:e}=this.context,{project:t,userRole:n,containerSelector:s,fixedThumbnailSize:o,filterSortedSections:r,filterValue:f,sortType:y,tagFilter:v,collapsedSections:S,highlightedScreens:E,jumpToPopupOpen:k,onFilter:O,onSort:D,onExpandSection:w,onCollapseSection:j,onResetTagsClick:T}=this.props,{dragging:_}=this.state;if(!t.screens||!t.screens.length)return i.default.h(b.a,{platform:Object(l.g)()?"electron":"web",supportsFigma:!!a.a&&!!a.a.features&&!!a.a.features.figma,supportsXd:!!a.a&&!!a.a.features&&!!a.a.features.xd});const x=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive(),R=!e||x;return i.default.h("div",{class:"projectOverview"},i.default.h(u.c,{onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:R,baseRef:Object(c.a)(this,"base")},i.default.h(p.a,{inputPlaceholder:"Search for a screen",sortOptions:C,filterValue:f,selectedSortType:y,onSort:D,onFilter:O,disabled:_}),this.renderTags(),r.length?i.default.h(d.a,{ref:Object(c.a)(this,"dashboardSections","componentRefs"),projectOverviewDragging:_,collapsedSections:S,highlightedScreens:E,filterValue:f,fixedThumbnailSize:o,onExpandSection:w,onCollapseSection:j,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onScreenThumbnailDropToSection:this.handleScreenThumbnailDropToSection,sections:r,userRole:n,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:s}):i.default.h(h.a,{tags:v.tags,untagged:v.untagged,onResetTagsClick:T})),i.default.h(m.a,null),k&&i.default.h(g.a,{screenList:t.screens}))}});k.Loading=f.a,t.a=k},function(e,t,n){"use strict";var i=n(0),s=n(1);t.a=function(Component){return class extends i.default.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:s.H.canUpdateProject(t),canManageScreens:s.H.canManageScreens(t),canMoveScreens:s.H.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.default.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";var i=n(729);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(730),a=n(25),o=n(4);t.a=class extends a.a{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}highlightSection(e){const t=this.componentRefs[e];t&&t.highlight()}highlightScreenName(e){const{sections:t}=this.props,n=t.find(t=>t.screens.some(t=>t._id===e));n&&this.componentRefs[n._id]&&this.componentRefs[n._id].highlightScreenName(e)}scrollToScreen(e){const{sections:t}=this.props,n=t.find(t=>t.screens.some(t=>t._id===e));n&&this.componentRefs[n._id]&&this.componentRefs[n._id].scrollToScreen(e)}render(){const{sections:e,projectThumbnail:t,fixedThumbnailSize:n,projectId:a,containerSelector:r,filterValue:l,collapsedSections:c,highlightedScreens:d,onExpandSection:u,onCollapseSection:h,onScreenThumbnailDrop:p,onScreenThumbnailDropToSection:m}=this.props;return i.default.h("div",{class:"projectOverviewSections"},e.map((e,g)=>i.default.h(s.a,{index:g,ref:Object(o.a)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&c[e._id],fixedThumbnailSize:n,highlightedScreens:d,onExpand:u,onCollapse:h,onScreenThumbnailDrop:p,onScreenThumbnailDropToSection:m,filterValue:l,actionsDisabled:e.actionsDisabled,screens:e.screens,description:e.description,containerSelector:r,projectThumbnail:t,projectId:a,defaultSection:"default"===e.type})))}}},function(e,t,n){"use strict";var i=n(731);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(4),o=n(581),r=n(584),l=n(744),c=n(7),d=n(352),u=n(65),h=n(765);n.n(h);const p=320;class m extends i.default.Component{constructor(e){super(e),this.state={addingDescription:!1},this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleRenameSectionClick=this.handleRenameSectionClick.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleEditDescriptionClick=this.handleEditDescriptionClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleDownloadScreenImagesClick=this.handleDownloadScreenImagesClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleDeleteClick=this.handleDeleteClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.handleDrop=this.handleDrop.bind(this),this.renderOptionsMenu=this.renderOptionsMenu.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}highlight(){this.componentRefs.section.highlight()}highlightScreenName(e){const t=this.componentRefs[e];t&&t.highlightName()}scrollToScreen(e){const t=this.componentRefs[e];t&&t.scroll()}handleEditDescriptionClick(e){e.stopPropagation(),this.highlightDescription()}handleAddDescriptionClick(e){e.stopPropagation(),this.setState({addingDescription:!0})}handleRenameSectionClick(e){e.stopPropagation(),this.highlightName()}handleCopyWebLinkClick(e){e.stopPropagation(),u.b.copySectionWebLink(this.props.id)}handleCopyAppURIClick(e){e.stopPropagation(),u.b.copySectionAppURI(this.props.id)}handleDownloadScreenImagesClick(e){e.stopPropagation(),u.b.downloadSectionScreenImages(this.props.id)}handleMoveClick(e){e.stopPropagation();const t=this.nodeRefs.contextMenu.getBoundingClientRect(),n={top:t.top+t.height/2,left:t.right-p};u.b.openSectionMoveDialog(this.props.id,n)}handleDeleteClick(e){e.stopPropagation(),u.b.deleteSection(this.props.id,this.props.index)}handleNameBlur({discard:e,value:t}){const{id:n,name:i}=this.props;e||i===t||("newSection"!==n?u.b.renameSection(n,t.trim()):this.highlightName())}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;e||i===t||u.b.changeSectionDescription(n,t)}handleDrop(e,t,n){t!==n&&u.b.updateSectionOrder(e,t,n)}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderOptionsMenu(){const{description:e}=this.props,{canManageScreens:t,canMoveScreens:n}=this.context,a=e?i.default.h(r.a.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.default.h(r.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.default.h(r.a,{onMouseDown:s.N},t&&[a,i.default.h(r.a.Item,{onClick:this.handleRenameSectionClick},"Rename section"),i.default.h(r.a.ItemDivider,null)],i.default.h(r.a.Item,{onClick:this.handleCopyWebLinkClick},"Copy web link"),i.default.h(r.a.Item,{onClick:this.handleCopyAppURIClick},"Copy App URI"),!!this.props.screens.length&&[i.default.h(r.a.ItemDivider,null),i.default.h(r.a.Item,{onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(t||n)&&i.default.h(r.a.ItemDivider,null),n&&i.default.h(r.a.Item,{onClick:this.handleMoveClick},"Move section to project"),t&&i.default.h(r.a.Item,{warning:!0,onClick:this.handleDeleteClick},"Delete section"))}render(){const{id:e,name:t,index:n,description:r,defaultSection:u,projectLastUpdated:h,projectThumbnail:p,fixedThumbnailSize:m,projectId:g,screens:f,containerSelector:b,actionsDisabled:y,filterValue:v,collapsed:S,highlightedScreens:C,forceExpand:E,onExpand:k,onCollapse:O,onScreenThumbnailDrop:D,onScreenThumbnailDropToSection:w}=this.props;if(u&&!f.length)return null;const{addingDescription:j}=this.state,{canManageScreens:T}=this.context,_=E||C.some(e=>f.find(({_id:t})=>t===e)),x=`${Object(c.e)(f.length,"screen")} collapsed`,R=this.renderOptionsMenu(),I=j?d.a:r;return i.default.h(o.a,{type:d.b,contextMenuRef:Object(a.a)(this,"contextMenu"),componentRef:Object(a.a)(this,"section","componentRefs"),index:n,onExpand:k,onCollapse:O,collapsed:S,emptyText:"No screens",empty:!f.length,forceExpand:_,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:I,defaultSection:u,countInfoText:x,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,actionsDisabled:y,readOnly:!T,optionsMenu:R,onScreenThumbnailDrop:w,onDrop:this.handleDrop},i.default.h("div",{class:"dashboardScreenGrid"},f.map((e,t)=>{const{snapshot:o}=e.versions[0],r=e.updated||h,c=Object(s.P)("project-screen",{url:{pid:g,sid:e._id}}),d=p===o.url,y=e.tags&&0!==e.tags.length,S=C.includes(e._id),E=f[t-1],k=f[t+1];return i.default.h(l.a,{id:e._id,leftScreenId:E&&E._id,rightScreenId:k&&k._id,ref:Object(a.a)(this,e._id,"componentRefs"),key:m?`fixed-${e._id}`:e._id,index:t,sectionIndex:n,highlight:S,hideLeftSectionDivider:0===t&&!u,hideRightSectionDivider:t===f.length-1,onDrop:D,filterValue:v,class:"dashboardScreen",hasTag:y,link:c,updated:r,isProjectThumbnail:d,fixedSize:m,containerSelector:b,name:e.name,snapshotWidth:o.width,snapshotHeight:o.height,screenImageUrl:o.url})})))}}m.defaultProps={highlightedScreens:[]},t.a=m},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n(0),s=n(4),a=n(351),o=n(127),r=n(2),l=n(1),c=n(739),d=(n.n(c),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const u=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554D56",d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"})),h=i.default.h("svg",{width:"24",height:"24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"6",cy:"12",r:"2"}),i.default.h("circle",{cx:"12",cy:"12",r:"2"}),i.default.h("circle",{cx:"18",cy:"12",r:"2"}))),p=i.default.h("svg",{class:"moveHandleSVG",width:"4",height:"20"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"2",cy:"2",r:"2"}),i.default.h("circle",{cx:"2",cy:"10",r:"2"}),i.default.h("circle",{cx:"2",cy:"18",r:"2"}))),m=12,g=-36,f=60;class b extends i.default.Component{constructor(e){super(e),this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContextMenuRef=this.handleContextMenuRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(s.a)(this,"header")(e),this.props.baseRef(e)}handleContextMenuRef(e){Object(s.a)(this,"contextMenuContainer")(e),this.props.contextMenuRef&&this.props.contextMenuRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenuContainer:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=f){const i=e.getBoundingClientRect(),s=window.innerHeight;if(i.bottom+m>s)e.style.top=`${s+g-i.bottom-m}px`;else if(i.top-n-m<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=`${m+n-i}px`}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.default.cloneElement(e,{onClose:t});return i.default.h("div",{class:"sectionContextMenuContainer",ref:this.handleContextMenuRef},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:o,readOnly:r,actionsDisabled:l,onNameBlur:c,collapsed:d,empty:u,countInfoText:h,emptyText:m}=this.props;return i.default.h("div",{class:"sectionInfo"},t&&(e||n)&&p,i.default.h(a.a,{ref:Object(s.a)(this,"nameInput","componentRefs"),value:o,required:!0,readOnly:r||l,onBlur:c}),d&&i.default.h("span",{class:"countInfo"},h),u&&i.default.h("span",{class:"countInfo"},m))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:s,onExpandCollapseSection:a,onShowOptionsMenu:o}=this.props;return i.default.h("div",{class:Object(r.a)("sectionActions",{disabled:t})},!e&&i.default.h("button",{class:"collapseButton",onMouseDown:l.N,onClick:a},u),i.default.h("button",{class:Object(r.a)("sectionOptionsButton",{active:s}),ref:n,onMouseDown:l.N,onClick:o},h))}renderDescriptionInfo(){const{description:e,readOnly:t,actionsDisabled:n,onDescriptionBlur:o}=this.props;return i.default.h("div",{class:"descriptionInfo"},i.default.h(a.a,{value:e,ref:Object(s.a)(this,"descriptionInput","componentRefs"),required:!1,readOnly:t||n,showRemaining:!0,onBlur:o}))}render(){const{width:e,description:t,collapsed:n,class:s,onHeaderClick:a,hasDragHover:o,empty:l,optionsMenu:c}=this.props;return i.default.h("div",{class:Object(r.a)("sectionHead",s,{collapsed:n,empty:l,dragHover:o}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:a},i.default.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),c&&this.renderMenu()),!n&&t&&this.renderDescriptionInfo())}}const y=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.default.h(b,t)},v=Object(o.a)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["sourceRect","class"]);return i.default.h(b,d({},s,{width:t.width,class:Object(r.a)("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty,optionsMenu:null})})(y),S=e=>i.default.h(v,Object.assign({draggable:!0},e));t.b=y},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1),r=n(4),l=n(8),c=n(734);n.n(c);const d=100;function u(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function h(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.default.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(o.g)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(o.g)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.g)(this.nodeRefs.input)}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let s=this.state.discard;const a={focusWithin:!1};e&&!i&&(a.value=t,s=!0),this.setState(a),this.props.onBlur({discard:s,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=d,showRemaining:s,fontStyle:a,tabIndex:o=0}=this.props,{focusWithin:l,value:c,selectionPoints:p,shouldCheckRightSelection:m}=this.state;let g=Object.assign({},a);if(l&&!t){const{selectionStart:e,selectionEnd:t}=p,n=function(e,t){return e&&t?h(u(0,2.5,"butt")):e?h(u(0,1.5,"butt"),u(1.5,2.5,"round")):t?h(u(.5,1.5,"round"),u(1.5,2.5,"butt")):void 0}(e!==t&&0===e,m&&e!==t&&t===c.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.default.h("div",{class:"expandableInputWrapper"},i.default.h("form",{ref:Object(r.a)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.default.h("span",{ref:Object(r.a)(this,"widthlessMirror"),class:"mirror widthless",style:a},c||""),i.default.h("span",{class:"mirror",style:a},c||""),i.default.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:c,readonly:t,tabIndex:o,ref:Object(r.a)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),s&&l&&i.default.h("span",{class:"remainingCounter"},n-c.length))}}p.propTypes={value:a.a.string,required:a.a.bool,onBlur:a.a.func,readOnly:a.a.bool,maxLength:a.a.number,showRemaining:a.a.bool,fontStyle:a.a.object,inputRef:a.a.func,tabIndex:a.a.number},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(1);const o={allowX:!0,allowY:!0,movingThreshold:12};t.a=function(e={}){const t=Object.assign({},o,e);return Component=>(class extends i.default.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(s.a)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=Math.abs(e.clientX-this.state.originX),i=Math.abs(e.clientY-this.state.originY);Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){const n=this.nodeRefs.base.getBoundingClientRect(),i={left:e.clientX-n.left,top:e.clientY-n.top};this.dragStartTimeout=!1;const s=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:n,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:s,dragOffset:i,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.default.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:a.J},i.default.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}})}},function(e,t,n){"use strict";var i=n(0),s=n(4);function a(e,t){return e.left>t.left&&e.left<t.right&&e.top>t.top&&e.top<t.bottom}t.a=function(e={}){return Component=>(class extends i.default.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const s=()=>{i=!1};return!!a(t,this.nodeRefs.base.getBoundingClientRect())&&(e.onDrop&&e.onDrop(this.props,n,s),i)}checkHover(t,n){if(this.acceptsItemType(n.draggingItemType,"drag"))return a(t,this.nodeRefs.base.getBoundingClientRect())?(e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0))):void this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.default.h("div",{style:e.style,ref:Object(s.a)(this,"base")},i.default.h(Component,this.props))}})}},function(e,t,n){"use strict";var i=n(0),s=n(61),a=n(25),o=n(2),r=n(4),l=n(3),c=n.n(l),d=n(738);n.n(d);class u extends a.a{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:s,unregisterDropTarget:a}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:s,unregisterDropTarget:a}}render(){const{class:e,baseRef:t,items:n,onScroll:s}=this.props;return i.default.h("div",{class:e,ref:t,onScroll:s},n)}}function h(e){return{top:e.top+window.scrollY,left:e.left}}const p=30,m=.1;class g extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){if(!this.nodeRefs.mirror)return;cancelAnimationFrame(this.scrollRootAF);const{scrollTop:e,scrollHeight:t,offsetHeight:n}=this.nodeRefs.base,i=this.nodeRefs.mirror.getBoundingClientRect(),s=this.nodeRefs.base.getBoundingClientRect(),a=i.top-i.height*m-s.top;if(a<0&&this.nodeRefs.base.scrollTop>0)return this.nodeRefs.base.scrollTop+=a,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const{mirrorPosition:o}=this.state,r=o.top-window.scrollY,l=i.top+i.height*m-s.bottom,c=r+p-s.bottom,d=l>0?l:c;d>0&&e+n+i.height*m<t&&(this.nodeRefs.base.scrollTop+=d,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:s,dragOffset:a,position:o}){this.props.disabled||this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:s,dragOffset:a,mirrorPosition:h(o)},()=>{this.props.onStartDrag&&this.props.onStartDrag()})}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:h(e)})}handleEndDrag(){this.props.disabled||this.setState({dragging:!1},()=>{this.props.onEndDrag&&this.props.onEndDrag()})}handleBaseRef(e){Object(r.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&(this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}})),this.nodeRefs.base.scrollTop+=e.deltaY)}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel)}render(){const{class:e,itemsClass:t,onScroll:n}=this.props,{dragging:a,sourceRect:l,mirrorComponent:c,mirrorZIndex:d,dragData:h,mirrorPosition:p,dragOffset:m}=this.state;return i.default.h("div",{class:Object(o.a)("dragDropContainer",e)},i.default.h(u,{class:Object(o.a)("dragDropItems",t),onScroll:n,dragDisabled:this.props.disabled,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:this.props.children}),i.default.h(s.a,null,a&&i.default.h("div",{ref:Object(r.a)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${p.left-m.left}px, ${p.top-m.top}px)`,zIndex:d}},i.default.h(c,Object.assign({},h,{sourceRect:l})))))}}g.propTypes={onStartDrag:c.a.func,onEndDrag:c.a.func,disabled:c.a.bool,class:c.a.string,itemsClass:c.a.string,children:c.a.arrayOf(c.a.element)},t.a=g},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(1),o=n(127),r=n(583),l=n(582),c=n(352);const d={SECTION_HEADER:"SectionHeader",SCREEN_THUMBNAIL:"ScreenThumbnail",STYLEGUIDE_COMPONENT:"StyleguideComponent"},u=80,h=Object(l.a)(r.a),p=Object(o.b)({acceptsItemType:{drag:[d.SECTION_HEADER,d.SCREEN_THUMBNAIL],drop:[d.SECTION_HEADER,d.SCREEN_THUMBNAIL]},onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t,n)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sectionIndex:t.dragData.sectionIndex,continuePropagation:n},t.draggingItemType)})(h),m=Object(o.b)({acceptsItemType:{drag:[d.SECTION_HEADER,d.STYLEGUIDE_COMPONENT],drop:[d.SECTION_HEADER,d.STYLEGUIDE_COMPONENT]},onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t,n)=>e.onDrop({sourceStyleguideId:t.dragData.styleguideId,sourceIndex:t.dragData.index,sourceId:t.dragData.id,sourceIdPath:t.dragData.idPath,continuePropagation:n},t.draggingItemType)})(h);t.a=class extends i.default.Component{constructor(e){super(e),this.state={targetPosition:"",sectionHeaderHover:!1},this.handleDragHover=Object(a.g)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this)}calculateMoveIndex(e){const{defaultSection:t}=this.props,{targetPosition:n}=this.state,i="bottom"===n;if(t&&!i)return;let s=this.props.index;return e>this.props.index&&i&&(s=this.props.index+1),e<this.props.index&&!i&&(s=this.props.index-1),s}setTargetPosition(e){const{defaultSection:t}=this.props,{targetPosition:n}=this.state,{base:i}=this.nodeRefs,s=function(e,t,n){const i=n?u:0;return t.top-24>=e.top+(e.height-i)/2}(i.getBoundingClientRect(),e,n);if(t&&!s)return void this.setState({targetPosition:""});const a=s?"bottom":"top";n!==a&&this.setState({targetPosition:a})}unsetTargetPosition(){this.state.targetPosition&&this.setState({targetPosition:""})}setSectionHeaderHover(){const{collapsed:e,empty:t}=this.props,{sectionHeaderHover:n}=this.state;!e&&!t||n||this.setState({sectionHeaderHover:!0})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}dropSectionHeaderToScreenThumbnailSection(e){if(""===this.state.targetPosition)return;const{sourceId:t,sourceIndex:n}=e,i=this.calculateMoveIndex(n);this.props.onDrop(t,n,i)}dropScreenThumbnailToScreenThumbnailSection(e){const{sourceIndex:t,sectionIndex:n,continuePropagation:i}=e,{collapsed:s,empty:a,index:o,onScreenThumbnailDrop:r}=this.props;s||a?r(t,n,o):i()}dropSectionHeaderToComponentSection(e){if(""===this.state.targetPosition)return;const{sourceId:t,sourceIndex:n,sourceStyleguideId:i}=e,{styleguideId:s,onSectionDrop:a}=this.props;a({sourceId:t,sourceIndex:n,sourceStyleguideId:i,targetStyleguideId:s,to:this.calculateMoveIndex(n)})}dropComponentToComponentSection(e){const{sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i,continuePropagation:s}=e,{collapsed:a,empty:o,id:r,styleguideId:l,componentCount:c,onComponentToSectionDrop:d}=this.props;a||o?d({sourceIdPath:n,sourceIndex:t,targetSectionId:r,sourceStyleguideId:i,targetStyleguideId:l,to:c}):s()}handleDrop(e,t){const{type:n}=this.props;return n===c.b?t===d.SECTION_HEADER?this.dropSectionHeaderToScreenThumbnailSection(e):this.dropScreenThumbnailToScreenThumbnailSection(e):n===c.c?t===d.SECTION_HEADER?this.dropSectionHeaderToComponentSection(e):this.dropComponentToComponentSection(e):void 0}handleDragHover(e,t){t!==d.SECTION_HEADER?this.setSectionHeaderHover():this.setTargetPosition(e)}handleDragHoverOut(e){e!==d.SECTION_HEADER?this.unsetSectionHeaderHover():this.unsetTargetPosition()}render(){const{dragDisabled:e}=this.context,{type:t}=this.props,{targetPosition:n,sectionHeaderHover:a}=this.state,o=Object.assign({},this.props,{targetPosition:n,sectionHeaderHover:a,baseRef:Object(s.a)(this,"base"),draggable:!e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop});switch(t){case c.b:return i.default.h(p,o);case c.c:return i.default.h(m,o);default:return i.default.h("div",null)}}}},function(e,t,n){"use strict";var i=n(0),s=n(52),a=n(743);n.n(a);const o=e=>i.default.h(s.a,Object.assign({},e,{class:"sectionMenu"}));o.Item=s.a.Item,o.ItemDivider=s.a.ItemDivider,t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(745);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(65),a=n(746),o=n(25),r=n(52),l=n(580),c=n(587),d=n(4),u=n(8),h=n(1),p=n(183);const m=30,g=80,f=240,b=26;function y(e,t){let n=e.height;if(t){const i=document.querySelector(`.screenThumbnail[data-id="${t}"]`).getBoundingClientRect();e.top===i.top&&(n=Math.min(e.height,i.height))}const i=Math.max(g,Math.min(f,Math.round(n-2*m)));return{height:i,top:Math.max(0,Math.round((n-b-i)/2))}}const v=150,S=200,C=172,E=300;t.a=class extends o.a{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.screenThumbnailObserver=Object(c.a)(e.containerSelector),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleOpenMoveScreenDialogClick=this.handleOpenMoveScreenDialogClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(h.g)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this)}scroll(){const{base:e}=this.nodeRefs,t=e.getBoundingClientRect().top,n=Object(u.d)(this.nodeRefs.base);setTimeout(()=>{"scrollBy"in Element.prototype?n.scrollBy({top:t-v,behavior:"smooth"}):n.scrollTop+=t-v},S)}highlightName(){this.componentRefs.screenThumbnail.highlightName()}getContextMenuItems(){const{hasTag:e,isProjectThumbnail:t}=this.props,{canUpdateProject:n,canManageScreens:s,canMoveScreens:a}=this.context,o=e?i.default.h(r.a.Item,{onClick:this.handleManageTagsClick},"Manage tags"):i.default.h(r.a.Item,{onClick:this.handleManageTagsClick},"Add tag");return[s&&o,n&&!t&&i.default.h(r.a.Item,{onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.default.h(r.a.Item,{onClick:this.handleDownloadScreenImageClick},"Download screen image"),i.default.h(r.a.ItemDivider,null),i.default.h(r.a.Item,{onClick:this.handleCopyWebLinkClick},"Copy web link"),i.default.h(r.a.Item,{onClick:this.handleCopyAppURIClick},"Copy App URI"),i.default.h(r.a.ItemDivider,null),a&&i.default.h(r.a.Item,{onClick:this.handleOpenMoveScreenDialogClick},"Move screen to project"),s&&i.default.h(r.a.Item,{onClick:this.openDeleteScreenDialog,warning:!0},"Delete screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,tagFilterActive:t,sortActive:n}=this.context;n?s.b.showToast({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?s.b.showToast({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&s.b.showToast({text:"Reset search to reorder",source:"showCannotDragToast"})}handleScreenImageLoad(){l.a.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,E),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i}=this.props;t!==i&&s.b.renameScreen(n,t)}handleManageTagsClick(e){e.stopPropagation(),s.b.openManageTagsPopup(this.props.id)}handleSetAsThumbnailClick(){s.b.setScreenAsProjectThumbnail(this.props.id)}handleDownloadScreenImageClick(){s.b.downloadScreenImage(this.props.id)}handleCopyWebLinkClick(){s.b.copyScreenWebLink(this.props.id)}handleCopyAppURIClick(){s.b.copyScreenAppURI(this.props.id)}handleOpenMoveScreenDialogClick(e){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect(),n={top:t.top+t.height/2,left:t.left+C};s.b.openMoveScreenDialog(this.props.id,n)}handleDeleteDialogPositiveClick(){s.b.deleteScreen(this.props.id)}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:s,tagFilterActive:a}=this.context;if(n||i||s||a)return;const o=y(this.nodeRefs.base.getBoundingClientRect(),e);this.setState(Object(h.w)({sectionDividerPosition:t,sectionDividerHeight:o.height,sectionDividerTop:o.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;"right"===n&&t?s.b.splitSection(t):s.b.splitSection(e),this.handleHideSectionDivider()}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&p.a.unhighlightScreen(t)}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftScreenId;n&&(i=this.props.rightScreenId);const s=y(t,i);this.setState(Object(h.w)({moveCubukPosition:n?"right":"left",moveCubukHeight:s.height,moveCubukTop:s.top}))}handleDragHoverOut(){this.setState(Object(h.w)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection)}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,link:t,updated:n,name:s,class:o,fixedSize:r,snapshotWidth:c,snapshotHeight:u,containerSelector:h,filterValue:p,onDrop:m,index:g,sectionIndex:f,highlight:b,hideLeftSectionDivider:y,hideRightSectionDivider:v}=this.props,{sectionDividerPosition:S,sectionDividerTop:C,sectionDividerHeight:E,moveCubukPosition:k,moveCubukTop:O,moveCubukHeight:D,deleteDialogVisible:w}=this.state,j=l.a.has(this.props.screenImageUrl),{source:T,loading:_}=this.state,{canManageScreens:x}=this.context,R=this.getContextMenuItems();return i.default.h(a.a,{id:e,filterValue:p,index:g,sectionIndex:f,link:t,class:o,updated:n,name:s,highlight:b,baseRef:Object(d.a)(this,"base"),componentRef:Object(d.a)(this,"screenThumbnail","componentRefs"),readOnly:!x,fixedSize:r,hideLeftSectionDivider:!x||y,hideRightSectionDivider:!x||v,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:S,sectionDividerTop:C,sectionDividerHeight:E,moveCubukPosition:k,moveCubukHeight:D,moveCubukTop:O,snapshotWidth:c,snapshotHeight:u,source:T||j&&this.props.screenImageUrl,loading:_,contextMenuItems:R,containerSelector:h,deleteDialogVisible:w,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:m,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}},function(e,t,n){"use strict";var i=n(747);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(122),a=n(748),o=n(751),r=n(52),l=n(275),c=n(4),d=n(2),u=n(1),h=n(756),p=n(586),m=n(27),g=n(127),f=n(761);n.n(f);const b=240,y=200,v=520;t.a=Object(u.I)(Object(g.a)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.default.h(l.a,{source:e,width:b,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{index:t,sectionIndex:n,source:i,snapshotWidth:s,snapshotHeight:a,fixedSize:o}=e;return{index:t,sectionIndex:n,source:i,imgHeight:o?y:Math.min(Math.round(b/s*a),v)}}}),Object(g.b)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceIndex:t.dragData.index,sourceSectionIndex:t.dragData.sectionIndex,targetIndex:e.index,targetSectionIndex:e.sectionIndex}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition,index:e.index,sectionIndex:e.sectionIndex}),onHoverOut:e=>e.onHoverOut()}))((Component=>e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.default.h(Component,t)})(class extends i.default.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(c.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,name:t,onDeleteDialogPositiveClick:n,onDeleteDialogNegativeClick:s,onDeleteDialogClose:a}=this.props;if(e)return i.default.h(m.a,{title:`Delete "${t}"?`,message:"Deleted screens cannot be restored.",onPositiveButtonClick:n,onNegativeButtonClick:s,onClose:a,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderContextMenu(){const{contextMenuItems:e=[]}=this.props,{contextMenu:t}=this.state;return i.default.h(r.a.withAutoPosition,{class:"screenThumbnailContextMenu",onMouseDown:u.N,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleContextMenuClose},e)}render(){const{id:e,link:t,updated:n,name:r,readOnly:m,fixedSize:g,snapshotWidth:f,snapshotHeight:S,source:C,class:E,onNameBlur:k,onScreenImageLoad:O,loading:D,filterValue:w,dragging:j,highlight:T,hideLeftSectionDivider:_,hideRightSectionDivider:x,sectionDividerPosition:R,sectionDividerTop:I,sectionDividerHeight:P,onShowLeftSectionDivider:L,onShowRightSectionDivider:A,onHideSectionDivider:N,onSectionDividerClick:M,onScreenLinkMouseOver:U,onMouseDown:B,moveCubukPosition:z,moveCubukHeight:F,moveCubukTop:H}=this.props,{contextMenu:q}=this.state,V=g?y:Math.min(Math.round(b/f*S),v);return i.default.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.default.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:u.N,onMouseEnter:L,onMouseLeave:N,style:{height:V}},!_&&"left"===R&&i.default.h(h.a,{top:I,height:P,onClick:M}),"left"===z&&i.default.h(p.a,{top:H,height:F})),i.default.h("div",{class:Object(d.a)("screenThumbnail",{dragging:j},E),ref:this.handleBaseRef,onMouseDown:B,key:e,"data-id":e},q&&this.renderContextMenu(),i.default.h(a.a,{loading:D,dragging:j,highlight:T,href:t,onContextMenu:this.handleContextMenu,onMouseOver:U},i.default.h(l.a,{source:C,width:b,height:V,onLoad:O,class:"screenImage"})),i.default.h("div",{class:"screenInfo"},i.default.h(o.a,{class:"screenName",ref:Object(c.a)(this,"screenName","componentRefs"),matchValue:w,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:r,onBlur:k,readOnly:m,minLength:"1",maxLength:"100",required:!0}),i.default.h(s.a,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.default.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:u.N,onMouseEnter:A,onMouseLeave:N,style:{height:V}},!x&&"right"===R&&i.default.h(h.a,{top:I,height:P,onClick:M}),"right"===z&&i.default.h(p.a,{top:H,height:F})),this.renderDialogs())}}))},function(e,t,n){"use strict";var i=n(749);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(750);n.n(a);t.a=function({loading:e,dragging:t,highlight:n,href:a,onContextMenu:o,onMouseOver:r,children:l}){return i.default.h("a",{class:Object(s.a)("screenThumbnailLink",{loading:e,dragging:t,highlight:n}),onContextMenu:o,onMouseOver:r,href:a,"data-link-type":"inApp"},l)}},function(e,t){},function(e,t,n){"use strict";var i=n(752);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(128),a=n(8),o=n(2),r=n(4),l=n(755);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(a.g)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:l}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(r.a)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=l&&e&&!t&&!n;return i.default.h("div",{class:Object(o.a)("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.default.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(a.h)(e,l,!0)}}):i.default.h(s.a,c))}}c.defaultProps={value:""},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(2),o=n(3),r=n.n(o),l=n(754);n.n(l);class c extends s.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:s,class:o,ellipsized:r,inputRef:l,type:c}=this.props,d=Object.assign({},this.props);return delete d.class,delete d.inputRef,delete d.ellipsized,delete d.blurOnEnter,delete d.discardOnESC,(n||s)&&(d.onKeyDown=this.handleKeyDown),r&&(d.class="ellipsis"),i.default.h("div",{class:Object(a.a)("textInput",o,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},i.default.h("input",Object.assign(d,{type:c||"text",ref:l})))}}c.propTypes={suffix:r.a.string,prefix:r.a.string,inputRef:r.a.func,ellipsized:r.a.bool,blurOnEnter:r.a.bool,discardOnESC:r.a.bool},t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(757);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(758);n.n(s);const a=i.default.h("svg",{class:"noSelect",width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("g",{fill:"#419BF9","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"12",r:"2"}),i.default.h("circle",{cx:"7",cy:"2",r:"2"}),i.default.h("rect",{width:"14",height:"2",y:"6",rx:"1"}))),o=i.default.h("svg",{class:"pressed noSelect",width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("defs",null,i.default.h("circle",{id:"a",cx:"7",cy:"12",r:"2"}),i.default.h("circle",{id:"b",cx:"7",cy:"2",r:"2"}),i.default.h("rect",{id:"c",width:"14",height:"2",y:"6",rx:"1"})),i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("use",{fill:"#419BF9",href:"#a"}),i.default.h("use",{fill:"#554d56","fill-opacity":".5",href:"#a"}),i.default.h("use",{fill:"#419BF9",href:"#b"}),i.default.h("use",{fill:"#554d56","fill-opacity":".5",href:"#b"}),i.default.h("g",null,i.default.h("use",{fill:"#419BF9",href:"#c"}),i.default.h("use",{fill:"#554d56","fill-opacity":".5",href:"#c"}))));t.a=function(e){const{onClick:t,height:n,top:s,left:r}=e;return i.default.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:s,left:r}},i.default.h("div",null),a,o,i.default.h("div",null))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(760);n.n(s);t.a=function(e){const{height:t,top:n,left:s}=e;return i.default.h("div",{class:"moveCubuk",style:{height:t,top:n,left:s}})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(247),s=n(248);const a={changeSortType(e){i.a.dispatch({type:s.a.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){i.a.dispatch({type:s.a.CHANGE_FILTER_VALUE,filterValue:e})},changeTagFilter(e){i.a.dispatch({type:s.a.CHANGE_TAG_FILTER,tagFilter:e})},setCollapsedSections(e){i.a.dispatch({type:s.a.SET_COLLAPSED_SECTIONS,collapsedSections:e})},expandSection(e){i.a.dispatch({type:s.a.EXPAND_SECTION,seid:e})},collapseSection(e){i.a.dispatch({type:s.a.COLLAPSE_SECTION,seid:e})},highlightScreens(e){i.a.dispatch({type:s.a.HIGHLIGHT_SCREENS,sids:e})},unhighlightScreen(e){i.a.dispatch({type:s.a.UNHIGHLIGHT_SCREEN,sid:e})},openJumpToPopup(){i.a.dispatch({type:s.a.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){i.a.dispatch({type:s.a.CLOSE_JUMP_TO_POPUP})}};t.a=a},function(e,t,n){"use strict";var i=n(29),s=n.n(i),a=n(248),o=n(247),r=n(22),l=n(18);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{sortType:"default",filterValue:"",tagFilter:{tags:[],untagged:!1},collapsedSections:{},highlightedScreens:[],jumpToPopupOpen:!1}}changeSortType(e,t){return Object.assign({},e,{sortType:t})}changeFilterValue(e,t){return Object.assign({},e,{filterValue:t,tagFilter:{tags:[],untagged:!1}})}changeTagFilter(e,t){return Object.assign({},e,{tagFilter:t,filterValue:""})}expandSection(e,t){return Object.assign({},e,{collapsedSections:Object.assign({},e.collapsedSections,{[t]:!1})})}setCollapsedSections(e,t){return Object.assign({},e,{collapsedSections:t})}collapseSection(e,t){return Object.assign({},e,{collapsedSections:Object.assign({},e.collapsedSections,{[t]:!0})})}highlightScreens(e,t){return Object.assign({},e,{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return Object.assign({},e,{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}openJumpToPopup(e){return Object.assign({},e,{jumpToPopupOpen:!0})}closeJumpToPopup(e){return Object.assign({},e,{jumpToPopupOpen:!1})}load(e,t){const{barrel:{barrelType:n}}=t;if(n===l.a.STYLEGUIDE)return e;const{data:{project:i}}=t;if(i.partial)return e;const{dashboard:{collapsedSections:s={}}={}}=t;return this.setCollapsedSections(e,s)}reduce(e,t){switch(t.type){case a.a.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.a.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case a.a.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case a.a.SET_COLLAPSED_SECTIONS:return this.setCollapsedSections(e,t.collapsedSections);case a.a.EXPAND_SECTION:return this.expandSection(e,t.seid);case a.a.COLLAPSE_SECTION:return this.collapseSection(e,t.seid);case a.a.HIGHLIGHT_SCREENS:return this.highlightScreens(e,t.sids);case a.a.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case a.a.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case a.a.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case r.a.LOAD:return this.load(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(24),s=n(248),a=n(247),o=n(22),r=n(49);const l={toggleSectionState(e,{shouldCollapse:t}){const{id:n}=function(){const{organizationId:e,barrelId:t}=o.d.getState();if(!e)return null;const{projects:n}=r.c.getState(),i=n[e];return i?i[t]:null}();i.b.get(n,"collapsedSections").then(s=>{s[e]=t,i.b.set(n,"collapsedSections",s)})}};a.a.register(e=>{switch(e.type){case s.a.EXPAND_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!1});break;case s.a.COLLAPSE_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!0})}})},function(e,t){},function(e,t,n){"use strict";var i=n(767);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(588),a=n(770);n.n(a);function o(e){const{mainContent:t,subContent:n,onResetTagsClick:s}=e;return i.default.h("div",{class:"noScreenWithTags"},i.default.h("h1",null,t),n&&i.default.h("h2",null,n),i.default.h("button",{type:"button",onClick:s},"Reset tags"))}t.a=function(e){const{tags:t,untagged:n,onResetTagsClick:a}=e;return t.length?i.default.h(o,{mainContent:"There are no screens with the selected tags.",onResetTagsClick:a}):n?i.default.h(o,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like youre well organized. ",onResetTagsClick:a}):i.default.h(s.a,{text:"No screens with this name "})}},function(e,t,n){"use strict";var i=n(0),s=n(769);n.n(s);t.a=function({text:e}){return i.default.h("div",{class:"filterEmptySections"},e)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(772);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(20),a=n(9),o=n(183),r=n(773);n.n(r);const l=i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z",fill:"#554d56","fill-rule":"evenodd"}));t.a=function(){const e=Object(s.h)()===s.b.MAC?"J":"Alt+J";return i.default.h(a.a,{secondary:!0,class:"jumpToButton",onClick:o.a.openJumpToPopup},l,i.default.h("span",{class:"label"},"Jump to"),i.default.h("span",{class:"shortcut"},e))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(7),o=n(4),r=n(775),l=n(183),c=n(65),d=n(781);n.n(d);t.a=class extends i.default.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this)}getSuggestionList(){const e=this.state.filter.toLowerCase(),{screenList:t}=this.props;if(""===e)return t.slice(0).sort(s.L.name);let n,i=[],o=[],r=[],l=[];return t.forEach(t=>{let s=t.name.toLowerCase();s.startsWith(e)?i.push(t):Object(a.a)(s,e)?o.push(t):(n=t.tags&&t.tags.find(t=>t.toLowerCase().includes(e)))?r.push(Object.assign({tag:n},t)):s.includes(e)&&l.push(t)}),i.sort(s.L.name).concat(o.sort(s.L.name)).concat(r.sort(s.L.name)).concat(l.sort(s.L.name))}handleInputChange(e){this.setState({filter:e.target.value})}handleKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&l.a.closeJumpToPopup()}handleJump(e){l.a.closeJumpToPopup(),c.b.openScreen(e)}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,t=this.getSuggestionList();return i.default.h("div",{class:"jumpToScreenContainer",onClick:l.a.closeJumpToPopup},i.default.h("div",{class:"jumpToScreen",onClick:s.N},i.default.h("div",{class:"searchTextContainer"},i.default.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(o.a)(this,"input")}),t.length?null:i.default.h("span",{class:"shrug"},"\\_()_/")),i.default.h(r.a,{screenList:t,onJumpToScreen:this.handleJump})))}}},function(e,t,n){"use strict";var i=n(776);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(777),a=n(1),o=n(8),r=n(4),l=n(780);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(a.a)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(o.k)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,onJumpToScreen:t}=this.props,{selectedScreenIndex:n}=this.state;return i.default.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,a)=>{let o;return n===a&&(o=Object(r.a)(this,"selectedScreen")),i.default.h(s.a,{key:e._id,screenId:e._id,screenName:e.name,filterTag:e.tag,screenIndex:a,selected:n===a,ref:o,onClick:t,onMouseEnter:this.handleSuggestionMouseEnter})}))}}c.defaultProps={screenList:[]},t.a=c},function(e,t,n){"use strict";var i=n(778);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(2),o=n(779);n.n(o);t.a=class extends s.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,selected:n}=this.props;return i.default.h("button",{class:Object(a.a)("screenSuggestion",{selected:n}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.default.h("div",{class:"screenName ellipsis"},e),t?i.default.h("div",{class:"tagName ellipsis"},t):null)}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(783);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(784);n.n(a);t.a=class extends i.default.Component{constructor(e){super(e),this.centerLoadingScreens=this.centerLoadingScreens.bind(this)}centerLoadingScreens(){const{screenGridLoading:e}=this.nodeRefs;e.style.width=244*Math.floor(this.nodeRefs.base.clientWidth/244)+"px",this.centerLoadingTimeout=setTimeout(this.centerLoadingScreens,1e3)}componentDidMount(){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||this.centerLoadingScreens()}componentWillUnmount(){clearTimeout(this.centerLoadingTimeout)}render(){return i.default.h("div",{ref:Object(s.a)(this,"base"),class:"projectOverviewLoading"},i.default.h("div",{class:"menubarLoading"},i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"})),i.default.h("div",{class:"tagsLoading"},i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"}),i.default.h("div",{class:"loadingItem"})),i.default.h("div",{class:"screenGridLoading",ref:Object(s.a)(this,"screenGridLoading")},i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"}),i.default.h("div",{class:"screenLoading loadingItem"})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(786);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(787),a=n(807),o=n(810);n.n(o);t.a=(({platform:e,supportsFigma:t,supportsXd:n})=>{const o="electron"===e?i.default.h(s.a,{supportsFigma:t,supportsXd:n}):i.default.h(a.a,null);return i.default.h("div",{class:"noScreens"},o)})},function(e,t,n){"use strict";var i=n(788);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(789),a=n(10),o=n(24);function r(e){e.preventDefault(),a.a.shell.openExternal(e.target.href)}t.a=class extends i.default.Component{constructor(e){super(e),this.state={designTool:"photoshop"},this.handleMount=this.handleMount.bind(this),this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleMount(){o.d.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),o.d.set("noScreensDesignToolSelection",t)}render({supportsFigma:e,supportsXd:t},{designTool:n}){return i.default.h(s.a,{designTool:n,onDesignToolChange:this.handleDesignToolChange,onExternalLinkClicked:r,onMount:this.handleMount,supportsFigma:e,supportsXd:t})}}},function(e,t,n){"use strict";var i=n(0),s=n(790),a=n(793),o=n(594),r=n(800),l=n(803),c=n(806);n.n(c);t.a=function(e){if(e.supportsFigma||e.supportsXd){const t=[i.default.h(s.a.Tab,{value:"xd",description:"Adobe XD",width:119},i.default.h(l.a,null)),i.default.h(s.a.Divider,null)],n=[i.default.h(s.a.Tab,{value:"figma",description:"Figma",width:79},i.default.h(r.a,null)),i.default.h(s.a.Divider,null)],a=i.default.h(s.a.Tab,{value:"photoshop",description:"Photoshop",width:127},i.default.h(o.a,{onExternalLinkClicked:e.onExternalLinkClicked}));return i.default.h(s.a,{designTool:e.designTool,onDesignToolChange:e.onDesignToolChange},e.supportsXd&&t,e.supportsFigma&&n,a)}return i.default.h(a.a,{onExternalLinkClicked:e.onExternalLinkClicked})}},function(e,t,n){"use strict";var i=n(791);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(792);n.n(s);class a extends i.default.Component{renderTabs(){const{children:e,designTool:t,onDesignToolChange:n}=this.props;return e.map(e=>e?i.default.cloneElement(e,{onChange:n,designTool:t}):null)}renderActiveTabContent(){const{children:e,designTool:t}=this.props,n=e.find(e=>!!e&&e.attributes&&e.attributes.value===t);return n?n.children:null}render({designTool:e}){return i.default.h("div",{class:`noScreensElectron designToolTabs ${e}`},i.default.h("h1",null,"Lets start by exporting screens from:"),i.default.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}a.Tab=function({onChange:e,designTool:t,value:n,description:s,width:a}){return i.default.h("label",{style:{width:a}},i.default.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.default.h("span",null,s))},a.Divider=(()=>i.default.h("hr",null)),t.a=a},function(e,t){},function(e,t,n){"use strict";var i=n(794);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(594),a=n(799);n.n(a);t.a=function({onExternalLinkClicked:e}){return i.default.h("div",{class:"noScreensElectron photoshopOnly"},i.default.h("h1",null,"Designers!"),i.default.h("h2",null,"Lets start by exporting screens from Photoshop:"),i.default.h(s.a,{onExternalLinkClicked:e,longInstallPanelInfo:!0,withToolToZeplinMargin:!0}),i.default.h("h1",null,"Developers!"),i.default.h("h2",{class:"inviteYourDesigner"},"Invite your designer to upload screens:"),i.default.h("h3",{class:"inviteYourDesignerInfo"},"You can invite your designer from the 'Members' section."))}},function(e,t,n){"use strict";var i=n(0),s=n(358),a=n(6),o=n(798);n.n(o);const r=[i.default.h("img",{class:"psLogo",src:a.e("img/icLogoPS.png"),srcset:a.f(a.e("img/icLogoPS.png"))}),i.default.h("img",{class:"psToZeplinLogo",src:a.e("img/icDashboardPSToZeplin.svg")})];function l({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.default.h("ol",{class:"photoshopSteps"},i.default.h("li",null,i.default.h("div",null,i.default.h("div",null,"Open your Photoshop file"),i.default.h("img",{src:a.e("img/icPSLogoGrayscale.png"),srcset:a.f(a.e("img/icPSLogoGrayscale.png"))}))),i.default.h("li",null,i.default.h("div",null,"Select artboards (or layers in artboards) and click:"),i.default.h("img",{class:"ssDashboardEmpty",src:a.e("img/ss/ssDashboardEmpty.png"),srcset:a.f(a.e("img/ss/ssDashboardEmpty.png"))}),t?i.default.h("div",{class:"installPanelInfo"},"If you cant see the panel under ",i.default.h("code",null,"Window > Extensions > Zeplin"),", check how its installed from ",i.default.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.default.h("div",{class:"installPanelInfo"},"If you cant see the panel, install it from ",i.default.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.a=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.default.h("div",{class:"photoshopContainer"},i.default.h(s.a,{images:r,withMargin:n}),i.default.h(l,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(2),o=n(797);n.n(o);t.a=function({images:e,withMargin:t}){return i.default.h("div",{class:Object(a.a)("toolToZeplin",{withMargin:t})},e,i.default.h("img",{class:"zeplinLogo",src:Object(s.e)("img/icZeplin.svg")}))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(801);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(358),a=n(6),o=n(802);n.n(o);const r=[i.default.h("img",{class:"figmaLogo",src:a.e("img/icDshbrdFigma.svg")}),i.default.h("img",{class:"figmaToZeplinLogo",src:a.e("img/figmaDashboardPSToZeplin.svg")})],l=i.default.h("ol",{class:"figmaSteps"},i.default.h("li",null,i.default.h("div",null,"Enable the integration on Figma. From the menu, "),i.default.h("div",null,"select ",i.default.h("strong",null,"Integrations > Zeplin:")),i.default.h("img",{src:a.e("img/imgFigmaMenuIntegration.png"),srcset:a.f(a.e("img/imgFigmaMenuIntegration.png"))})),i.default.h("li",null,i.default.h("div",null,"Select a frame in your Figma file.")),i.default.h("li",null,i.default.h("div",null,"Press ",i.default.h("strong",null,"Alt+E")," or select ",i.default.h("strong",null,"Export to Zeplin")," under the Export menu:"),i.default.h("div",null,i.default.h("img",{src:a.e("img/icFigmaShortcut.svg")}),i.default.h("div",null,"or"),i.default.h("img",{src:a.e("img/imgFigmaMenuExport.png"),srcset:a.f(a.e("img/imgFigmaMenuExport.png"))}))));t.a=function(){return i.default.h("div",{class:"figmaContainer"},i.default.h(s.a,{images:r,withMargin:!0}),l)}},function(e,t){},function(e,t,n){"use strict";var i=n(804);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(358),a=n(6),o=n(805);n.n(o);const r=[i.default.h("img",{class:"xdLogo",src:a.e("img/icLogoXD.png"),srcset:a.f(a.e("img/icLogoXD.png"))}),i.default.h("img",{class:"xdEmoji",src:a.e("img/emjPointRight.png"),srcset:a.f(a.e("img/emjPointRight.png"))})],l=i.default.h("ol",{class:"xdSteps"},i.default.h("li",null,"Select an artboard in your file."),i.default.h("li",null,i.default.h("div",null,"Select ",i.default.h("strong",null,"Zeplin")," under ",i.default.h("strong",null,"File > Export"),"."),i.default.h("img",{class:"ssMenuExport",src:a.e("img/imgXDMenuExport.png"),srcset:a.f(a.e("img/imgXDMenuExport.png"))}),i.default.h("div",{class:"additionalInfo"},i.default.h("p",null,i.default.h("img",{class:"emoji",src:a.e("img/emjPointUp@17w.png"),srcset:`${a.e("img/emjPointUp@34w.png")} 2x, ${a.e("img/emjPointUp@51w.png")} 3x`}),"You can use the shortcut ",i.default.h("strong",null,"Ctrl+Alt+E"),", on your next export."),i.default.h("img",{src:a.e("img/icXDShortcut.png"),srcset:a.f(a.e("img/icXDShortcut.png"))}))));t.a=function(){return i.default.h("div",{class:"xdContainer"},i.default.h(s.a,{images:r,withMargin:!0}),l)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(808);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(809);n.n(s);t.a=(()=>i.default.h("div",{class:"noScreensWebApp"},i.default.h("h1",null,"Here, youll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.default.h("div",{class:"screenSilhouettes"},i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"}),i.default.h("div",{class:"screenSilhouette"})),i.default.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.default.h("span",{class:"downloadApp"},", if you are a designer you can ",i.default.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.default.h("br",null),i.default.h("br",null),"To learn more about how to export from ",i.default.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.default.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.default.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.default.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo.")))},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(812);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(20),o=n(4),r=n(52),l=n(2),c=n(813);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebLink=this.handleCopyWebLink.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(a.c)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebLink(e){e.stopPropagation(),this.props.onCopyWebLink(this.props.tag)}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag)}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){return i.default.h(r.a.withAutoPosition,{class:"tagContextMenu",onMouseDown:s.N,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:this.state.contextMenu},onClose:this.handleCloseContextMenu},i.default.h(r.a.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.default.h(r.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.default.h(r.a.ItemDivider,null),i.default.h(r.a.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.default.h(r.a.ItemDivider,null),this.props.canCreateSectionFromTag&&i.default.h(r.a.Item,{onClick:this.handleConvertToSection},"Convert to section"),i.default.h(r.a.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:s}=this.props,a=Object(l.a)("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:s});return i.default.h("button",{ref:Object(o.a)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:a},i.default.h("div",{class:"ellipsis"},t?"Untagged":e),this.state.contextMenu&&this.renderTagContextMenu())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(184),o=n(816),r=n(174),l=n(1),c=n(2),d=n(96),u=n(4),h=n(22),p=n(349),m=n(18),g=n(95),f=n(132),b=n(819),y=n(85),v=n(824),S=n(359),C=n(360),E=n(372),k=n(9),O=n(843),D=n(846),w=n(851),j=n(62),T=n(61),_=n(857),x=n(860),R=n(867),I=n(42),P=n(250),L=n(41),A=n(33),N=n(27),M=n(870);n.n(M);const U=Object(a.a)(Object(o.a)(class extends s.a{constructor(e){super(e),this.openMembersDialog=this.openMembersDialog.bind(this),this.closeMembersDialog=this.closeMembersDialog.bind(this),this.openDensityDialog=this.openDensityDialog.bind(this),this.closeDensityDialog=this.closeDensityDialog.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(l.g)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.openSelectParentDialog=this.openSelectParentDialog.bind(this),this.closeSelectParentDialog=this.closeSelectParentDialog.bind(this),this.openRemoveParentDialog=this.openRemoveParentDialog.bind(this),this.closeRemoveParentDialog=this.closeRemoveParentDialog.bind(this),this.handleRename=this.handleRename.bind(this),this.handleDensityScaleChange=this.handleDensityScaleChange.bind(this),this.handleShareContentOpen=this.handleShareContentOpen.bind(this),this.handleShareContentClose=this.handleShareContentClose.bind(this),this.renderShareContent=this.renderShareContent.bind(this),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.handleRemoveParent=this.handleRemoveParent.bind(this),this.handleMemberClick=this.handleMemberClick.bind(this),this.state={shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}}openMembersDialog(){this.setState({membersDialogOpen:!0})}closeMembersDialog(){this.setState({membersDialogOpen:!1})}openDensityDialog(){this.setState({densityDialogOpen:!0})}closeDensityDialog(){this.setState({densityDialogOpen:!1})}setInvitePopupAnchorPosition(){const{inviteButton:e}=this.nodeRefs,t=r.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;r.a.classList.toggle("hidden",t.bottom<n.bottom)||(r.a.style.top=i+"px")}setInvitePopupPosition(){r.c.style.transform="";const{inviteButton:e}=this.nodeRefs,t=r.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,s=n.top-i,a=n.bottom+n.height+i;let o;o=s>108&&a<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-o,12)-60;r.c.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,organizationId:i}=this.props,{barrelUser:s}=this.context,{sidebar:a}=this.nodeRefs;r.k({bt:e,popupContainer:a,bid:t,members:n,oid:"pawn"===s.role?"user":i,onDismiss:e=>{this.setInvitePopupState(!1)}}),this.setInvitePopupPosition(),a.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),a.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),r.b(),this.setInvitePopupState(!1)}openSelectParentDialog(e){const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}closeSelectParentDialog(){this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}openRemoveParentDialog(){this.setState({removeParentDialogOpen:!0})}closeRemoveParentDialog(){this.setState({removeParentDialogOpen:!1})}toggleInvitePopup(e){e.stopPropagation(),r.h()?this.openInvitePopup():this.closeInvitePopup()}handleRename(e){e!==this.props.name&&h.b.updateName({name:e,syncWithApi:!0})}handleDensityScaleChange(e){h.b.updateDensityScale({densityScale:e,syncWithApi:!0})}handleRemoveIntegration(e,t){h.b.removeIntegration({intype:e,inid:t,syncWithApi:!0})}handleShareContentOpen(){this.setState({shareContentOpen:!0})}handleShareContentClose(){this.setState({shareContentOpen:!1})}handleDescriptionSubmit(e){e!==this.props.description&&h.b.updateDescription({description:e,syncWithApi:!0})}handleMemberClick(e){this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}handleAddMembers(e){h.b.addMembers({members:e.detail.users,syncWithApi:!0})}handleRemoveMember({user:{_id:e}}){h.b.removeMember({uid:e,syncWithApi:!0})}handleAssignAdmin({user:{_id:e}}){h.b.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}handleUnassignAdmin({user:{_id:e}}){h.b.updateUserRole({uid:e,role:"user",syncWithApi:!0})}handleTransferOwnership({user:{_id:e}}){h.b.transferOwnership({uid:e,syncWithApi:!0})}handleSelectParent(){const{barrelId:e,organizationId:t}=this.props,{selectedParentStyleguide:n}=this.state;I.b.selectParentRequest({stid:e,parent:n._id,oid:t,syncWithApi:!0})}handleRemoveParent(){const{barrelId:e,barrelParent:t,organizationId:n}=this.props;I.b.removeParent({stid:e,oldParent:t,oid:n,syncWithApi:!0})}renderSelectParentDialog(){const{selectedParentStyleguide:e}=this.state,{platform:t,barrelParent:n,name:s}=this.props,{name:a,type:o}=e,r=t===o||o===L.b.BASE;let l;return l=r?`${n?"Change":"Select"} parent styleguide of ${s} to ${a}?`:`${n?"Change":"Select"} parent styleguide of ${s} (${A.d[t]}) to ${a} (${A.d[o]})?`,i.default.h(N.a,{title:l,message:"Styleguide parent can be changed later.",positiveButtonText:`${n?"CHANGE":"SELECT"}${r?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{name:e}=this.props;return i.default.h(N.a,{message:`Remove parent styleguide of ${e}?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e,canManageProject:t}=this.context,n=t?"Update project density.":Object(d.a)(e.role,"update project density"),s=!t;return i.default.h(y.a,{content:n},i.default.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:s},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:s?"#C1BEC1":"#554D56","fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))))}renderName(){const{barrelType:e,name:t}=this.props,{canManageProject:n,barrelUser:s}=this.context,a=i.default.h(b.a,{readonly:!n,onBlur:this.handleRename,value:t});return n?a:i.default.h(y.a,{content:Object(d.a)(s.role,`rename ${e}s.`)},a)}renderDensityAndType(){const{platform:e,densityScale:t}=this.props;return i.default.h("div",{class:"densityAndType"},i.default.h("div",{class:"info"},Object(l.u)(e),", ",Object(l.q)(e,t)),this.renderDensityChangeAction())}renderShareContent(){const{barrelType:e,barrelId:t,public:n}=this.props,{canChangeProjectAccesibility:s}=this.context;return i.default.h(w.a,{barrelType:e,barrelId:t,sceneEnabled:n,canChangeProjectAccesibility:s,onEnableScene:h.b.enableScene,onUnshare:h.b.unshareScene})}renderShareButton(){const{shareContentOpen:e}=this.state;return i.default.h("div",{class:"shareButtonContainer"},i.default.h(j.a,{open:e,onOpen:this.handleShareContentOpen,onClose:this.handleShareContentClose,content:this.renderShareContent,left:12,centerY:!0,faceTop:!0,showAnchor:!0},i.default.h(k.a,{class:"shareButton",primary:!0},"Share")))}renderDescription(){const{barrelType:e="project",description:t,descriptionFormatter:n}=this.props;if(e===m.a.STYLEGUIDE)return null;const{canManageProject:s}=this.context;return[i.default.h(C.a,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.default.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.default.h(E.a,{class:"descriptionTextArea",value:t,placeholder:s?"Got any notes?":"No description yet",readOnly:!s,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:n,showEmojiAutoComplete:!0,maxLength:1024})),i.default.h(S.a,{key:"descriptionSeparator"})]}renderMembers(){const{barrelType:e,barrelId:t,name:n,members:s,isOrganizationProject:a,organizationId:o}=this.props,{membersDialogOpen:r}=this.state,{barrelUser:l}=this.context;let c=null;if(r){const r=this.highlightedMemberId;this.highlightedMemberId=null,c=i.default.h(T.a,null,i.default.h(D.a,{key:"membersDialog",members:s,barrelUser:l,barrelType:e,barrelId:t,barrelName:n,isOrganizationProject:a,organizationId:o,highlight:r,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:g.a}))}return[i.default.h(C.a,{key:"membersSubtitle",title:"Members",onSettingsButtonClick:this.openMembersDialog,withSettingsButton:!0}),i.default.h("div",{key:"inviteButton",class:"inviteButtonContainer"},i.default.h(k.a,{secondary:!0,class:"inviteButton",baseRef:Object(u.a)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.default.h(O.a,{key:"memberList",members:s,onMemberClick:this.handleMemberClick}),c]}renderDensityDialog(){const{densityDialogOpen:e}=this.state;if(!e)return null;const{platform:t,densityScale:n}=this.props;return"base"===t?i.default.h(x.a,{selectedValue:n,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.default.h(_.a,{type:t,selectedValue:n,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog})}renderParentStyleguides(){const{barrelType:e,barrelId:t,barrelParent:n,barrelAncestors:s,isOrganizationProject:a,currentOrganizationStyleguides:o,loadingSelectParent:r,members:l}=this.props,{barrelUser:c}=this.context;if(e===m.a.PROJECT)return null;const d=Object(P.c)({isOrganizationStyleguide:a,currentStyleguides:o,currentUser:c,id:t,parentId:n,users:l}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(s,o);return i.default.h(R.a,{selectableStyleguides:d,parentNames:u,isOrganization:a,loading:r,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{name:e,width:t,extensionTitles:n="",extensionsLoaded:s,slackChannels:a,showSlackReconnectionAuntie:o,hideAddToSlack:r,hover:l,onRelease:d}=this.props,{shareContentOpen:m,invitePopupOpen:g,selectParentDialogOpen:b,removeParentDialogOpen:y}=this.state;return i.default.h(f.a,{class:Object(c.a)("barrelSidebar",{shareContentOpen:m,invitePopupOpen:g}),minWidth:260,initialWidth:t,baseRef:Object(u.a)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:d},this.renderName(),this.renderDensityAndType(),i.default.h(v.a,{barrelName:e,slackChannels:a,onAddToSlack:h.b.addToSlack,onOpenPreferences:p.a.open,hideAddToSlack:r,showConfigurationButtons:l,showSlackReconnectionAuntie:o,onRemoveIntegration:this.handleRemoveIntegration}),this.renderShareButton(),i.default.h(S.a,null),this.renderDescription(),this.renderParentStyleguides(),i.default.h(C.a,{title:"Extensions",onSettingsButtonClick:h.b.openExtensionSettings,withSettingsButton:!0,settingsButtonDisabled:!s}),i.default.h("div",{class:"extensionsContainer"},i.default.h("div",{class:"extensions ellipsis",title:n},n)),i.default.h(S.a,null),this.renderMembers(),this.renderDensityDialog(),b&&this.renderSelectParentDialog(),y&&this.renderRemoveParentDialog())}})),B=e=>i.default.h(U,Object.assign({},e,{class:"barrelSidebarWrapper",ignoreOverlays:!1}));B.Loading=function(){return i.default.h("div",{class:"barrelSidebar barrelSidebarLoading"})},t.a=B},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(25);t.a=function(Component){return class extends a.a{getChildContext(){if(this.props.loading)return null;const{barrelUser:e}=this.props;return{barrelUser:e,canManageProject:s.H.canUpdateProject(e),canChangeProjectAccesibility:s.H.canChangeProjectAccesibility(e)}}render(){const e=Object.assign({},this.props);return delete e.barrelUser,i.default.h(Component,e)}}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(4),l=n(818);n.n(l);const c={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function d(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return c[t][e]}class u extends i.default.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleCollapse=this.handleCollapse.bind(this),this.handleExpand=this.handleExpand.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this);const{initialWidth:t=0,minWidth:n=0}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:!1,resizing:!1}}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i=0,resizingSide:s}=this.props,{clientWidth:a}=this.nodeRefs.base;let o;(o=e||t<i?"left"===s?"west":"east":Math.floor(t)>a?"right"===s?"west":"east":Math.floor(t)===a&&"resize"!==n?n:"resize")!==n&&(document.body.dataset.resizeCursor=o,this.setState({cursorType:o}))}handleBaseRef(e){Object(r.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n=0,resizingSide:i}=this.props;let{collapsed:s}=this.state;const{left:a,right:o}=t.getBoundingClientRect(),r=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;let l;if(r){if(l="right"===i?Math.max(0,r-a):Math.max(0,o-r),s){if(l<n/2)return;s=!1,l=Math.max(l,n)}else if(l<n){if(l>n/2)return;s=!0}this.setState({collapsed:s,width:l})}})}handleMouseUp(e){document.removeEventListener(d("move"),this.handleMouseMove),document.removeEventListener(d("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,n=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(n),this.setState({width:n,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(d("move"),this.handleMouseMove),document.addEventListener(d("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}handleCollapse(){this.setState({collapsed:!0})}handleExpand(){this.setState({collapsed:!1})}componentDidMount(){this.nodeRefs.resizer.addEventListener(d("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth),this.props.onCollapsedChange&&(!t.collapsed&&this.state.collapsed?this.props.onCollapsedChange(!0):t.collapsed&&!this.state.collapsed&&this.props.onCollapsedChange(!1))}componentWillUnmount(){document.removeEventListener(d("move"),this.handleMouseMove),document.removeEventListener(d("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(d("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:s}=this.state,{children:a,class:l,resizingSide:c="left",compact:d,minWidth:u,paddingBottom:h,onClick:p}=this.props,m={},g=Object(o.a)("sidebar",l,c,{resizing:t,collapsed:e,compact:d});return e||Object.assign(m,{minWidth:u?`${u}px`:"",width:n?`${n}px`:"",paddingBottom:h?`${h}px`:""}),i.default.h("div",{class:g,style:m,onClick:p,ref:this.handleBaseRef},i.default.h("div",{class:"content"},a.map(t=>t&&"string"!=typeof t?i.default.cloneElement(t,{compact:d,collapsed:e,collapse:this.handleCollapse,expand:this.handleExpand}):t)),i.default.h("div",{class:Object(o.a)("resizer",`cursor${s}`),ref:Object(r.a)(this,"resizer")},i.default.h("div",{class:"resizerIcon"},i.default.h("div",null),i.default.h("div",null),i.default.h("div",null))))}}u.propTypes={children:a.a.oneOfType([a.a.node,a.a.element]),class:a.a.string,compact:a.a.bool,initialWidth:a.a.number,minWidth:a.a.number,resizingSide:a.a.oneOf(["left","right"]),onRelease:a.a.func,onResize:a.a.func,onCollapsedChange:a.a.func},u.defaultProps={resizingSide:"left"},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(820);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(2),o=n(821);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={value:e.value,editing:!1,originalValue:e.value}}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}`}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}handleMouseDown(){this.setState({editing:!0})}handleInput(e){this.setState({editing:!0,value:e.target.value})}handleBlur(){const{onBlur:e}=this.props,{value:t}=this.state;this.setState({editing:!1}),e(t)}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.default.h("div",{class:Object(a.a)("barrelNameTextArea",{editing:n,readonly:e})},i.default.h("div",{class:"mirror",ref:Object(s.a)(this,"mirror"),title:t},t),i.default.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(s.a)(this,"textarea"),readonly:e}),n&&i.default.h("div",{class:"underline"}),!n&&!e&&i.default.h("div",{class:"dashedLine"}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1),r=n(61),l=n(4),c=n(823);n.n(c);const d=500,u=200,h=12,p=2;class m extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?d:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},u)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-p,s=t.left+(t.width-n.width)/2;s<h?s=h:s+n.width+h>window.innerWidth&&(s=window.innerWidth-h-n.width),i+n.height+h>window.innerHeight&&(i=i-n.height-h),e.style.transform=`translate3d(${s}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.default.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:o.N},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.default.h("div",{ref:Object(l.a)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e,n&&i.default.h(r.a,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}m.propTypes={children:a.a.oneOfType([a.a.node,a.a.element]).isRequired,content:a.a.oneOfType([a.a.node,a.a.element]).isRequired,delay:a.a.number,targetClass:a.a.string},m.defaultProps={delay:500},t.a=m},function(e,t){},function(e,t,n){"use strict";var i=n(825);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(96),a=n(16),o=n(25),r=n(85),l=n(560),c=n(826),d=n(597),u=n(9),h=n(22),p=n(832);n.n(p);t.a=class extends o.a{constructor(e){super(e),this.handleReconnectSlackIntegration=this.handleReconnectSlackIntegration.bind(this)}handleReconnectSlackIntegration(){const{slackChannels:[e]}=this.props,{barrelType:t,barrelId:n}=this.context;h.b.hideSlackReconnectionAuntie(),a[t].deleteIntegration(n,"slacks",e).then(this.addToSlack)}renderSlackReconnectionAuntie(){const{slackChannels:e}=this.props,t=e.filter(e=>!e.scope.includes("emoji"));return 0===t.length?null:t.length>1?i.default.h(l.a,{content:"You can now use your custom Slack emojis in Zeplin! Remove an existing integration and re-add it to get started.",hideCallback:h.b.hideSlackReconnectionAuntie}):i.default.h(l.a,{content:"You can now use your custom Slack emojis in Zeplin! Reconnect Slack to get started.",actionButton:{text:"Reconnect",callback:this.handleReconnectSlackIntegration},hideCallback:h.b.hideSlackReconnectionAuntie})}renderAddToSlackButton(){const{onAddToSlack:e}=this.props,{barrelUser:t,canManageProject:n}=this.context;return n?i.default.h(u.a,{class:"addToSlackButton",onClick:e,secondary:!0},i.default.h(d.a,{key:"slackLogo"}),i.default.h("span",null,"Add to Slack")):i.default.h(r.a,{content:Object(s.a)(t.role,"add projects to Slack")},i.default.h(u.a,{class:"addToSlackButton",disabled:!0,secondary:!0},i.default.h(d.a,{key:"slackLogo",disabled:!0}),i.default.h("span",null,"Add to Slack")))}render(){const{slackChannels:e,showSlackReconnectionAuntie:t,hideAddToSlack:n,showConfigurationButtons:s,onRemoveIntegration:a,onAddToSlack:o,onOpenPreferences:r}=this.props;return!e&&n?null:e?i.default.h("div",{class:"slackChannels"},e.map(e=>i.default.h(c.a,{key:e._id,channel:e,hideAddToSlack:n,showConfigurationButton:s,onAddAnother:o,onOpenPreferences:r,onRemove:a})),t&&this.renderSlackReconnectionAuntie()):i.default.h("div",{class:"addToSlackButtonContainer"},this.renderAddToSlackButton())}}},function(e,t,n){"use strict";var i=n(827);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(96),o=n(25),r=n(596),l=n(52),c=n(2),d=n(85),u=n(597),h=n(831);n.n(h);t.a=class extends o.a{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(s.F)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channelName)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){const{hideAddToSlack:e}=this.props;return i.default.h(l.a,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},!e&&i.default.h(l.a.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another"),i.default.h(l.a.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.default.h(l.a.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences"),i.default.h(l.a.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{canManageProject:e,barrelUser:t}=this.context;if(e){const{menuOpen:e}=this.state;return i.default.h(r.a,{class:Object(c.a)({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.default.h(d.a,{content:Object(a.a)(t.role,"update Slack integration.")},i.default.h(r.a,{disabled:!0}))}render(){const{showConfigurationButton:e,channel:{incomingWebHook:{configurationURL:t,channelId:n,channel:s}}}=this.props,{canManageProject:a}=this.context,o=new URL(t);return o.pathname=`/messages/${n||s.replace("#","")}`,i.default.h("div",{class:"slackChannel"},i.default.h(u.a,{disabled:!a}),i.default.h("span",{class:"ellipsis"},"Connected to ",i.default.h("a",{target:"_blank",title:s,href:o.toString(),rel:"external noopener noreferrer"},s)),e&&this.renderSlackChannelConfigurationButton())}}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(829);n.n(a);t.a=function(e){const{class:t,disabled:n,onClick:a,baseRef:o,children:r}=e;return i.default.h("button",{type:"button",class:Object(s.a)("sidebarSettingsButton",t),disabled:n,onClick:a,ref:o},n?i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})):i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),r)}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(834);n.n(a);t.a=function(e){const{class:t}=e;return i.default.h("div",{class:Object(s.a)("barrelSidebarSeparator",t)},i.default.h("div",null))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(596),a=n(2),o=n(836);n.n(o);t.a=function(e){const{class:t,title:n,buttonRef:o,withSettingsButton:r,settingsButtonDisabled:l,onSettingsButtonClick:c}=e;return i.default.h("div",{class:Object(a.a)("barrelSidebarSubtitle",t)},i.default.h("div",{class:"title noSelect"},n),r&&i.default.h(s.a,{baseRef:o,onClick:c,disabled:l}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(25),r=n(2),l=n(4),c=n(1),d=n(598),u=n(182),h=n(842);n.n(h);const p=/:(\S+?):/g;class m extends o.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.g)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],emojiListTop:0,autoCompletedEmoji:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;t&&t(),this.setState({editing:!1,value:e}),this.nodeRefs.textArea.blur()}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,s=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),s=e.substring(i,t).match(/^:(.+)/);if(s){const e=s[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(p);return a&&u.a.searchEmoji(a[0].substring(1,a[0].length-1))?[]:u.a.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(s!==t){const e=Math.max(0,Math.min(n,s.length-1)),t=i.getBoundingClientRect().top+i.offsetHeight-60;this.setState({suggestedEmojis:s,selectedEmojiIndex:e,emojiListTop:t})}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&document.body.classList.contains("safari")?e+(t.match(/\n/g)||[]).length:e}submit(){const{onSubmit:e}=this.props,{value:t,originalValue:n}=this.state;t!==n?this.setState({editing:!1,originalValue:t}):this.setState({editing:!1}),e&&e(t),this.nodeRefs.textArea.blur()}handleBlur(e){const{submitOnBlur:t}=this.props,{originalValue:n,value:i}=this.state;if((!e.relatedTarget||!this.nodeRefs.base.contains(e.relatedTarget))&&t){if(n===i)return void this.setState({editing:!1});this.submit()}}handleButtonClick(){const{readOnly:e}=this.props;e||this.submit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{readOnly:t}=this.props;t||(this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&(document.body.classList.contains("mac")&&e.metaKey||e.ctrlKey)&&this.submit()))}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){this.props.showEmojiAutoComplete&&(e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis))}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],s=this.nodeRefs.textArea.selectionStart,a=n.substring(0,s).lastIndexOf(":"),o=i.formattedAlias,r=n.substring(0,a)+":"+o+": "+n.substring(s),l=a+o.length+3;this.setState({value:r,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleTextAreaClick(){this.state.editing&&this.changeSuggestedEmojis()}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:s}=this.state,{showEmojiAutoComplete:a}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),a&&!s&&i!==t.value&&this.changeSuggestedEmojis()}render(){const{autoEdit:e,class:t,color:n,formatter:s,placeholder:a="",showEmojiAutoComplete:o}=this.props,{editing:c,value:u,emojiListTop:h,suggestedEmojis:p,selectedEmojiIndex:m}=this.state,g=s?s(u):u,f=this.maxLength;return i.default.h("div",{ref:Object(l.a)(this,"base"),class:"textAreaContainer"},i.default.h("div",{class:Object(r.a)("textArea",t,{editing:c},n)},i.default.h("div",{class:Object(r.a)("formattedContent",{placeholder:a&&!u}),onClick:e&&this.handleClick,dangerouslySetInnerHTML:{__html:g||a}}),i.default.h("div",{class:"editor"},i.default.h("div",{class:"mirror"},u,""),i.default.h("textarea",{ref:Object(l.a)(this,"textArea"),value:u,spellcheck:"false",placeholder:a,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.default.h("div",{class:"controls",tabIndex:"-1"},i.default.h("div",{class:"counter"},f>-1&&f-u.length),i.default.h("button",{type:"button",class:"submit",ref:Object(l.a)(this,"submitButton"),onClick:this.handleButtonClick}))),o&&c&&0!==p.length&&i.default.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",style:{top:h+"px"}},i.default.h(d.a,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:p,selectedIndex:m})))}}m.propTypes={autoEdit:a.a.bool,value:a.a.string,class:a.a.string,color:a.a.oneOf(["yellow","orange","peach","green","turquoise"]),editing:a.a.bool,maxLength:a.a.number,placeholder:a.a.string,readOnly:a.a.bool,submitOnBlur:a.a.bool,onSubmit:a.a.func,onCancelEdit:a.a.func,formatter:a.a.func,showEmojiAutoComplete:a.a.bool},m.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onSubmit:null,onCancelEdit:null,showEmojiAutoComplete:!1},t.a=m},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(3),o=n.n(a),r=n(839),l=n(841);n.n(l);function c(e){const{emoji:t,formattedAlias:n,selected:a,customEmoji:o,onMouseOver:r,onClick:l,listRef:c}=e,d=o?i.default.h("img",{src:t,class:"emojiImg"}):i.default.h("span",{class:"emojiChar"},t);return i.default.h("div",{class:Object(s.a)({selected:a},"emojiItem"),onMouseOver:r,onClick:l,ref:c},d,i.default.h("span",{class:"emojiAlias"},n))}function d({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:s}){return i.default.h(r.a,{class:"emojiAutoCompleteList",options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:s,onItemClick:n,RowComponent:c})}d.propTypes={suggestedEmojis:o.a.array,selectedIndex:o.a.number,onItemClick:o.a.func,onItemMouseOver:o.a.func},t.a=d},function(e,t,n){"use strict";var i=n(840);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(4),o=n(8);function r(e,t){return n=>t(e,n)}const l=Object(s.g)(e=>{e&&Object(o.k)(e)});t.a=class extends i.default.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs[`ref${t}`],s=this.nodeRefs[`ref${n}`];i&&(l(i),i.classList.add("selected")),s&&s.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:s,selectedIndex:o,onItemMouseOver:l,onItemClick:c}){return i.default.h("div",{class:e},t.map((e,t)=>i.default.h(s,Object.assign({},e,{key:e[n]},{listRef:Object(a.a)(this,`ref${t}`)},{selected:t===o,onMouseOver:r(t,l),onClick:r(t,c)}))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(844);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(37),a=n(8),o=n(4),r=n(845);n.n(r);const l=30,c=l+8,d=24;function u(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending ("+e.user.email+")"}class h extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(a.f)(e.user,{ignoreRandomEmotar:!1,size:l});return i.default.h("div",{class:"memberAvatar",onClick:this.handleClick},i.default.h(s.a,{title:t,width:l,height:l,src:n,srcset:o}))}}t.a=class extends i.default.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-d)/c);if(0===i)return;let s;(s=e.length>i?i-1:e.length)!==t&&this.setState({nrOfAvatarsDisplayed:s})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:s}=this.props;if(0===t)return null;const a=n.length-t;if(a){const o=n.slice(t).map(t=>u(t,e)).join("\n");return i.default.h("button",{type:"button",class:"remaining",onClick:s,title:o},"+",a)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,onMemberClick:n}=this.props,{barrelUser:s}=this.context,a=t.find(e=>e.user._id===s.user._id).role;return i.default.h("div",{class:"membersPreview",ref:Object(o.a)(this,"base")},t.slice(0,e).map(e=>i.default.h(h,{key:e.user._id,onClick:n,member:e,title:u(e,a)})),this.renderRemainingMembers(a))}}},function(e,t){},function(e,t,n){"use strict";var i=n(847);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(174),a=n(1),o=n(4),r=n(9),l=n(360),c=n(599),d=n(848),u=n(27),h=n(850);n.n(h);function p(e){const t=Object(a.y)(e);return"king"===e||"owner"===e?t:`${t}s`}const m={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};t.a=class extends i.default.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},m),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(a.g)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(m)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},m,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},m,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},m,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=s.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,a=t.top>=n.top,o=i||a;if(!s.a.classList.toggle("hidden",o)){const e=n.top-t.top;s.a.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;s.c.style.transform="";const t=s.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let a;if(i>0?a=Math.max(t.top-i,60):t.top<60&&(a=60),a){const e=a-n.top- -52;s.c.style.transform=`translate3d(0, ${e}px, 0)`}const o=n.right+t.width+24>window.innerWidth;s.c.classList.toggle("left",o),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:a}=this.props,{membersDialog:o}=this.nodeRefs;s.k({bt:e,popupContainer:o,bid:t,members:n,oid:"pawn"===i.role?"user":a}),this.setInvitePopupPosition(),o.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),o.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),s.b()}toggleInvitePopup(e){e.stopPropagation(),s.h()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:s}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||s?this.setState(m):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!s.h())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),s.h()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}renderHeader(){return i.default.h("div",{class:"membersDialogHeader"},i.default.h("div",{class:"title"},"Members"),i.default.h(r.a,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderUpgradeNowInfo(){return i.default.h("div",{class:"upgradeNow"},i.default.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.default.h(r.a,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade"))}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:s}=this.state,o=t.reduce((t,o)=>{const r=i.default.h(c.a,{key:o.user._id,member:o,showOptionsButton:"owner"!==o.role&&a.H.isSuperior(e,o,!0),memberOptionsOpen:!!s&&s.user._id===o.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===o.user._id});return t.has(o.role)?t.get(o.role).push(r):t.set(o.role,[r]),t},new Map),r=[];for(let[a,c]of o)r.push(i.default.h("div",{key:`${a}Rows`,class:"roleGroup"},i.default.h(l.a,{class:"roleTitle",key:a,title:p(a)}),c));return i.default.h("div",{class:"members"},r)}renderFooter(){return i.default.h("div",{class:"membersDialogFooter"},i.default.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:s,onUnassignAdmin:o}=this.props,{memberOptionsMenuOpenFor:r,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.default.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.default.h(d.a,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:r,canAssignAdmin:!n&&"user"!==e.role&&"user"===r.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===r.role,canTransferOwnership:!n&&a.H.canTransferOwnership(e),canRemoveFromProject:r.user._id!==e.user._id&&a.H.isSuperior(e,r,!0),canLeaveProject:r.user._id===e.user._id,onAssignAdmin:s,onUnassignAdmin:o,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.default.h(u.a,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.default.h(u.a,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.default.h(u.a,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{members:e,barrelUser:t,isOrganizationProject:n,organizationId:s}=this.props,{memberOptionsMenuOpenFor:r,removeMemberConfirmationDialog:l,transferOwnershipConfirmationDialog:c,leaveConfirmationDialog:d}=this.state,u=e.find(e=>"owner"===e.role);return i.default.h("div",{class:"membersDialog",ref:Object(o.a)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),u&&"free"===u.user.paymentPlan&&(u.user._id===t.user._id?this.renderUpgradeNowInfo():function(e){return i.default.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",e.user.username," to upgrade their plan and allow members to upload designs!")}(u)),n&&function(e){return i.default.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.default.h("a",{href:Object(a.P)("organization-dashboard",{url:{oid:e}})},"visit the organization dashboard"),".")}(s),this.renderMembers(),this.renderFooter(),r&&this.renderMemberOptionsMenu(),l&&this.renderRemoveMemberConfirmation(),c&&this.renderTransferOwnershipConfirmationDialog(),d&&this.renderLeaveConfirmationDialog())}render(){return i.default.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}},function(e,t,n){"use strict";var i=n(849);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(52);t.a=class extends i.default.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,menuContainer:t,clickOrigin:n,canAssignAdmin:a,canUnassignAdmin:o,canTransferOwnership:r,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.default.h(s.a.withAutoPosition,{class:u,onClose:d,autoPosition:{menuContainer:t,clickOrigin:n}},a&&i.default.h(s.a.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),o&&i.default.h(s.a.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),r&&i.default.h(s.a.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.default.h(s.a.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.default.h(s.a.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}},function(e,t){},function(e,t,n){"use strict";var i=n(852);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(8),r=n(1),l=n(18),c=n(5),d=n(9),u=n(359),h=n(853),p=n(856);n.n(p);const m=Object.freeze({WEB:"Web",APP:"App"});function g(e){const{type:t,link:n,onCopy:s}=e;let a;if(n)if(t===m.WEB){const e=new URL(n);a=e.host+e.pathname}else a=n;else a="Fetching";return i.default.h("div",{class:"shareBarrelLink"},i.default.h("div",{class:"type"},t,":"),i.default.h("div",{class:"link ellipsis",title:n},a),t===m.APP&&i.default.h("a",{href:n,class:"button secondary openButton"},"Open"),i.default.h(d.a,{class:"copyButton",onClick:s,primary:!0,disabled:!n},"Copy"))}function f(e){const{title:t,explanation:n}=e;return i.default.h("div",{class:"shareBarrelSubtitle"},i.default.h("div",{class:"title"},t),i.default.h("div",{class:"explanation"},n))}t.a=class extends i.default.Component{constructor(e){super(e),this.openSceneOptions=this.openSceneOptions.bind(this),this.closeSceneOptions=this.closeSceneOptions.bind(this),this.handleCopyShortURL=this.handleCopyShortURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleCopySceneURL=this.handleCopySceneURL.bind(this),this.handleUnshare=this.handleUnshare.bind(this),this.state={sceneOptionsOpen:!1}}openSceneOptions(){this.setState({sceneOptionsOpen:!0})}closeSceneOptions(){this.setState({sceneOptionsOpen:!1})}generateShortlinks(){const{barrelType:e,barrelId:t,sceneEnabled:n}=this.props,{shortlinks:i}=this.context,s=i[Object(r.P)(e,{url:{bid:t}})],a=e===l.a.PROJECT?"pid":"stid",o=`${c.E}//${e}?${a}=${t}`;let d;if(n){const n=Object(r.P)(e,{origin:c.t,url:{bid:t}});d=i[n]||n}this.setState({shortURL:s,appURI:o,sceneURL:d})}handleCopyShortURL(){const{shortURL:e}=this.state,{content:t}=this.nodeRefs;Object(o.c)({content:e,toastContainer:t})}handleCopyAppURI(){const{appURI:e}=this.state,{content:t}=this.nodeRefs;Object(o.c)({content:e,toastContainer:t})}handleCopySceneURL(e){e.stopPropagation();const{sceneURL:t}=this.state,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(o.c)({content:t,toastContainer:n})}handleUnshare(e){e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()}componentDidMount(){this.generateShortlinks()}componentDidUpdate(e){const{sceneEnabled:t}=this.props,{sceneEnabled:n}=e;n!==t&&this.generateShortlinks()}renderSceneSection(){const{barrelType:e,sceneEnabled:t,canChangeProjectAccesibility:n,onEnableScene:s}=this.props;if(e===l.a.STYLEGUIDE)return null;const{sceneURL:a,sceneOptionsOpen:o}=this.state;return[i.default.h(u.a,{key:"shareBarrelSeparator",class:"shareBarrelSeparator"}),i.default.h(f,{key:"sceneTitle",title:"Scene",explanation:"Everyone with the link"}),i.default.h(h.a,{key:"scene",sceneEnabled:t,optionsOpen:o,canChangeProjectAccesibility:n,sceneURL:a,onEnable:s,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions})]}render(){const{shortURL:e,appURI:t,sceneOptionsOpen:n}=this.state;return i.default.h("div",{class:"shareBarrel"},i.default.h("div",{class:Object(s.a)("content",{sceneOptionsOpen:n}),ref:Object(a.a)(this,"content")},i.default.h(f,{key:"shareTitle",title:"Share link",explanation:"Invited members only"}),i.default.h(g,{key:"barrelWebLink",type:m.WEB,link:e,onCopy:this.handleCopyShortURL}),i.default.h(g,{key:"barrelAppURI",type:m.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}},function(e,t,n){"use strict";var i=n(854);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(52),o=n(855);n.n(o);t.a=function(e){const{sceneEnabled:t,onEnable:n,sceneURL:o,canChangeProjectAccesibility:r,onOptionsOpen:l,optionsOpen:c}=e;return i.default.h("div",{class:"scene"},i.default.h("div",{class:"explanation"},"Showcase designs and Styleguide"),t?[i.default.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:o,target:"_blank"},"Open"),i.default.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:l},i.default.h("svg",{width:"24",height:"24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"6",cy:"12",r:"2"}),i.default.h("circle",{cx:"12",cy:"12",r:"2"}),i.default.h("circle",{cx:"18",cy:"12",r:"2"})))),c&&function(e){const{canChangeProjectAccesibility:t,onOptionsClose:n,onCopySceneURL:s,onUnshare:o}=e;return i.default.h(a.a,{class:"sceneOptions",onClose:n},i.default.h(a.a.Item,{onClick:s},"Copy link"),t&&i.default.h(a.a.Item,{onClick:o},"Unshare"))}(e)]:i.default.h(s.a,{class:"enableScene",onClick:n,disabled:!r,secondary:!0},"Enable"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(858);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(27),r=n(111),l=n(6),c=n(4),d=n(1),u=n(41),h=n(859);n.n(h);class p extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.a.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.default.h("div",{ref:Object(c.a)(this,"tooltip"),onClick:d.N,class:"densityTooltip"},i.default.h("div",{class:"tooltipContainer"},i.default.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.default.h("strong",null,i.default.h("em",null,'"resolution of the designs"')),".",i.default.h("br",null),i.default.h("br",null)),"android"===e&&i.default.h("div",null,"e.g. for a ",i.default.h("strong",null,"7201280px")," screen, you should select ",i.default.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.default.h("div",null,"e.g. for a ",i.default.h("strong",null,"6401136px")," screen, you should select ",i.default.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.default.h("div",null,"e.g. for a ",i.default.h("strong",null,"20481536px")," screen, you should select ",i.default.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.default.h("div",{class:"androidDensitySelection"},i.default.h("table",null,i.default.h("thead",null,i.default.h("tr",null,i.default.h("th",{colspan:"2"},"Phone"))),i.default.h("tbody",null,i.default.h("tr",null,i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"androidDensity",checked:!e||e===u.a.MDPI,onClick:this.handleChange,value:u.a.MDPI}),i.default.h("span",{class:"densityValue"},"mdpi"),i.default.h("span",{class:"densityResolution"},"360x640px"))),i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XHDPI,onClick:this.handleChange,value:u.a.XHDPI}),i.default.h("span",{class:"densityValue"},"xhdpi"),i.default.h("span",{class:"densityResolution"},"720x1280px")))),i.default.h("tr",null,i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"3",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.HDPI,onClick:this.handleChange,value:u.a.HDPI}),i.default.h("span",{class:"densityValue"},"hdpi"),i.default.h("span",{class:"densityResolution"},"480x800px"))),i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"4",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XXHDPI,onClick:this.handleChange,value:u.a.XXHDPI}),i.default.h("span",{class:"densityValue"},"xxhdpi"),i.default.h("span",{class:"densityResolution"},"1080x1920px")))),i.default.h("tr",null,i.default.h("td",null),i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"5",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XXXHDPI,onClick:this.handleChange,value:u.a.XXXHDPI}),i.default.h("span",{class:"densityValue"},"xxxhdpi"),i.default.h("span",{class:"densityResolution"},"1440x2560px")))))),i.default.h("table",null,i.default.h("thead",null,i.default.h("tr",null,i.default.h("th",{colspan:"2"},"Tablet"))),i.default.h("tbody",null,i.default.h("tr",null,i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"6",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.MDPI,onClick:this.handleChange,value:u.a.MDPI}),i.default.h("span",{class:"densityValue"},"mdpi"))),i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"7",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.XHDPI,onClick:this.handleChange,value:u.a.XHDPI}),i.default.h("span",{class:"densityValue"},"xhdpi")))),i.default.h("tr",null,i.default.h("td",null,i.default.h("label",null,i.default.h(r.a,{tabIndex:"8",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.HDPI,onClick:this.handleChange,value:u.a.HDPI}),i.default.h("span",{class:"densityValue"},"hdpi"))),i.default.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.default.h("div",{class:"webDensitySelection"},i.default.h("label",null,i.default.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"webDensity",checked:!e||e===u.a._1x,onClick:this.handleChange,value:u.a._1x}),i.default.h("span",{class:"densityValue"},"1x"),i.default.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.default.h("hr",null),i.default.h("label",null,i.default.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"webDensity",checked:e===u.a._2x,onClick:this.handleChange,value:u.a._2x}),i.default.h("span",{class:"densityValue"},"2x"),i.default.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.default.h("div",{class:"iosxDensitySelection"},i.default.h("label",{class:"noSelect"},i.default.h("div",{class:"densityRadio"},i.default.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"iosxDensity",checked:!e||e===u.a._1x,onClick:this.handleChange,value:u.a._1x}),i.default.h("span",{class:"densityValue"},"1x")),i.default.h("div",{class:"phoneFrames"},i.default.h("div",{class:"phoneFrame _320x480"},"320x480"),i.default.h("div",{class:"phoneFrame _320x568"},"320x568"),i.default.h("div",{class:"phoneFrame _375x667"},"375x667"),i.default.h("div",{class:"phoneFrame _414x736"},"414x736"),i.default.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.default.h("label",{class:"noSelect"},i.default.h("div",{class:"densityRadio"},i.default.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"iosxDensity",checked:e===u.a._2x,onClick:this.handleChange,value:u.a._2x}),i.default.h("span",{class:"densityValue"},"2x")),i.default.h("div",{class:"phoneFrames"},i.default.h("div",{class:"phoneFrame _640x960"},"640x960"),i.default.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.default.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.default.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.default.h("label",{class:"noSelect"},i.default.h("div",{class:"densityRadio"},i.default.h(r.a,{tabIndex:"3",class:"densityRadioButton",name:"iosxDensity",checked:e===u.a._3x,onClick:this.handleChange,value:u.a._3x}),i.default.h("span",{class:"densityValue"},"3x")),i.default.h("div",{class:"phoneFrames"},i.default.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.default.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.default.h(o.b,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.default.h("div",{class:"footer"},i.default.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.default.h("img",{src:Object(l.e)("img/icInfo.svg")}),"What I need to choose?"))},i.default.h("div",{ref:Object(c.a)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},i.default.h("h1",null,"Choose your screens densities"),i.default.h("div",{class:"densityChangeWarning"},i.default.h("img",{src:Object(l.e)("img/icWarning.svg"),alt:""}),i.default.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.default.h("br",null),i.default.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}p.propTypes={type:a.a.oneOf(["android","web","ios"]),selectedValue:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(861);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(27),r=n(6),l=n(4),c=n(1),d=n(862),u=n(41),h=n(866);n.n(h);class p extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.a._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.default.h("div",{ref:Object(l.a)(this,"tooltip"),onClick:c.N,class:"densityTooltip"},i.default.h("div",{class:"tooltipContainer"},i.default.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.default.h("strong",null,i.default.h("em",null,'"resolution of the designs"')),".",i.default.h("br",null),i.default.h("br",null)),i.default.h("div",null,"e.g. for a ",i.default.h("strong",null,"20481536px")," screen, you should select ",i.default.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.default.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.default.h("br",null),"Pick the density based on your artboard size."),i.default.h("div",{class:"densityDialogForm"},i.default.h(d.a,{text:Object(c.q)("base",u.a._1x),value:u.a._1x,checked:e===u.a._1x,divisor:u.a._1x,onChange:this.handleChange}),i.default.h(d.a,{text:Object(c.q)("base",u.a._2x),value:u.a._2x,checked:e===u.a._2x,divisor:u.a._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.default.h(o.b,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.default.h("div",{class:"footer"},i.default.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.default.h("img",{src:Object(r.e)("img/icInfo.svg")}),"Learn more"))},i.default.h("div",{ref:Object(l.a)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}p.propTypes={selectedValue:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=p},function(e,t,n){"use strict";var i=n(863);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(111),a=n(864),o=n(865);n.n(o);t.a=function(e){const{text:t,description:n,value:o,divisor:r,unit:l,checked:c,onChange:d}=e;return i.default.h("div",{class:"densityDialogOption"},i.default.h("label",{class:"densityRadio"},i.default.h(s.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.default.h("span",{class:"densityValue"},t),n&&i.default.h("span",{class:"densityAdditionalDescription"},n)),c&&i.default.h("div",{class:"densityOptionBody"},i.default.h(a.a,{divisor:r,targetUnit:l})))}},function(e,t,n){"use strict";var i=n(0);t.a=function({divisor:e,targetUnit:t="px"}){return i.default.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.default.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.default.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.default.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.default.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.default.h("tspan",{x:"24.506",y:"11"},"120")," ",i.default.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.default.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.default.h("tspan",{x:"75",y:"37"},"60")," ",i.default.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.default.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.default.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.default.h("tspan",{x:"0",y:"24"},"")),i.default.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.default.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.default.h("svg",{width:"60",x:"160",y:"-18.67"},i.default.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.default.h("tspan",null,120/e)," ",i.default.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.default.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.default.h("tspan",{x:"224",y:"37"},60/e)," ",i.default.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.default.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.default.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.default.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.default.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.default.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.default.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.default.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.default.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.default.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(868);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(52),a=n(359),o=n(360),r=n(62),l=n(4),c=n(249),d=n(1),u=n(869);n.n(u);t.a=class extends i.default.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}`}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.default.h(r.a,{targetNode:this.nodeRefs.settingsButton,content:i.default.h(c.f,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,a=e?[t&&i.default.h(s.a.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.default.h(s.a.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.default.h(s.a.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.default.h(s.a,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},a)}render(){const{selectableStyleguides:e,parentNames:t}=this.props,{selectParentPopupOpen:n,menuOpen:s}=this.state,{barrelUser:r}=this.context,c=d.H.canUpdateStyleguide(r),u=!!e.length,h=!!t.length;return i.default.h("div",null,i.default.h(o.a,{title:"Parent Styleguide",buttonRef:Object(l.a)(this,"settingsButton"),onSettingsButtonClick:this.openParentStyleguidesMenu,settingsButtonDisabled:!c,withSettingsButton:u}),i.default.h("div",{class:"parentStyleguidesContainer"},s&&this.renderContextMenu(h,u),i.default.h("p",{ref:Object(l.a)(this,"textContainer")},h?t.join("  "):"No parent styleguides.")),i.default.h(a.a,null),n&&this.renderSelectParentPopup(e))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(9),o=n(873),r=n(878),l=n(128),c=n(22),d=n(93),u=n(251),h=n(2),p=n(4),m=n(6),g=n(8),f=n(1),b=n(17),y=n(881);n.n(y);const v="http://127.0.0.1:7070";function S({organizationId:e}){return i.default.h("div",{class:"noExtensions"},i.default.h("h2",null,"No added extensions yet",i.default.h("img",{src:Object(m.e)("img/emjAlembic.png"),srcSet:`${Object(m.e)("img/emjAlembic@2x.png")} 2x, ${Object(m.e)("img/emjAlembic@3x.png")} 3x`})),i.default.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),"Looks like you dont have any extensions enabled on this project.",i.default.h("br",null),i.default.h("br",null),"Pick the ones that fit your workflow."),i.default.h("a",{href:Object(f.s)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}class C extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:s}=this.nodeRefs;i||(n&&!e||t?Object(g.g)(s):s.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(g.n)(e),Object(g.g)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t=`http://${t}`),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:s,invalidUrl:a}=this.state,o=n&&!e,r=s&&!a,l=o||t||a;let c;return a?c="Enter a valid URL.":t?c=`${e.name} is already added.`:e?c=`Found ${e.name}.`:o&&(c="No extension found."),i.default.h("p",{class:Object(h.a)("info",{warning:l,invisible:r})},c)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:s}=this.props,{urlChanged:o,invalidUrl:r}=this.state,c=r||!o&&(n&&!e||t);return i.default.h("div",{ref:Object(p.a)(this,"base"),class:"localExtensionPopup",onClick:f.N},i.default.h("div",null,i.default.h("p",null,"Enter extension URL:"),i.default.h(l.a,{inputRef:Object(p.a)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.default.h("div",{class:"footer"},i.default.h(a.a,{class:"cancel",onClick:s},"CANCEL"),i.default.h(a.a,{class:"done",onClick:this.handleAddClick,disabled:c},"ADD")))}}class E extends i.default.Component{constructor(e){super(e),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.removeExtension=this.removeExtension.bind(this),this.updateExtensionOption=this.updateExtensionOption.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.addLocalExtension=this.addLocalExtension.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}addLocalExtension(e){const{extensions:t,addLocalExtension:n}=this.props;u.a.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}close(){c.b.closeExtensionSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}removeExtension(){const e=new URL(Object(f.s)()),t=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelId:n,barrelType:i,removeExtension:s}=this.props;t.local?s(n,i,t.id,!0):b.a({title:`Remove ${t.name} from ${i}?`,message:`Extension will be removed for all members of this ${i}. You can add it back from ${e.hostname}.`,done:{name:"REMOVE",cb:()=>{s(n,i,t.id)}},cancel:{name:"KEEP"}})}showAddLocalExtensionPopup(){const e=v;u.a.createLocal(e).then(t=>{const n={localExtensionPopupVisible:!0};this.props.extensions.some(e=>e.id===t.id)||Object.assign(n,{localExtensionUrl:e,localExtension:t}),this.setState(n)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}updateExtensionOption(e,t){this.props.updateExtensionOption(this.state.selectedExtensionId,e,t)}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleBackdropClick(e){e.stopPropagation(),this.close()}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC?(e.stopPropagation(),this.close()):e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){return e?i.default.h(r.a,{onChange:this.updateExtensionOption,name:e.name,description:e.description,author:e.author,repository:e.repository,url:e.url,options:e.options,local:e.local}):this.props.extensions.length?i.default.h(o.a,{extensions:this.props.extensions,onEnable:this.props.enableExtension,onDisable:this.props.disableExtension,onSettingsClick:this.showSettings}):i.default.h(S,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,class:t,canRemoveExtensions:n,organizationId:s}=this.props,{localExtension:o,localExtensionUrl:r,localExtensionPopupVisible:l,selectedExtensionId:c,altPressed:d}=this.state,u=o&&e.some(e=>e.id===o.id),g=e.find(e=>e.id===c);return i.default.h("div",{class:"extensionDialogBackdrop",onClick:this.handleBackdropClick},i.default.h("div",{class:Object(h.a)("extensionDialog",t),onClick:f.N,ref:Object(p.a)(this,"extensionDialog")},i.default.h("div",{class:"header"},g&&i.default.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"backLink"},i.default.h("img",{src:Object(m.e)("img/icNavUp.svg")}),i.default.h("span",null,"Extensions")),i.default.h("h2",null,g?g.name:"Extensions"),d||l?i.default.h(a.a,{class:"addLocalExtension",disabled:l,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.default.h("a",{href:Object(f.s)({organizationId:s}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.default.h("div",{class:"main"},this.renderContent(g),l&&i.default.h(C,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:r,alreadyAdded:u,onAdd:this.addLocalExtension,onClose:this.hideLocalExtensionPopup,extension:o})),i.default.h("div",{class:"footer"},g&&(g.local||n)&&i.default.h(a.a,{key:"remove",class:"remove",onClick:this.removeExtension},"REMOVE"),i.default.h(a.a,{key:"done",class:"done",onClick:this.close},"DONE"))))}}t.a=Object(s.a)(class extends i.default.Component{static calculateState(e,t){const n=d.b.getState(),i=n.extensions.map(e=>({id:e.id,default:e.default,enabled:n.enabledExtensions[n.barrelType].includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(f.s)({extension:e}),repository:e.repository,options:e.optionsSchema.map(t=>Object.assign({},t,{value:e.getOption(t.id)})),local:e.local})),{barrelId:s,barrelUser:a,extensionId:o,barrelType:r,organizationId:l}=c.d.getState();return{barrelId:s,barrelType:r,organizationId:l,selectedExtensionId:o,canRemoveExtensions:f.H.canRemoveExtensions(a),extensions:i,visible:!0,addLocalExtension:d.a.addLocalExtension,removeExtension:d.a.removeExtension,updateExtensionOption:d.a.updateExtensionOption,enableExtension:d.a.enableExtension,disableExtension:d.a.disableExtension}}static getStores(){return[c.d,d.b]}render(){return i.default.h(E,this.state)}},{withProps:!0})},function(e,t,n){"use strict";var i=n(874);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(73),o=n(614),r=n(616),l=n(2),c=n(6),d=n(1),u=n(877);n.n(u);const h=".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}";function p(){return i.default.h("div",{class:"extensionPreview"},i.default.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.default.h("a",{href:Object(d.s)(),target:"_blank",rel:"noopener"},"Learn more")),i.default.h("div",{class:"snippetExample"},i.default.h("div",{class:"sampleButtonWithArrow"},i.default.h("img",{src:Object(c.e)("img/icCurvedArrow.svg")}),i.default.h("div",{class:"sampleButton"},"Button")),i.default.h(o.a,{lang:"css",class:"sampleCode",content:h,asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class m extends i.default.Component{constructor(e){super(e),this.handleEnabledChange=this.handleEnabledChange.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this)}handleEnabledChange(e){(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}handleSettingsClick(){this.props.onSettingsClick(this.props.id)}render(){const{name:e,author:t,repository:n,description:o,url:d,local:u,loaded:h,enabled:p}=this.props,m=[].concat(t.url,n).filter(Boolean).map(e=>{const t=Object(r.a)(e);return i.default.h("a",{key:t.text,href:t.url,target:"_blank",rel:"noopener"},t.text)});return m.length>1&&m.splice(1,0,"  "),i.default.h("div",{class:"extensionListItem"},u&&i.default.h("div",{class:"localExtensionInfo"},i.default.h("img",{src:Object(c.e)("img/emjConstructionTeyze.png"),srcSet:`${Object(c.e)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(c.e)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.default.h("label",null,i.default.h(a.a,{onChange:this.handleEnabledChange,checked:p}),i.default.h("div",{class:"extensionInfo"},i.default.h("div",null,i.default.h("span",{class:"name"},e),i.default.h("span",{class:"author"},t.displayName)),h?i.default.h("span",{class:"description"},o):i.default.h("span",{class:"error"},"Fetching extension failed"),i.default.h("span",{class:"links"},m))),i.default.h("a",{class:Object(l.a)("readmeLink",{invisible:u}),href:d,target:"_blank",rel:"noopener"},i.default.h("img",{src:Object(c.e)("img/icReadme.svg")})),i.default.h(s.a,{class:"settingsButton",onClick:this.handleSettingsClick},i.default.h("img",{src:Object(c.e)("img/icExtensionSettings.svg")})))}}t.a=function(e){const t=e.extensions.map(t=>i.default.h(m,{onEnable:e.onEnable,onDisable:e.onDisable,onSettingsClick:e.onSettingsClick,key:t.id,id:t.id,name:t.name,description:t.description,author:t.author,url:t.url,repository:t.repository,enabled:t.enabled,loaded:t.loaded,local:t.local}));return i.default.h("div",{class:"projectExtensions"},i.default.h(p,null),t)}},function(e,t,n){"use strict";var i=n(0),s=n(615),a=n.n(s),o=n(2),r=n(876);n.n(r);t.a=class extends i.default.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;!function(e){return e&&!!a.a.languages[e]}(n)?this.setState({lines:e.content.split("\n")}):function(e,t,n){return n?new Promise((n,i)=>{try{a.a.tokenizeFlat(e,a.a.languages[t],!0,e=>{n(e)})}catch(e){i(e)}}):Promise.resolve(a.a.tokenizeFlat(e,a.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:function(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:s,lineIndicator:a,style:r}=e,{lines:l=[]}=t,c=Object(o.a)("code",n,{lineIndicator:a});return i.default.h("pre",{class:c},i.default.h("code",{class:`language-${s}`,style:r},l.map((e,t)=>i.default.h("span",{key:t,class:"lineWrapper"},i.default.h("span",{class:"lineno"}),i.default.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.default.h("span",{class:`token ${e.type}`},e.content)):e)))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(879);t.a=i.a},function(e,t,n){"use strict";t.a=function(e){const{author:t,repository:n,description:s,url:a,local:o,options:c,onChange:p}=e,m=c.map(e=>{let t;switch(e.type){case"picker":t=d;break;case"switch":t=u;break;case"text":t=h;break;default:return null}return i.default.h(t,Object.assign(e,{onChange:p}))}).filter(Boolean),g=[].concat(t.url,n).filter(Boolean).map(e=>{const t=Object(l.a)(e);return i.default.h("a",{key:t.text,href:t.url,target:"_blank",rel:"noopener"},t.text)});g.length>1&&g.splice(1,0,"  ");return i.default.h("div",{class:"extensionSettings"},i.default.h("div",{class:"extensionInfo"},i.default.h("div",null,o&&i.default.h("div",{class:"localExtensionInfo"},i.default.h("img",{src:Object(r.e)("img/emjConstructionTeyze.png"),srcSet:`${Object(r.e)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(r.e)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.default.h("div",{class:"author"},t.displayName),i.default.h("div",{class:"description"},s),i.default.h("div",{class:"links"},g)),!o&&i.default.h("a",{class:"readmeLink",href:a,target:"_blank",rel:"noopener"},i.default.h("img",{src:Object(r.e)("img/icReadme.svg")}))),m.length>0&&i.default.h("h3",null,"Settings"),m)};var i=n(0),s=n(176),a=n(73),o=n(128),r=n(6),l=n(616),c=n(880);n.n(c);class d extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.default.h("div",{class:"option"},i.default.h("span",{class:"name"},t),i.default.h(s.a,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.default.h(s.a.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class u extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.default.h("label",{class:"option"},i.default.h("span",{class:"name"},e),i.default.h(a.a,{name:t,onChange:this.handleChange,checked:n}))}}class h extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.default.h("label",{class:"option"},i.default.h("span",{class:"name"},e),i.default.h(o.a,{onBlur:this.handleChange,value:t,placeholder:"Lets find a placeholder"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(883);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(18),a=n(1),o=n(362),r=n(363),l=n(281),c=n(884),d=n(86),u=n(131),h=n(65),p=n(123),m=n(39);const g=Object.freeze({about:"About",colors:"Color Palette",textStyles:"Text Style Catalog",components:"Components"});function f(e){return e.map(({_id:e,name:t,colors:n,textStyles:i,componentSections:s})=>({id:e,name:t,colors:n,textStyles:i,componentSections:s}))}t.a=Object(m.a)(class extends i.default.Component{constructor(e){super(e),this.handleSectionChange=this.handleSectionChange.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this),this.handleComponentSelect=this.handleComponentSelect.bind(this),this.handleComponentsVisible=this.handleComponentsVisible.bind(this),this.handleStyleguideLink=this.handleStyleguideLink.bind(this),this.handleStyleguideUnlink=this.handleStyleguideUnlink.bind(this)}static calculateState(){const e=d.b.getState(),{suggestedResourcesByBarrel:t}=u.d.getState(),{userId:n,paymentPlan:i}=p.b.getState();return Object.assign({},e,{suggestedResourcesByBarrel:t,userId:n,paymentPlan:i})}static getStores(){return[d.b,u.d,p.b]}slugPrefix(){const{barrelType:e}=this.props;return e===s.a.PROJECT?"project-styleguide":"styleguide"}handleSectionChange(e){const{barrel:{id:t}}=this.props;d.a.changeSelectedStyleguideSection({selectedStyleguideSection:e}),window.history.replaceState({},`${g[e]} - Styleguide - Zeplin`,Object(a.P)(`${this.slugPrefix()}-${e.toLowerCase()}`,{url:{bid:t}}))}handleSectionNavigatorClick(e,t){const{barrel:{id:n}}=this.props;d.a.changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}),window.history.replaceState({},`${g[e]} - Styleguide - Zeplin`,Object(a.P)(`${this.slugPrefix()}-${e.toLowerCase()}`,{url:{bid:n},query:{seid:t}}))}handleComponentSelect(e,t){const{barrel:{id:n}}=this.props,{selection:i}=this.state,s=e?t:null;if(!i&&!s||i&&s&&i._id===s._id)return;let o;d.a.changeSelection({selectionComponentId:e,selection:s}),e&&(o={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(a.P)(`${this.slugPrefix()}-components`,{url:{bid:n},query:o}))}handleComponentsVisible(e){const{barrel:t,barrelUser:n,organizationTransitionFinished:i}=this.props;if("pawn"===n.role&&i)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void d.a.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(e=>Object(o.c)(t,e.latestVersion.fullSnapshotUrl).then(n=>{const{density:i,densityScale:s=Object(a.p)(i)}=n,r=s!==t.densityScale;return e.latestVersion.snapshot=n,n.assets.map(i=>(Object.assign(i,{densityMismatch:r}),Object(o.a)(t.id,e._id,n,i)))}))).then(e=>{d.a.componentSnapshotsReady()})}handleStyleguideLink(e){const{barrel:t,organizationId:n}=this.props;h.b.linkProjectToStyleguideRequest({project:t,styleguide:e,oid:n,syncWithApi:!0})}handleStyleguideUnlink(e){const{barrel:{_id:t},organizationId:n}=this.props;h.b.unlinkProjectFromStyleguide({pid:t,styleguide:e,oid:n,syncWithApi:!0})}getChildContext(){const{userId:e,paymentPlan:t}=this.state,{loading:n,barrelType:i,barrel:s,assetDensityScalePrefs:o,assetNamingConvention:r,showOptimizedSVG:l,bitmapInfoHidden:c,densityWarningHidden:d,barrelUser:u,organizationId:h}=this.props;if(n)return{};const{id:p,type:m,densityScale:g,dimensionSuffix:f,styleguideLink:b}=s;return{assetDensityScalePrefs:o,assetNamingConvention:r,showOptimizedSVG:l,bitmapInfoHidden:c,densityWarningHidden:d,densityScale:g,dimensionSuffix:f,barrelType:i,barrelId:p,projectId:p,projectType:m,barrelUser:u,organizationId:h,userRole:u.role,hasLinkedStyleguide:!!b,currentUserId:e,currentUserPaymentPlan:t,permissions:{canManageProject:a.H.canUpdateProject(u),canManageStyleguide:a.H.canUpdateStyleguide(u),canManageColors:a.H.canManageColors(u),canManageScreens:a.H.canManageColors(u),canManageTextStyles:a.H.canManageTextStyles(u)}}}render(){const{barrelType:e,barrel:t,linkedStyleguides:n,descriptionFormatter:a,showSlackReconnectionAuntie:o,loading:u,loadingSelectParent:h,linkingProjectToStyleguide:p,assetExportTarget:m,onExportClick:g,currentOrganizationProjects:b,currentOrganizationStyleguides:y}=this.props;if(u)return null;const{leftSidebarWidth:v,rightSidebarWidth:S,selectedStyleguideSection:C,selectedNavigatorId:E,highlightedColors:k,highlightedTextStyles:O,scrolledSection:D,highlightScrolledSection:w,sortType:j,filterValue:T,moveResourcesPopup:_,selectionComponentId:x,selection:R,suggestedResourcesByBarrel:I,showSuggestedResourcesBadge:P}=this.state,{id:L,colors:A,textStyles:N,componentSections:M}=t,U=new l.a(t),B={id:L,name:"Local Styleguide",colors:A,textStyles:N,componentSections:M},z=[...n].reverse(),F=e===s.a.PROJECT?[B,...f(z)]:f([t,...z]),{barrelId:H,component:q}=Object(r.a)(F,x);let V=R;return!V&&q&&(V=q),i.default.h(c.a,{loadingSelectParent:h,linkingProjectToStyleguide:p,styleguides:F,barrelType:e,barrel:t,currentOrganizationProjects:b,currentOrganizationStyleguides:y,leftSidebarWidth:v,rightSidebarWidth:S,selectedStyleguideSection:C,selectedNavigatorId:E,scrolledSection:D,highlightScrolledSection:w,highlightedColors:k,highlightedTextStyles:O,selectionStyleguideId:H,selectionComponent:q,selection:V,sortType:j,filterValue:T,assetExportTarget:m,formatter:U,descriptionFormatter:a,showSlackReconnectionAuntie:o,loading:u,suggestedResources:I[L],showSuggestedResourcesBadge:P,onLeftSidebarRelease:d.a.changeLeftSidebarWidth,onSectionChange:this.handleSectionChange,onSectionNavigatorClick:this.handleSectionNavigatorClick,onSort:d.a.changeSortType,onFilter:d.a.changeFilterValue,onComponentSelect:this.handleComponentSelect,onComponentsVisible:this.handleComponentsVisible,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:_,onExportClick:g})}},{withProps:!0,pure:!1})},function(e,t,n){"use strict";var i=n(885);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(4),o=n(2),r=n(132),l=n(886),c=n(892),d=n(919),u=n(942),h=n(953),p=n(9),m=n(62),g=n(249),f=n(1068),b=n(1074),y=n(1079);n.n(y);function v({children:e,baseRef:t,compact:n,overlapped:s}){const a=Object(o.a)("sidebarBottom",{compact:n,overlapped:s});return i.default.h("div",{class:a,ref:t},e.map(e=>"string"==typeof e?e:i.default.cloneElement(e,{compact:n})))}t.a=class extends i.default.Component{constructor(e){super(e),this.handleRepeatedClick=this.handleRepeatedClick.bind(this),this.handleLinkStyleguideSelect=this.handleLinkStyleguideSelect.bind(this),this.handleResize=this.handleResize.bind(this),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToStyleguidePopup=this.closeLinkToStyleguidePopup.bind(this),this.state={linkToStyleguidePopupVisible:!1,targetLinkButton:null}}openLinkPopup(e){this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}openLinkPopupAtTargetNode(e){this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}closeLinkToStyleguidePopup(){this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}handleLinkStyleguideSelect(e){const{onStyleguideLink:t}=this.props;t(e)}handleRepeatedClick(){const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}handleResize(){requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:n,sidebarBottomHeight:n?e.clientHeight:0})})}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderStyleguideSections(){const{barrelType:e,styleguides:t,selectedStyleguideSection:n,selectedNavigatorId:o,onSectionChange:r,onSectionNavigatorClick:c,suggestedResources:d={colors:[],textStyles:[]},showSuggestedResourcesBadge:u}=this.props,h=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],componentSections:a=[]})=>({id:e,name:t,has:{colors:!!n.length,textStyles:!!i.length,components:!!Object(s.e)(a).length},componentTree:function e(t){return t.map(({_id:t,name:n,componentSections:i=[]})=>({id:t,title:n,content:n,children:e(i)}))}(a.slice(1))})),p={colors:!!d.colors.length&&"colors"!==n&&u.colors,textStyles:!!d.textStyles.length&&"textStyles"!==n&&u.colors};return i.default.h(l.a,{baseRef:Object(a.a)(this,"styleguideSections"),barrelType:e,styleguideData:h,selectedStyleguideSection:n,selectedNavigatorId:o,onSectionChange:r,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:c,showBadge:p})}renderAbout(){const{styleguides:e,barrel:t,loading:n,loadingSelectParent:s,showSlackReconnectionAuntie:o,rightSidebarWidth:r,currentOrganizationProjects:l,currentOrganizationStyleguides:d}=this.props,[{colors:u}]=e;return i.default.h(c.a,{ref:Object(a.a)(this,"about","componentRefs"),barrel:t,colors:u,currentOrganizationProjects:l,currentOrganizationStyleguides:d,showSlackReconnectionAuntie:o,loading:n,loadingSelectParent:s,sidebarWidth:r})}renderColorPalette(){const{barrel:e,moveResourcesPopup:t,styleguides:n,rightSidebarWidth:s,scrolledSection:o,highlightScrolledSection:r,highlightedColors:l,onExportClick:c,suggestedResources:{colors:u=[]}={}}=this.props,h=n.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));return i.default.h(d.a,{ref:Object(a.a)(this,"colors","componentRefs"),moveResourcesPopup:t,barrel:e,onLinkStyleguide:this.openLinkPopupAtTargetNode,colorsData:h,scrolledSection:o,suggestedColors:u,highlightScrolledSection:r,highlightedColors:l,sidebarWidth:s,onExportClick:c})}renderTextStyleCatalog(){const{barrel:e,moveResourcesPopup:t,styleguides:n,scrolledSection:s,highlightScrolledSection:o,highlightedTextStyles:r,rightSidebarWidth:l,formatter:c,onExportClick:d,suggestedResources:{textStyles:h=[]}={}}=this.props,p=n.filter(({textStyles:{length:e}=[]})=>e).map(({id:e,name:t,textStyles:n})=>({id:e,name:t,textStyles:n}));return i.default.h(u.a,{ref:Object(a.a)(this,"textStyles","componentRefs"),moveResourcesPopup:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,barrel:e,textStylesData:p,suggestedTextStyles:h,scrolledSection:s,highlightScrolledSection:o,highlightedTextStyles:r,sidebarWidth:l,formatter:c,onExportClick:d})}renderComponents(){const{barrel:e,moveResourcesPopup:t,styleguides:n,rightSidebarWidth:s,formatter:o,descriptionFormatter:r,selectionStyleguideId:l,selectionComponent:c,selection:d,scrolledSection:u,highlightScrolledSection:p,sortType:m,filterValue:g,assetExportTarget:f,onExportClick:b,onSort:y,onFilter:v,onComponentsVisible:S,onComponentSelect:C}=this.props,E=n.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n})),k=n.filter(({textStyles:{length:e}=[]})=>e).map(({id:e,name:t,textStyles:n})=>({id:e,name:t,textStyles:n})),O=n.filter(({componentSections:{length:e}=[]})=>e);return i.default.h(h.a,{ref:Object(a.a)(this,"components","componentRefs"),moveResourcesPopup:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,barrel:e,componentsData:O,colorsData:E,textStylesData:k,sidebarWidth:s,formatter:o,descriptionFormatter:r,selectionStyleguideId:l,selectionComponent:c,selection:d,scrolledSection:u,highlightScrolledSection:p,sortType:m,filterValue:g,assetExportTarget:f,onExportClick:b,onSort:y,onFilter:v,onComponentsVisible:S,onSelect:C})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase()){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"components":return this.renderComponents()}}renderSidebarBottom(){const{permissions:{canManageProject:e},organizationId:t}=this.context,{barrel:n,barrelType:s,currentOrganizationStyleguides:o,onStyleguideUnlink:r}=this.props;if("styleguide"===s)return null;let l;if(n.styleguideLink){const{styleguide:e,styleguide:{_id:t},status:s}=n.styleguideLink;let a=o.find(({_id:e})=>e===t);a||(a=e),l=i.default.h(f.a,{key:"info",parentStyleguide:a,linkStatus:s,onUnlink:r})}else{if("user"!==t&&!e)return null;l=i.default.h(p.a,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide")}const{sidebarContentOverlapped:c}=this.state;return i.default.h(v,{baseRef:Object(a.a)(this,"sidebarBottom"),overlapped:c},l)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:s}=this.state,{barrel:a,currentOrganizationStyleguides:o,linkingProjectToStyleguide:r}=this.props;if(!n)return null;const l=a.users.find(e=>"owner"===e.role),c=o.filter(e=>["base",a.type].includes(e.type)&&"active"===e.status);let d=i.default.h(g.f,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:r,loading:!!r});return"user"===t?l.user._id!==e?d=i.default.h(g.e,{projectOwnerName:l.user.username}):c.length||(d=i.default.h(g.d,null)):c.length||(d=i.default.h(g.d,{hasOrganization:!0})),i.default.h(m.a,{targetNode:s,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t}=this.props,{sidebarBottomHeight:n}=this.state;return i.default.h("div",{class:"styleguide"},i.default.h(r.a,{baseRef:Object(a.a)(this,"sidebar"),minWidth:100,paddingBottom:n,initialWidth:e,resizingSide:"right",onClick:s.N,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.default.h(b.a,null))}}},function(e,t,n){"use strict";var i=n(887);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:o,selectedNavigatorId:c,onSectionChange:d,onRepeatedClick:u,onSectionNavigatorClick:h,baseRef:p,showBadge:m}=e,g=t===a.a.PROJECT?l.slice(1):l;return i.default.h("div",{ref:p,class:"styleguideSections"},g.map(({name:e,value:t})=>i.default.h(s.a,{key:t,icon:r[t],name:e,value:t,selected:o===t,selectedNavigatorId:c,styleguideData:n,onChange:d,onRepeatedClick:u,onSectionNavigatorClick:h,showBadge:m[t]})))};var i=n(0),s=n(888),a=n(18),o=n(891);n.n(o);const r={about:i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{class:"filled",d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"})),colors:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{class:"filled",d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})),textStyles:i.default.h("svg",{width:"22",height:"24",viewBox:"0 0 22 24"},i.default.h("path",{class:"filled",d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})),components:i.default.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},i.default.h("path",{class:"outline",fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))},l=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Components",value:"components"}]},function(e,t,n){"use strict";var i=n(889);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(361),o=n(890);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}handleChange(){const{value:e,onChange:t}=this.props;t(e)}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:s}=this.props;if(1===n.length&&"components"!==e)return null;let o,r="";switch(e){case"colors":case"textStyles":o=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?o=n[0].componentTree:(r="linkedStyleguideTree",o=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t,componentTree:n})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:n})));break;default:return null}return i.default.h(a.a,{class:["styleguideTree",r],nodeClass:"styleguideNode",nodePadding:10,tree:o,selectedNodeId:t?s:null,onNodeSelect:this.handleSectionNavigatorClick})}render(){const{icon:e,name:t,value:n,selected:a,showBadge:o}=this.props;return i.default.h("div",{class:Object(s.a)("styleguideSection",{selected:a,showBadge:o})},i.default.h("label",{onClick:this.handleClick},i.default.h("span",{title:t},i.default.h("input",{type:"radio",name:"styleguideSection",value:n,checked:a,onChange:this.handleChange}),e,i.default.h("span",{class:"name noSelect ellipsis"},t),o&&i.default.h("div",{class:"badge"},i.default.h("div",null)))),this.renderInstances())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(893);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(4),o=n(22),r=n(86),l=n(93),c=n(65),d=n(896);t.a=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.goToTop=this.goToTop.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleLinkProject=this.handleLinkProject.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.state={editing:!1}}static calculateState(e){const t=l.b.getState();let n,i;if(t.initialized){n=!0;const e=t.extensions.filter(({id:e})=>t.enabledExtensions[t.barrelType].includes(e)).map(({name:e})=>e);if(e.length)if(e.length>1){const t=e.pop();i=`${e.join(", ")}, and ${t}`}else i=e[0];else i="No extensions yet."}else n=!1,i="";return{extensionsLoaded:n,extensionTitles:i}}static getStores(){return[l.b]}goToTop(){const{about:e}=this.nodeRefs;e.scrollTop=0}handleEditDescription(){this.setState({editing:!0})}handleUpdateDescription(e){this.setState({editing:!1}),o.b.updateDescription({description:e,syncWithApi:!0})}handleCancelDescription(){this.setState({editing:!1})}handleLinkProject(e){const{organizationId:t}=this.context,{barrel:n,currentOrganizationProjects:i}=this.props,s=i.find(t=>t._id===e);c.b.linkProjectToStyleguideRequest({project:s,styleguide:n,oid:t})}handleUnlinkProject(e){const{organizationId:t}=this.context,{barrel:n}=this.props;c.b.unlinkProjectFromStyleguide({pid:e,styleguide:n,oid:t,syncWithApi:!0})}getChildContext(){const{permissions:e}=this.context,{colors:t}=this.props;return{permissions:e,projectColors:t}}render(){const{barrel:e,loadingSelectParent:t,showSlackReconnectionAuntie:n,loading:s,sidebarWidth:o,currentOrganizationProjects:l,currentOrganizationStyleguides:c}=this.props,{editing:u,extensionTitles:h,extensionsLoaded:p}=this.state;return i.default.h(d.a,{nodeRef:Object(a.a)(this,"about"),barrel:e,loadingSelectParent:t,editing:u,showSlackReconnectionAuntie:n,loading:s,extensionsLoaded:p,extensionTitles:h,sidebarWidth:o,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:r.a.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:l,currentOrganizationStyleguides:c})}})},function(e,t,n){"use strict";var i=n(253),s=n(126);const a={updateState(e){i.a.dispatch({type:s.a.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){i.a.dispatch({type:s.a.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){i.a.dispatch({type:s.a.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){i.a.dispatch({type:s.a.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){i.a.dispatch({type:s.a.CHANGE_FILTER_VALUE,filterValue:e})},changeSelectedStyleguideSection({selectedStyleguideSection:e}){i.a.dispatch({type:s.a.CHANGE_SELECTED_STYLEGUDE_SECTION,selectedStyleguideSection:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){i.a.dispatch({type:s.a.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},highlightColors(e){i.a.dispatch({type:s.a.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){i.a.dispatch({type:s.a.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){i.a.dispatch({type:s.a.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){i.a.dispatch({type:s.a.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},sectionScrolled(){i.a.dispatch({type:s.a.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t}){i.a.dispatch({type:s.a.CHANGE_SELECTION,selectionComponentId:e,selection:t})},componentSnapshotsReady(){i.a.dispatch({type:s.a.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){i.a.dispatch({type:s.a.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){i.a.dispatch({type:s.a.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({data:e,resourceType:t,targetNode:n}){i.a.dispatch({type:s.a.OPEN_MOVE_RESOURCES_POPUP,data:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){i.a.dispatch({type:s.a.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){i.a.dispatch({type:s.a.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){i.a.dispatch({type:s.a.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})}};t.a=a},function(e,t,n){"use strict";var i=n(24),s=n(1),a=n(16),o=n(18),r=n(126),l=n(253),c=n(22),d=n(49),u=n(42),h=n(10),p=n(20);const m=Object.freeze({project:d.c,styleguide:u.c});function g(){const{organizationId:e,barrelId:t,barrelType:n}=c.d.getState();if(!e)return null;const{[`${n}s`]:i}=m[n].getState(),s=i[e];return s?s[t]:null}const f={changeLeftSidebarWidth(e){const{id:t}=g();i.b.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=g();i.b.set(t,"styleguideRightSidebarWidth",e)}};l.a.register(e=>{switch(e.type){case r.a.CHANGE_LEFT_SIDEBAR_WIDTH:f.changeLeftSidebarWidth(e.leftSidebarWidth);break;case r.a.CHANGE_RIGHT_SIDEBAR_WIDTH:f.changeRightSidebarWidth(e.rightSidebarWidth)}});const b={setComponentShortlink(e){if(!e)return;const{barrelId:t,barrelType:n,shortlinks:i}=c.d.getState(),r=n===o.a.PROJECT?"project-styleguide-components":"styleguide-components",l=Object(s.P)(r,{url:{bid:t},query:{coid:e}});l in i||a.generateShortlink(l).then(e=>{c.b.setShortlink(l,e)})},sendHideColorsToElectron({barrelId:e,colors:t}){Object(p.g)()&&h.a.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){Object(p.g)()&&h.a.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};c.c.register(e=>{switch(e.type){case c.a.LOAD:e.styleguide&&e.styleguide.selectionComponentId&&b.setComponentShortlink(e.styleguide.selectionComponentId)}}),l.a.register(e=>{switch(e.type){case r.a.CHANGE_SELECTION:b.setComponentShortlink(e.selectionComponentId);break;case r.a.HIDE_SUGGESTED_COLORS:b.sendHideColorsToElectron(e);break;case r.a.HIDE_SUGGESTED_TEXT_STYLES:b.sendHideTextStylesToElectron(e)}})},function(e,t,n){"use strict";var i=n(897);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(595),o=n(9),r=n(254),l=n(900),c=n(903),d=n(255),u=n(915),h=n(62),p=n(4),m=n(18),g=n(918);n.n(g);const f="# Title\n\nDescription";class b extends i.default.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}}}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate()}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:s,onCancelDescription:a}=this.props,{permissions:{canManageProject:o}}=this.context;return e||t?i.default.h(c.a,{value:e,initialValue:f,editing:t,readOnly:!o,onEdit:n,onUpdate:s,onCancel:a}):i.default.h(r.a,{type:r.a.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,permissions:{canManageStyleguide:s}}=this.context,{currentOrganizationProjects:a,onLinkProject:o,barrel:{_id:r,type:l,users:c,linkedProjects:d}}=this.props,p=a.filter(e=>{const t="base"===l||e.type===l;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=c.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&s}),m=d.length>0?this.nodeRefs.inlineLinkButton:t;return i.default.h(h.a,{targetNode:m,onClose:this.closeLinkToProjectPopup,content:i.default.h(u.a,{organizationId:n,currentStyleguide:r,onSelect:o,projects:p}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{permissions:{canManageProject:e}}=this.context,{barrel:{linkedProjects:t},onUnlinkProject:n}=this.props;let s;return s=t.length?i.default.h("div",{key:"linkedProjects",class:"linkedProjects"},t.map(({_id:e,name:t,type:s,updated:a})=>i.default.h(l.a,{key:e,id:e,name:t,type:s,updated:a,onUnlinkProject:n}))):i.default.h(r.a,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.default.h(d.b,{key:"styleguideHeader"},"Linked projects",t.length>0&&e&&i.default.h(o.a,{baseRef:Object(p.a)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),s]}renderSidebar(){const{organizationId:e}=this.context,{barrel:t,showSlackReconnectionAuntie:n,loading:o,loadingSelectParent:r,extensionsLoaded:l,extensionTitles:c,sidebarWidth:d,onSidebarRelease:u,currentOrganizationStyleguides:h}=this.props;if(o)return i.default.h(a.a.Loading,null);const{id:p,name:g,public:f,type:b,densityScale:y,users:v,parent:S,ancestors:C,integration:{slacks:E=[]}={}}=t,{barrelUser:k}=this.context;let O;E.length&&(O=E.slice().reverse());const D=!!s.a&&!!s.a.features&&!!s.a.features.integrations&&s.a.features.integrations.slack;return i.default.h(a.a,{loadingSelectParent:r,barrelType:m.a.STYLEGUIDE,barrelId:p,barrelParent:S,barrelAncestors:C,name:g,public:f,platform:b,densityScale:y,members:v,width:d,hideAddToSlack:s.a&&!D,showSlackReconnectionAuntie:n,barrelUser:k,extensionsLoaded:l,extensionTitles:c,slackChannels:O,isOrganizationProject:"user"!==e,organizationId:e,currentOrganizationStyleguides:h,onRelease:u})}render(){const{nodeRef:e}=this.props;return i.default.h("div",{class:"styleguideAbout",ref:e},i.default.h("div",{class:"aboutContent"},this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}b.defaultProps={editing:!1},t.a=b},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(69),o=n(2),r=n(20),l=n(899);n.n(l);const c=Object.freeze({description:{emoji:""},linkedProjects:{emoji:""},colors:{emoji:"",addIcon:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}))),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"",addIcon:i.default.h("svg",{width:"28",height:"16",viewBox:"0 0 28 16"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M23.5 7.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM9.413 13.683L8.007 9.798H2.68l-1.407 3.885H0L4.746 1h1.195l4.738 12.683H9.413zM5.317 2.485L3.041 8.761h4.605L5.37 2.485h-.053zM14.31 12.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"})),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:""}}),d="https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps";function u(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`);return t?n.slice(0,-1):n}class h extends i.default.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${u(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:a}=this.context;return t&&!n&&"project"===a?i.default.h("li",null,i.default.h("h3",null,"From a Styleguide (Recommended)"),i.default.h("p",null,"Use ",u(e)," from a Styleguide by linking your project."),i.default.h(s.a,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=c[e];return i.default.h("li",null,i.default.h("h3",null,"From Layers"),i.default.h("p",null,"Select a layer and click ",t," next to the ",u(e,{singular:!0}),"."),i.default.h(a.a,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return Object(r.g)()?[i.default.h("li",{key:"fromFigma"},i.default.h("h3",null,"From Figma"),i.default.h("p",null,"Select a master component frame and press E or select File>Export from the menu."),i.default.h(a.a,{asset:"img/icComponentsHintFigma.png"})),i.default.h("li",{key:"fromAdobeXD"},i.default.h("h3",null,"From Adobe XD"),i.default.h("p",null,"Select a component in Pasteboard, or a layer inside it. Press E or select File>Export>Zeplin from the menu."),i.default.h(a.a,{asset:"img/icComponentsHintAdobeXD.png"}))]:i.default.h("li",null,i.default.h("h3",null,"From Design Tools"),i.default.h("p",null,i.default.h("a",{href:d,target:"_blank"},"Download desktop app")," to export ",u(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.default.h(s.a,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.default.h(s.a,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.default.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:s}=c[t];return i.default.h("div",{class:"emptyStateContainer"},i.default.h("div",{class:"emptyStateBefore"},n),i.default.h("div",{class:Object(o.a)("emptyState",e)},i.default.h("h2",null,"No ",u(t)," yet. ",s),i.default.h("p",null,this.renderDescription()),this.renderBody()))}}h.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(901);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(122),a=n(626),o=n(52),r=n(27),l=n(1),c=n(4),d=n(902);n.n(d);const u=24;t.a=class extends i.default.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+u,y:t.top-u}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.default.h(o.a.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.default.h(o.a.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.default.h(r.a,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink ${t}?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:o,type:r,updated:d}=this.props;return i.default.h("div",{class:"linkedProject noSelect",ref:Object(c.a)(this,"base")},t&&this.renderContextMenu(),e&&i.default.h(a.a,{class:"optionsButton",baseRef:Object(c.a)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.default.h("a",{href:Object(l.P)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null},i.default.h("div",{class:"linkedProjectName ellipsis",title:o},o),i.default.h("div",{class:"projectInfo"},i.default.h("span",null,Object(l.u)(r)),i.default.h(s.a,{type:"time-ago",format:"micro",datetime:d}))),this.renderUnlinkDialog())}}},function(e,t){},function(e,t,n){"use strict";var i=n(904);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(25),r=n(2),l=n(4),c=n(1),d=n(20),u=n(9),h=n(598),p=n(182),m=n(905),g=n(684),f=n(909);n.n(f);const b=/:(\S+?):/g,y=22,v=i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}));class S extends o.a{constructor(e){super(e),this.handleCancel=this.handleCancel.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.g)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this);const{initialValue:t,value:n}=e,i=n||t;this.state={selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:i}}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,s=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),s=e.substring(i,t).match(/^:(.+)/);if(s){const e=s[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(b);return a&&p.a.searchEmoji(a[0].substring(1,a[0].length-1))?[]:p.a.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(s!==t){const e=Math.max(0,Math.min(n,s.length-1));this.setState({suggestedEmojis:s,selectedEmojiIndex:e})}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&"safari"===Object(d.d)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const{textArea:e,emojiAutoCompleteContainer:t}=this.nodeRefs;if(!e||!t)return;const n=e.selectionStart,{top:i,left:s}=Object(g.a)(e,n);let a=i+y,o=s;t.style.top=`${a}px`,t.style.left=`${o}px`})}handleCancel(){const{value:e,onCancel:t}=this.props;this.setState({value:e}),t()}handleSubmit(){const{readOnly:e}=this.props;e||this.submit()}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{editing:t,readOnly:n}=this.props;n||(t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.c)(e)&&this.submit()))}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,{textArea:i}=this.nodeRefs,s=e[t],a=i.selectionStart,o=n.substring(0,a).lastIndexOf(":"),r=s.formattedAlias,l=n.substring(0,o)+":"+r+": "+n.substring(a),c=o+r.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}handleTextAreaClick(){this.props.editing&&this.changeSuggestedEmojis()}componentDidMount(){const{editing:e}=this.props;e&&this.nodeRefs.textArea.focus()}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:s,suggestedEmojis:a}=this.state;n&&e.editing!==n&&this.nodeRefs.textArea.focus(),s||i===t.value||this.changeSuggestedEmojis(),n&&a.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.default.h("div",{key:"editBar",class:"editBar"},i.default.h(u.a,{onClick:n},v))}renderControls(){const{editing:e,value:t,readOnly:n}=this.props;return!e||n?null:i.default.h("div",{key:"controls",class:"controls"},i.default.h("div",{class:"markdownGuide"},i.default.h("div",{class:"markdownSamples"},i.default.h("span",null,"# Header"),"",i.default.h("strong",null,"**bold**"),"",i.default.h("em",null,"_italics_"),"",i.default.h("code",null,"`code`"),"",i.default.h("span",null,">quote")),i.default.h("a",{href:"https://zpl.io/article/markdown-support",target:"_blank"},"Learn more")),i.default.h("div",{class:"buttons"},i.default.h(u.a,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.default.h(u.a,{primary:!0,class:"submitButton",onClick:this.handleSubmit},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.default.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:Object(l.a)(this,"emojiAutoCompleteContainer")},i.default.h(h.a,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e}=this.props,{value:t}=this.state;return i.default.h("div",{class:Object(r.a)("styleguideDescription",{editing:e})},this.renderEditBar(),i.default.h("div",{class:"textArea"},i.default.h(m.a,null,t),i.default.h("div",{class:"editor"},i.default.h("div",{class:"mirror"},t,""),this.renderEmojiAutocomplete(),i.default.h("textarea",{ref:Object(l.a)(this,"textArea"),value:t,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))),this.renderControls())}}S.propTypes={value:a.a.string,maxLength:a.a.number,readOnly:a.a.bool,onEdit:a.a.func,onUpdate:a.a.func,onCancel:a.a.func},S.defaultProps={value:"",initialValue:"",editing:!1,readOnly:!1},t.a=S},function(e,t,n){"use strict";var i=n(906);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(907),a=n.n(s),o=n(615),r=n.n(o),l=n(1),c=n(5),d=n(182),u=n(908);n.n(u);const h=/#([\w-]+)/g,p=/#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})/i,m=new RegExp(`(${c.E}//\\S+)`,"g"),g=/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide|screen))?/i,f=/\/screen\/([\da-f]{24})/i,b=/\/styleguide(?:\/(colors|textStyles|components))/i,y=/tel:([\d+.-]+)\b/g,v=/spotify:([\w:]+)\b/g,S=/youtube\.com\/watch\?v=(\w+)/,C=/youtu\.be\/(\w+)/,E=/:([a-z_-]+?):/g;function k(e){const t={};if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else{const n=function(e){const[,t,n="dashboard"]=e.match(g)||[];if(!t)return null;const i={url:{pid:t}};switch(n){case"screen":{const[,t]=e.match(f)||[];i.urlSlug="project-screen",i.url.sid=t;break}case"styleguide":{const[,t="colors"]=e.match(b)||[];i.urlSlug=`project-styleguide-${t.toLowerCase()}`;break}case"dashboard":default:i.urlSlug="project-dashboard"}return i}(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-components":{const n=e.searchParams.getAll("coid");t.query={coid:n};break}case"project-dashboard":default:{const n=e.searchParams.getAll("sid");t.urlSlug="project-dashboard",t.query={sid:n}}}}return t}function O(e,t){const n=function(e){const t=e.origin===location.origin;return e.protocol===c.E?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else{const n=e.searchParams.get("pid");if(!n)return null;if(t.url={pid:n},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid");t.urlSlug="project-screen",t.url.sid=n}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),s=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:s}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),i=e.searchParams.getAll("tsid"),s=e.searchParams.getAll("coid");t.urlSlug="project-styleguide",t.query={cid:n,tsid:i,coid:s}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug="project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug="project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug="project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid");t.urlSlug="project-dashboard",t.query={sid:n}}}return t}(e):t?k(e):null}(e);if(!n)return null;const{url:i={},query:s={},urlSlug:a}=n;let o;switch(a){case"projects":o="Projects";break;case"project-screen":{const{pid:e,sid:n}=i,{did:a=[],cmid:r=[]}=s;if(e!==t.id){o=r.length?`Comment${r.length>1?"s":""} on screen of another project`:a.length?`Note${a.length>1?"s":""} on screen of another project`:"Screen in another project";break}const{name:l="unknown",dots:c=[]}=t.screens.find(e=>e.id===n)||{};if(a.length)if(a.length>1)o=`Notes on ${l}`;else{const{name:e=""}=c.find(e=>e._id===a[0])||{},t=`Note #${e}, ${l}`;o=r.length?`Comment${r.length>1?"s":""} on ${t}`:t}else o=l;break}case"project-styleguide":o="Styleguide";break;case"project-styleguide-colors":o="Styleguide Colors";break;case"project-styleguide-textstyles":o="Styleguide Text Styles";break;case"project-styleguide-components":o="Styleguide Components";break;case"project-dashboard":default:{const{pid:e}=i,{sid:n}=s;o=n.length?`Screens in ${e===t.id?"dashboard":"another project"}`:e===t.id?"Dashboard":"Another project";break}}return{anchorText:o,href:Object(l.P)(a,{url:i,query:s})}}a.a.setOptions({headerIds:!1,highlight(e,t){if(!t)return e;const n=r.a.languages[t];return n?r.a.highlight(e,n):e}});t.a=class extends i.default.Component{constructor(e){super(e),this.renderer=new a.a.Renderer,this.renderer.image=this.imageRenderer,this.renderer.link=this.linkRenderer.bind(this),this.renderer.text=this.textRenderer.bind(this)}imageRenderer(e,t,n){const i=t||"";return`<img src="${e}" srcset="${e} ${window.devicePixelRatio}x" title="${i}" alt="${n}">`}spotifyURLRenderer(e){return`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}youtubeRenderer(e){let t="youtu.be"===e.hostname?C:S;const[,n]=e.href.match(t);return`<iframe\n                src="https://www.youtube.com/embed/${n}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}linkRenderer(e,t,n=""){const{projectId:i,projectScreens:s}=this.context,a=Object(l.P)("project",{url:{bid:i}}),o=new URL(e.replace(/&amp;/g,"&"),a),r=t||"";if(o.origin===location.origin||o.protocol===c.E){const e=O(o,{id:i,screens:s});if(e){const t=n.startsWith("<")?n:e.anchorText;return`<a\n                    href="${e.href}"\n                    title="${r}"\n                    data-link-type="inApp">${t}</a>`}}return["spotify.com","open.spotify.com"].includes(o.hostname)?this.spotifyURLRenderer(o):["youtube.com","www.youtube.com","youtu.be"].includes(o.hostname)?this.youtubeRenderer(o):`<a href="${e}" title="${r}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}colorRenderer(e){const{projectId:t,projectColors:n}=this.context;return e.replace(h,(e,i)=>{let s=n.find(e=>e.name===i),a=e;if(s?a=`<span class="color">${e}<span class="colorPreview" style="background-color: ${s.toCSS()};"></span></span>`:p.test(e)&&(a=`<span class="color">#${(s=n.find(e=>e.hexBase()===i.toLowerCase()))?s.name:i}<span class="colorPreview" style="background-color: ${e};"></span></span>`),s){const e=Object(l.P)("project-styleguide-colors",{url:{bid:t},query:{cid:s.id}});return this.linkRenderer(e,"",a)}return a})}mentionRenderer(e){const{barrelUser:t,barrelUsers:n=[]}=this.context,i=Object(l.C)(t.user.username),s=Object(l.Q)(n);return e.replace(s,e=>`<span class="user ${i.test(e)?"self":""}">${e}</span>`)}telRenderer(e){return e.replace(y,(e,t)=>`<a href="tel:${t}">${t}</a>`)}spotifyURIRenderer(e){return e.replace(v,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}emojiRenderer(e){return e.replace(E,(e,t)=>{const n=d.a.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})}textRenderer(e){let t=e.replace(/&amp;/g,"&");const n=(t.match(m)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return t=this.colorRenderer(t),t=this.mentionRenderer(t),t=this.telRenderer(t),t=this.spotifyURIRenderer(t),t=Object(l.M)(this.emojiRenderer(t))}render(){const{children:[e],onClick:t}=this.props;return i.default.h("div",{class:"markdown",onClick:t,dangerouslySetInnerHTML:{__html:a()(e,{renderer:this.renderer,sanitize:!0})}})}}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function i(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||S.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=b({},n),n.gfm=b({},n.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=b({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=b({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),i.rules=n,i.lex=function(e,t){return new i(t).lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,t){var i,s,a,o,r,l,c,d,u,h,p,m,g,f,b,S;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:v(a,"\n")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2]?a[2].trim():a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))&&(l={type:"table",header:y(a[1].replace(/^ *| *\| *$/g,"")),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3]?a[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(a[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=y(l.cells[p],l.header.length);this.tokens.push(l)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),c={type:"list_start",ordered:f=(o=a[2]).length>1,start:f?+o:"",loose:!1},this.tokens.push(c),d=[],i=!1,g=(a=a[0].match(this.rules.item)).length,p=0;p<g;p++)h=(l=a[p]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(h-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+h+"}","gm"),"")),p!==g-1&&(r=n.bullet.exec(a[p+1])[0],(o.length>1?1===r.length:r.length>1||this.options.smartLists&&r!==o)&&(e=a.slice(p+1).join("\n")+e,p=g-1)),s=i||/\n\n(?!\s*$)/.test(l),p!==g-1&&(i="\n"===l.charAt(l.length-1),s||(s=i)),s&&(c.loose=!0),S=void 0,(b=/^\[[ xX]\] /.test(l))&&(S=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:b,checked:S,loose:s},d.push(u),this.tokens.push(u),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(g=d.length,p=0;p<g;p++)d[p].loose=!0;this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),m=a[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[m]||(this.tokens.links[m]={href:a[2],title:a[3]});else if(t&&(a=this.rules.table.exec(e))&&(l={type:"table",header:y(a[1].replace(/^ *| *\| *$/g,"")),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3]?a[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(a[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=y(l.cells[p].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var s={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:f,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function a(e,t){if(this.options=t||S.defaults,this.links=e,this.rules=s.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=s.pedantic:this.options.gfm&&(this.options.breaks?this.rules=s.breaks:this.rules=s.gfm)}function o(e){this.options=e||S.defaults}function r(){}function l(e){this.tokens=[],this.token=null,this.options=e||S.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function d(e,t){if(t){if(d.escapeTest.test(e))return e.replace(d.escapeReplace,function(e){return d.replacements[e]})}else if(d.escapeTestNoEncode.test(e))return e.replace(d.escapeReplaceNoEncode,function(e){return d.replacements[e]});return e}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t,n){if(e){try{var i=decodeURIComponent(u(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){m[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?m[" "+e]=e+"/":m[" "+e]=v(e,"/",!0));return e=m[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}s._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",s.em=h(s.em).replace(/punctuation/g,s._punctuation).getRegex(),s._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,s._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,s._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,s.autolink=h(s.autolink).replace("scheme",s._scheme).replace("email",s._email).getRegex(),s._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,s.tag=h(s.tag).replace("comment",n._comment).replace("attribute",s._attribute).getRegex(),s._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,s._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,s._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,s.link=h(s.link).replace("label",s._label).replace("href",s._href).replace("title",s._title).getRegex(),s.reflink=h(s.reflink).replace("label",s._label).getRegex(),s.normal=b({},s),s.pedantic=b({},s.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",s._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",s._label).getRegex()}),s.gfm=b({},s.normal,{escape:h(s.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:h(s.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),s.gfm.url=h(s.gfm.url,"i").replace("email",s.gfm._extended_email).getRegex(),s.breaks=b({},s.gfm,{br:h(s.br).replace("{2,}","*").getRegex(),text:h(s.gfm.text).replace("{2,}","*").getRegex()}),a.rules=s,a.output=function(e,t,n){return new a(t,n).output(e)},a.prototype.output=function(e){for(var t,n,i,s,o,r,l="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),l+=d(o[1]);else if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),e=e.substring(o[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):d(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,i=o[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=t[1],s=t[3]):s="":s=o[3]?o[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(o,{href:a.escapes(i),title:a.escapes(s)}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),l+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),l+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),l+=this.renderer.codespan(d(o[2].trim(),!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),l+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),l+=this.renderer.del(this.output(o[1]));else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),i="@"===o[2]?"mailto:"+(n=d(this.mangle(o[1]))):n=d(o[1]),l+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.inRawBlock?l+=this.renderer.text(o[0]):l+=this.renderer.text(d(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===o[2])i="mailto:"+(n=d(o[0]));else{do{r=o[0],o[0]=this.rules._backpedal.exec(o[0])[0]}while(r!==o[0]);n=d(o[0]),i="www."===o[1]?"http://"+n:n}e=e.substring(o[0].length),l+=this.renderer.link(i,null,n)}return l},a.escapes=function(e){return e?e.replace(a.rules._escapes,"$1"):e},a.prototype.outputLink=function(e,t){var n=t.href,i=t.title?d(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,d(e[1]))},a.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},a.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,s=0;s<i;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var s=this.options.highlight(e,i);null!=s&&s!==e&&(n=!0,e=s)}return i?'<pre><code class="'+this.options.langPrefix+d(i,!0)+'">'+(n?e:d(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:d(e,!0))+"</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+d(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},o.prototype.image=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},o.prototype.text=function(e){return e},r.prototype.strong=r.prototype.em=r.prototype.codespan=r.prototype.del=r.prototype.text=function(e){return e},r.prototype.link=r.prototype.image=function(e,t,n){return""+n},r.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,b({},this.options,{renderer:new r})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,s="",a="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});a+=this.renderer.tablerow(n)}return this.renderer.table(s,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var o=this.token.ordered,r=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o,r);case"list_item_start":a="";var l=this.token.loose;for(this.token.task&&(a+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)a+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(a);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var c='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(c);console.log(c)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},d.escapeTest=/[&<>"']/,d.escapeReplace=/[&<>"']/g,d.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,d.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var m={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function b(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function y(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var i=!1,s=t;--s>=0&&"\\"===n[s];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function v(e,t,n){if(0===e.length)return"";for(var i=0;i<e.length;){var s=e.charAt(e.length-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.substr(0,e.length-i)}function S(e,t,n){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var s,a,o=(t=b({},S.defaults,t||{})).highlight,r=0;try{s=i.lex(e,t)}catch(e){return n(e)}a=s.length;var c=function(e){if(e)return t.highlight=o,n(e);var i;try{i=l.parse(s,t)}catch(t){e=t}return t.highlight=o,e?n(e):n(null,i)};if(!o||o.length<3)return c();if(delete t.highlight,!a)return c();for(;r<s.length;r++)!function(e){"code"!==e.type?--a||c():o(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--a||c():(e.text=n,e.escaped=!0,void(--a||c()))})}(s[r])}else try{return t&&(t=b({},S.defaults,t)),l.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||S.defaults).silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}}f.exec=f,S.options=S.setOptions=function(e){return b(S.defaults,e),S},S.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},S.defaults=S.getDefaults(),S.Parser=l,S.parser=l.parse,S.Renderer=o,S.TextRenderer=r,S.Lexer=i,S.lexer=i.lex,S.InlineLexer=a,S.inlineLexer=a.output,S.Slugger=c,S.parse=S,e.exports=S}(this||"undefined"!=typeof window&&window)}).call(t,n(60))},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n(8),o=n(911);n.n(o);const r=24;t.a=class extends i.default.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;if(e){const e=Object(a.d)(this.nodeRefs.base);if(e){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.getBoundingClientRect();(t.bottom<n.top||t.top>n.bottom)&&(e.scrollTop+=t.top-n.top-r)}}t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.default.h("h2",{class:"styleguideHeader",ref:Object(s.a)(this,"base")},e)}}},function(e,t){},function(e,t,n){"use strict";var i=n(913);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(52),a=n(2),o=n(914);n.n(o);const r=i.default.h("svg",{width:"24",height:"24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("circle",{cx:"6",cy:"12",r:"2"}),i.default.h("circle",{cx:"12",cy:"12",r:"2"}),i.default.h("circle",{cx:"18",cy:"12",r:"2"})));t.a=class extends i.default.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:o}=this.state;return i.default.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.default.h("button",{class:Object(a.a)("styleguideContextMenuButton",{active:!!o||n}),onClick:this.handleClick},r),o&&i.default.h(s.a,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e.map(({name:e,onClick:t})=>i.default.h(s.a.Item,{key:e,onClick:t},e))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(916);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(629),a=n(1),o=n(6),r=n(2),l=n(16),c=n(917);n.n(c);const d={DEFAULT:"Add",LINKED:"Done",LINKING:"Spinner",ERROR:"Retry"},u={LINKING:"linking",LINKED:"linked"};function h({selected:e,iconType:t}){const n=Object(o.e)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.default.h("img",{class:`invite${t}`,src:n})}class p extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)}render(){const{selected:e,projectName:t,projectType:n,status:s}=this.props,o=s===u.LINKED,l=s===u.LINKING,c=!o&&!l&&s,p=Object(r.a)("projectListItem",{selected:e,linking:l}),m=Object(a.u)(n),g=`${t} - ${m}`;let f;return f=o?d.LINKED:l?d.LINKING:c?d.ERROR:d.DEFAULT,i.default.h("div",{title:g,class:p},i.default.h("div",{class:"projectInfo"},i.default.h("div",{class:"title ellipsis"},t,", ",i.default.h("span",{class:"projectType"},m)),c&&i.default.h("p",{class:"error"},c.title)),i.default.h("button",{onClick:this.handleClick,disabled:o||l},i.default.h(h,{iconType:f,selected:e})))}}t.a=class extends i.default.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:u.LINKING}),Object(l.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:u.LINKED}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},s){return i.default.h(p,{onActionButtonClick:this.handleSelect,value:e,selected:s,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.default.h(s.a.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.default.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.default.h("div",{key:"projects",class:"projects"},i.default.h(s.a,{class:"projectsList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",s="";return e.length>0?(n="No unlinked projects",s=i.default.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. ")):s="user"!==t?i.default.h("p",null,"Looks like theres no organization project yet, ",i.default.h("a",{href:Object(a.P)("projects"),class:"emptyCreateButton"},"go ahead and create one"),"."):i.default.h("p",null,"Looks like you dont have any projects yet, ",i.default.h("a",{href:Object(a.P)("projects"),class:"emptyCreateButton"},"go ahead and create one"),"."),i.default.h("div",{class:"noProjects"},i.default.h("h3",null,n),s)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),s=Object(r.a)("linkToProjectPopup",t);return i.default.h("div",{class:s},n.length>0?this.renderProjects(n):this.renderNoProjects())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(920);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(17),a=n(4),o=n(1),r=n(22),l=n(86),c=n(633),d=n(928),u=n(254),h=n(132),p=n(255),m=n(364),g=n(937),f=n(41),b=n(365),y=n(941);n.n(y);const v=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554D56",d:"M17.812 12.75H4.5a.75.75 0 1 1 0-1.5h13.312l-3.814-3.98a.767.767 0 0 1 0-1.052.691.691 0 0 1 1.007 0l5.036 5.256a.767.767 0 0 1 0 1.052l-5.036 5.256a.691.691 0 0 1-1.007 0 .767.767 0 0 1 0-1.051l3.814-3.981z"}),i.default.h("circle",{cx:"12",cy:"12",r:"11.25",fill:"none","stroke-width":"1.5",stroke:"#554d56"}));t.a=class extends i.default.Component{constructor(e){super(e),this.goToTop=this.goToTop.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleDataChange=this.handleDataChange.bind(this),this.handleAddAllColors=this.handleAddAllColors.bind(this),this.handleHideSuggestedColors=this.handleHideSuggestedColors.bind(this),this.handleMoveColorsToClick=this.handleMoveColorsToClick.bind(this),this.goToStyleguideToEdit=this.goToStyleguideToEdit.bind(this),this.unsetStyleguideForColorEditHintBox=this.unsetStyleguideForColorEditHintBox.bind(this),this.state={styleguideToShowColorEditHintBox:null}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}unsetStyleguideForColorEditHintBox(){this.setState({styleguideToShowColorEditHintBox:null})}goToTop(){if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}goToStyleguideToEdit(){const{styleguideToShowColorEditHintBox:e}=this.state;location.assign(Object(o.P)("styleguide-colors",{url:{bid:e}}))}handleNameChange(e,t){const{colorsData:[{colors:n}]}=this.props;if(n.find(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();r.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}handleDataChange(e,t){const{colorsData:[{colors:n}]}=this.props,i=Object.assign({},n.find(t=>t.id===e),t);if(n.find(e=>e.equals(i)))return s.a({title:"Color with this value already exists",message:"Please enter another value for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();r.b.updateColor({cid:e,colorData:t,syncWithApi:!0})}handleDelete(e){r.b.removeColor({cid:e,syncWithApi:!0})}handleAddSuggestedColor(e){r.b.addColor({color:e,syncWithApi:!0})}handleAddAllColors(){const{suggestedColors:e}=this.props;r.b.addMultipleColors({colors:e,syncWithApi:!0})}handleHideSuggestedColors(){const{barrelId:e}=this.context,{suggestedColors:t=[]}=this.props;l.a.hideSuggestedColors(e,t)}handleMoveColorsToClick(e){e.stopPropagation(),l.a.openMoveResourcesPopup({resourceType:f.c.COLORS,targetNode:this.nodeRefs.contextMenuButton})}getBaseRefHandler(){return e=>{this.nodeRefs&&(this.nodeRefs={}),this.nodeRefs.contextMenuButton=e}}renderSuggestedColors(){const{suggestedColors:e=[]}=this.props;return e.length?i.default.h(g.a,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,moveResourcesPopup:s}=this.props,{barrelId:a,barrelUser:r}=this.context,l=s&&s.resourceType===f.c.COLORS,c=e!==a?i.default.h("a",{href:Object(o.P)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`},v):null,d=e===a&&Object(b.a)(n,r)?i.default.h(p.a,{baseRef:this.getBaseRefHandler(),keepActive:l,menuItems:[{name:"Move colors to Styleguide",onClick:this.handleMoveColorsToClick}]}):null;return c||d?i.default.h("div",null,d,c):null}renderColorPalettes(){const{styleguideToShowColorEditHintBox:e}=this.state,{scrolledSection:t,highlightScrolledSection:n,highlightedColors:s,suggestedColors:o=[],onLinkStyleguide:r}=this.props;let{colorsData:c}=this.props;const{barrelId:h,userRole:g,permissions:{canManageColors:f}}=this.context;return c&&c.length?(!c.some(e=>e.id===h)&&o.length&&(c=[{id:h,name:"Local Styleguide",colors:[]},...c]),i.default.h("div",{class:"colorPalettes",ref:Object(a.a)(this,"colors")},c.map(({id:a,name:o,colors:r})=>{const c=a===h;return[i.default.h(p.b,{key:`styleguideHeader-${a}`,scroll:t===a,highlight:t===a&&n,onScroll:l.a.sectionScrolled},o,this.renderStyleguideHeaderEnd({id:a,name:o})),e===a&&!c&&i.default.h(m.a,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:o,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),c&&this.renderSuggestedColors(),i.default.h(d.a,{key:`colorPalette-${a}`,colors:r,highlightedColors:s,userRole:g,readOnly:!f,onHover:l.a.unhighlightColor,onAttemptToChange:!c&&this.setStyleguideForColorEditHintBox.bind(this,a),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete})]}))):i.default.h(u.a,{type:u.a.TYPE.COLORS,before:!!o.length&&i.default.h("div",{class:"emptyStateSuggestedColors"},i.default.h(p.b,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:r})}renderSidebar(){const{sidebarWidth:e,onExportClick:t}=this.props;return i.default.h(h.a,{minWidth:280,initialWidth:e,onClick:o.N,onRelease:l.a.changeRightSidebarWidth},i.default.h(c.a,{type:"color",onExportClick:t}))}render(){return i.default.h("div",{class:"colorPaletteContainer"},this.renderColorPalettes(),this.renderSidebar())}}},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(22),o=n(93),r=n(42),l=n(49),c=n(18),d=n(9),u=n(256),h=n(1),p=n(7),m=n(252),g=n(927);n.n(g);const f={[c.a.PROJECT]:l.c,[c.a.STYLEGUIDE]:r.c};function b({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.default.h("div",{class:"emptyStyleguideCodePanel"},t?[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets "),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you dont have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Manage and enable the ones that fit your workflow."),i.default.h(d.a,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.default.h("h2",{key:"emptyStyleguideHeader"},"No extensions "),i.default.h("p",{key:"emptyStyleguideParagraph"},"Looks like you dont have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.default.h("br",null),i.default.h("br",null),"Browse and pick the ones that fit your workflow."),i.default.h("a",{key:"emptyStyleguideButton",href:Object(h.s)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class y extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.default.h(u.b,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class v extends i.default.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,targetStyleguides:i,type:s,extensions:a,onExportClick:o}=this.props,r=Object(m.f)(t,n,i),l=a.find(t=>t.id===e);l&&l[`exportStyleguide${Object(p.f)(s)}s`](r).then(t=>o(s,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,targetStyleguides:s}=this.props,a=Object(m.f)(n,i,s);Promise.all(e.map(e=>(function(e,t,n){return e[`styleguide${Object(p.f)(t)}s`](n).then(n=>{if(!n)return;const i={name:t};return"string"==typeof n?i.code=n:Object.assign(i,n),i.exportable=e.hasMethod(`exportStyleguide${Object(p.f)(t)}s`)||e.hasMethod(`export${Object(p.f)(t)}s`),[i]}).catch(e=>{}).then((t=[])=>({[e.id]:{snippets:t,title:e.name}}))})(e,t,a))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:s}=t.codeSnippets[e];return!(!s&&!i)&&(!s||!i||(i.length!==s.length||i.some((e,t)=>s[t].language!==e.language||s[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:s}=this.props,{codeSnippets:a}=this.state;if(!a)return;const o=e.map(e=>{const{snippets:t,title:s}=a[e.id];return t.length?i.default.h(y,{key:e.id,snippets:t,title:s,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&o.length?i.default.h("div",{class:"styleguideCodePanel"},o):i.default.h(b,{hasExtensions:t,organizationId:s,onManageExtensionsClick:n})}}t.a=Object(s.a)(class extends i.default.Component{static calculateState(){const e=o.b.getState(),t=e.extensions.filter(t=>e.enabledExtensions[e.barrelType].includes(t.id)&&t.loaded),{barrelType:n,organizationId:i,barrelId:s}=a.d.getState(),{[`${n}s`]:l}=f[n].getState(),{styleguides:c}=r.c.getState(),d=c[i];return{barrel:l[i][s],targetStyleguides:d,barrelType:n,initialized:e.initialized,hasExtensions:e.extensions.length>0,enabledExtensions:t,organizationId:i}}static getStores(){return[o.b,l.c,r.c]}render(){const{type:e,title:t,onExportClick:n}=this.props,{barrel:s,barrelType:o,targetStyleguides:r,initialized:l,hasExtensions:c,enabledExtensions:d,organizationId:u}=this.state;if(l)return i.default.h(v,{type:e,title:t,barrel:s,barrelType:o,targetStyleguides:r,hasExtensions:c,extensions:d,organizationId:u,onExportClick:n,onManageExtensions:a.b.openExtensionSettings})}},{withProps:!0})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(6),o=n(2),r=n(923),l=n(9),c=n(614),d=n(926);n.n(d);n.d(t,"a",function(){return r.a});t.b=class extends s.a{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t({extensionId:n})}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=(()=>this.props.onExportClick(e.name)),this.exportHandlers.set(e,t),t)}render(){const{asyncHighlight:e,class:t,copyEnabled:n,exportEnabled:s,snippets:d,title:u}=this.props,h=d.map(t=>i.default.h("div",{key:t.name,class:"snippet"},s&&t.exportable&&i.default.h(l.a,{class:"exportButton",onClick:this.bindExportHandler(t)},i.default.h("img",{src:Object(a.e)("img/icDownloadLight.svg")})),i.default.h(c.a,{lineIndicator:!0,lang:t.language,content:t.code,asyncHighlight:e})));return i.default.h("div",{class:Object(o.a)("codePanel",t)},i.default.h(r.a,null),i.default.h("div",{class:"title"},i.default.h("h3",null,u),n&&i.default.h(l.a,{class:"copyButton",onClick:this.handleCopyClick},i.default.h("img",{src:Object(a.e)("img/icCopyLight.svg")})),i.default.h(l.a,{class:"settingsButton",onClick:this.handleSettingsClick},i.default.h("img",{src:Object(a.e)("img/icSettingsLight.svg")}))),h)}}},function(e,t,n){"use strict";var i=n(924);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(925);n.n(s);t.a=function(){return i.default.h("div",{class:"codePanelGutter"})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(929);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{colors:t,highlightedColors:n,readOnly:a,userRole:o,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.default.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,h=t||n.includes(e.id);return i.default.h(s.a,{color:e,key:e.id,readOnly:a,userRole:o,scrollIntoView:t,highlight:h,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))};var i=n(0),s=n(930),a=n(934);n.n(a)},function(e,t,n){"use strict";var i=n(931);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(35),a=n(17),o=n(634),r=n(85),l=n(96),c=n(1),d=n(933),u=(n.n(d),n(4)),h=n(2);const p=i.default.h("svg",{width:"14",height:"14",key:"deleteIcon"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));function m(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function g(e){return/[A-Fa-f0-9]{6}/.test(e)}t.a=class extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():a.a({message:`Remove ${e}?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:a,b:o}=s.a.fromHex(`#${e}`);n(t,{r:i,g:a,b:o})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:s,onAttemptToChange:a}=this.props,{projectType:d}=this.context,f=e.name,b=e.hexBase(),y=Math.round(100*e.a),v=e.toRGBString(),S=e.toRGBAString(),C=Object(h.a)("colorCell",{highlight:s});let E=i.default.h("div",{class:C,ref:Object(u.a)(this,"base"),onMouseEnter:this.handleMouseEnter},i.default.h("div",{class:"colorPreview",style:{backgroundColor:S}},!n&&i.default.h("button",{type:"button",onClick:this.handleDelete},p)),i.default.h("div",{class:"colorInformation"},i.default.h("div",{class:"colorNameContainer"},i.default.h(o.a,{class:"colorName",spellCheck:"false",filterRegex:c.f[d],prefix:"#",maxLength:36,ellipsized:!0,initialValue:f,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleNameChange})),i.default.h("div",{class:"colorValueContainer"},i.default.h(o.a,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:g,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleHexChange}),i.default.h(o.a,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:m,initialValue:y,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleOpacityChange})),i.default.h("div",{class:"colorRGB"},v)));return n&&(E=i.default.h(r.a,{content:Object(l.a)(t,"edit colors")},E)),E}}},function(e,t,n){"use strict";var i=n(0),s=n(128),a=n(4);t.a=class extends i.default.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:s,value:a}=this.state,o=e.target.value;s===a||!o||n&&!n(o)?this.setState({value:s,focusWithin:!1,selectionStart:null,selectionEnd:null}):(this.setState({value:o,oldValue:a,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==o&&i(o))}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:s,selectionEnd:a}=e.target;const o=i;t&&(i=i.replace(t,""));const r=o.length-i.length;r>0&&(s-=r,a-=r),e.target.value=i,this.setState({selectionStart:s,selectionEnd:a,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.default.h(s.a,Object.assign({},t,{inputRef:Object(a.a)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(64),a=n(936);n.n(a);t.a=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:a,styleguideSectionToEdit:o}=e;return i.default.h(s.a,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:a,hideButtonText:"Got it!"},"Go to ",t," to edit ",o,", since it's a linked styleguide.")}},function(e,t){},function(e,t,n){"use strict";var i=n(938);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(635),r=n(35),l=n(940);n.n(l);function c({name:e,color:t,onClick:n}){return i.default.h("button",{class:"colorItem",onClick:n},i.default.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.default.h("span",{class:"name"},e))}function d(e){const{onAddAll:t,onAdd:n,onHideClick:s,colors:a}=e,r=a.length>1;return i.default.h(o.a,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:s,actionButtonText:r?"Add All Colors":"Add Color",hideButtonText:r?"Ignore these colors!":"Ignore the color!",emoji:"",title:`Found ${r?a.length+" colors":"a color"} during the last export, want to add ${r?"them":"it"}?`,description:r?"Click to add them individually or select Add All Colors.":"Click the color below or select Add Color to add it."},i.default.h("div",{class:"colorsContainer"},a.map(e=>{const t=e.toHexString();return i.default.h(c,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}d.propTypes={colors:a.a.arrayOf(a.a.instanceOf(r.a)).isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.a=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(943);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(17),a=n(4),o=n(1),r=n(22),l=n(86),c=n(254),d=n(132),u=n(255),h=n(944),p=n(633),m=n(364),g=n(949),f=n(41),b=n(365),y=n(952);n.n(y);const v=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554D56",d:"M17.812 12.75H4.5a.75.75 0 1 1 0-1.5h13.312l-3.814-3.98a.767.767 0 0 1 0-1.052.691.691 0 0 1 1.007 0l5.036 5.256a.767.767 0 0 1 0 1.052l-5.036 5.256a.691.691 0 0 1-1.007 0 .767.767 0 0 1 0-1.051l3.814-3.981z"}),i.default.h("circle",{cx:"12",cy:"12",r:"11.25",fill:"none","stroke-width":"1.5",stroke:"#554d56"}));t.a=class extends i.default.Component{constructor(e){super(e),this.goToTop=this.goToTop.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this),this.handleAddAllTextStyles=this.handleAddAllTextStyles.bind(this),this.handleHideSuggestedTextStyles=this.handleHideSuggestedTextStyles.bind(this),this.goToStyleguideToEdit=this.goToStyleguideToEdit.bind(this),this.handleMoveTextStylesToClick=this.handleMoveTextStylesToClick.bind(this),this.unsetStyleguideForTextStyleEditHintBox=this.unsetStyleguideForTextStyleEditHintBox.bind(this),this.state={styleguideToShowTextStyleEditHintBox:null}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}unsetStyleguideForTextStyleEditHintBox(){this.setState({styleguideToShowTextStyleEditHintBox:null})}goToStyleguideToEdit(){const{styleguideToShowTextStyleEditHintBox:e}=this.state;location.assign(Object(o.P)("styleguide-textstyles",{url:{bid:e}}))}goToTop(){if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}handleColorDelete(e){r.b.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}handleDelete(e){r.b.removeTextStyle({tsid:e,syncWithApi:!0})}handleHideSuggestedTextStyles(){const{barrelId:e}=this.context,{suggestedTextStyles:t=[]}=this.props;l.a.hideSuggestedTextStyles(e,t)}handleNameChange(e,t){const{textStylesData:[{textStyles:n}]}=this.props;if(n.some(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();r.b.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}handleAddTextStyle(e){r.b.addTextStyle({textStyle:e,syncWithApi:!0})}handleAddAllTextStyles(){const{suggestedTextStyles:e}=this.props;r.b.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}handleMoveTextStylesToClick(e){e.stopPropagation(),l.a.openMoveResourcesPopup({resourceType:f.c.TEXT_STYLES,targetNode:this.nodeRefs.contextMenuButton})}getBaseRefHandler(){return e=>{this.nodeRefs&&(this.nodeRefs={}),this.nodeRefs.contextMenuButton=e}}renderSuggestedTextStyles(){const{suggestedTextStyles:e=[],formatter:t}=this.props;return e.length?i.default.h(g.a,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,moveResourcesPopup:s}=this.props,{barrelId:a,barrelUser:r}=this.context,l=s&&s.resourceType===f.c.TEXT_STYLES,c=e!==a?i.default.h("a",{href:Object(o.P)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`},v):null,d=e===a&&Object(b.a)(n,r)?i.default.h(u.a,{baseRef:this.getBaseRefHandler(),keepActive:l,menuItems:[{name:"Move Text Styles to Styleguide",onClick:this.handleMoveTextStylesToClick}]}):null;return c||d?i.default.h("div",null,d,c):null}renderTextStyleCatalogs(){const{styleguideToShowTextStyleEditHintBox:e}=this.state,{formatter:t,scrolledSection:n,highlightScrolledSection:s,highlightedTextStyles:o,onLinkStyleguide:r,suggestedTextStyles:d}=this.props;let{textStylesData:p}=this.props;const{barrelId:g,userRole:f,permissions:{canManageTextStyles:b}}=this.context;return p&&p.length?(!p.some(e=>e.id===g)&&d.length&&(p=[{id:g,name:"Local Styleguide",textStyles:[]},...p]),i.default.h("div",{class:"textStyleCatalogs",ref:Object(a.a)(this,"textStyles")},p.map(({id:a,name:r,textStyles:c})=>{const d=a===g;return[i.default.h(u.b,{key:`styleguideHeader-${a}`,scroll:n===a,highlight:n===a&&s,onScroll:l.a.sectionScrolled},r,this.renderStyleguideHeaderEnd({id:a,name:r})),e===a&&!d&&i.default.h(m.a,{key:"hintbox",styleguideSectionToEdit:"text styles",styleguideName:r,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),d&&this.renderSuggestedTextStyles(),i.default.h(h.a,{key:`textStyleCatalog-${a}`,textStyles:c,highlightedTextStyles:o,userRole:f,readOnly:!b,formatter:t,onHover:l.a.unhighlightTextStyle,onAttemptToChange:!d&&this.setStyleguideForTextStyleEditHintBox.bind(this,a),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete})]}))):i.default.h(c.a,{type:c.a.TYPE.TEXT_STYLES,before:!!d.length&&i.default.h("div",{class:"emptyStateSuggestedTextStyles"},i.default.h(u.b,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:r})}renderSidebar(){const{sidebarWidth:e,onExportClick:t}=this.props;return i.default.h(d.a,{minWidth:280,initialWidth:e,onClick:o.N,onRelease:l.a.changeRightSidebarWidth},i.default.h(p.a,{type:"textStyle",onExportClick:t}))}render(){return i.default.h("div",{class:"textStyleCatalogContainer"},this.renderTextStyleCatalogs(),this.renderSidebar())}}},function(e,t,n){"use strict";var i=n(945);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{formatter:t,textStyles:n,highlightedTextStyles:a,readOnly:o,userRole:r,onHover:l,onAttemptToChange:c,onNameChange:d,onColorDelete:u,onDelete:h}=e;return i.default.h("div",{class:"textStyleCatalog"},n.map((e,n)=>{const p=a[0]===e.id,m=p||a.includes(e.id);return i.default.h(s.a,{key:e.id,readOnly:o,userRole:r,formatter:t,textStyle:e,tabIndex:n+1,scrollIntoView:p,highlight:m,onHover:l,onAttemptToChange:c,onNameChange:d,onColorDelete:u,onDelete:h})}))};var i=n(0),s=n(946)},function(e,t,n){"use strict";var i=n(947);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(96),r=n(17),l=n(9),c=n(351),d=n(85),u=n(177),h=n(948);n.n(h);const p=i.default.h("svg",{width:"14",height:"14"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"7",cy:"7",r:"7",fill:"#979197"}),i.default.h("path",{fill:"#FFF",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"})));t.a=class extends i.default.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:`${e}px`,fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():r.a({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():r.a({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:s}=this.props;e||i===t||s(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:s}=Object(u.d)(t);return[i.default.h("span",{key:n,title:n,class:"ellipsis"},n),`, ${e.textLength(s)}`]}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:{name:r,color:h},textStyle:m,tabIndex:g,highlight:f,onAttemptToChange:b}=this.props;let y=i.default.h(c.a,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:b,value:r,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:g,ellipsized:!0});e&&(y=i.default.h(d.a,{content:Object(o.a)(t,"edit text styles")},y));const v=Object(s.a)("textStyleRow",{readOnly:e,highlight:f});return i.default.h("div",{class:v,ref:Object(a.a)(this,"base"),onMouseEnter:this.handleMouseEnter},i.default.h("div",{class:"nameContainer"},y),i.default.h("div",{class:"info"},i.default.h("div",{class:"mainInfo"},i.default.h("div",{class:"style"},this.renderMainInfo()),h&&i.default.h("div",{class:"colorContainer"},i.default.h("span",{class:"colorPreview",style:{backgroundColor:h.toRGBAString()}}),i.default.h("span",{class:"color ellipsis"},h.name?`#${h.name}`:n.colorString(h)),i.default.h(l.a,{class:"deleteColor",onClick:this.handleColorDelete},p))),i.default.h("div",{class:"extraInfo ellipsis"},Object(u.c)(n,m))),i.default.h(l.a,{class:"deleteTextStyle",onClick:this.handleDelete},p))}}},function(e,t){},function(e,t,n){"use strict";var i=n(950);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(635),r=n(177),l=n(951);n.n(l);function c({name:e,info:t,subInfo:n,color:s,onClick:a}){return i.default.h("button",{class:"textStyleItem",onClick:a},i.default.h("div",{class:"name ellipsis"},e),i.default.h("div",{class:"infoContainer"},i.default.h("div",{class:"mainInfo"},i.default.h("div",{class:"info ellipsis"},t),s&&i.default.h("span",{class:"colorPreview",style:{backgroundColor:s}})),n&&i.default.h("div",{class:"subInfo ellipsis"},n)))}function d(e){const{onAddAll:t,onAdd:n,onHideClick:s,textStyles:a,formatter:l}=e,d=a.length>1;return i.default.h(o.a,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:s,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"",title:`Found ${d?a.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select Add All Text Styles.":"Click the text style below or select Add Text Style to add it."},i.default.h("div",{class:"textStylesContainer"},a.map(e=>{const t=e.name,{content:s,fontSize:a}=Object(r.d)(e),o=[s,l.textLength(a)].join(", "),d=e.color&&e.color.toHexString(),u=Object(r.c)(l,e);return i.default.h(c,{key:e.id,id:t,name:t,info:o,subInfo:u,color:d,onClick:()=>n(e)})})))}d.propTypes={textStyles:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,name:a.a.string.isRequired,color:a.a.string.isRequired,info:a.a.string.isRequired,subInfo:a.a.string})).isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(954);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(4),o=n(363),r=n(2),l=n(7),c=n(86),d=n(22),u=n(955),h=n(981),p=n(127),m=n(254),g=n(276),f=n(588),b=n(255),y=n(364),v=n(41),S=n(365),C=n(1067);n.n(C);const E=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554D56",d:"M17.812 12.75H4.5a.75.75 0 1 1 0-1.5h13.312l-3.814-3.98a.767.767 0 0 1 0-1.052.691.691 0 0 1 1.007 0l5.036 5.256a.767.767 0 0 1 0 1.052l-5.036 5.256a.691.691 0 0 1-1.007 0 .767.767 0 0 1 0-1.051l3.814-3.981z"}),i.default.h("circle",{cx:"12",cy:"12",r:"11.25",fill:"none","stroke-width":"1.5",stroke:"#554d56"})),k=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];const O=s.L.date.bind(null,["latestVersion","created"]);function D(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=s.x(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(l.f)(e),components:t[e].sort(O),componentSections:[]}))}function w(e,t){switch(t){case"default":default:return e;case"lastUpdated":return D(e);case"name":return function(e){return[{_id:"sortedByName",name:"sortedByName",components:s.e(e).sort(s.L.name),componentSections:[]}]}(e)}}t.a=class extends i.default.Component{constructor(e){super(e),this.visibleComponents=new Set,this.goToTop=this.goToTop.bind(this),this.deselectComponent=this.deselectComponent.bind(this),this.unsetStyleguideForComponentEditHintBox=this.unsetStyleguideForComponentEditHintBox.bind(this),this.goToStyleguideToEdit=this.goToStyleguideToEdit.bind(this),this.openComponentContextMenu=this.openComponentContextMenu.bind(this),this.closeComponentContextMenu=this.closeComponentContextMenu.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleComponentDrop=this.handleComponentDrop.bind(this),this.handleSectionDrop=this.handleSectionDrop.bind(this),this.handleComponentToSectionDrop=this.handleComponentToSectionDrop.bind(this),this.handleMoveSectionClick=this.handleMoveSectionClick.bind(this),this.observeComponent=this.observeComponent.bind(this),this.unobserveComponent=this.unobserveComponent.bind(this),this.state={componentContextMenu:{},styleguideToShowComponentEditHintBox:null,dragging:!1}}openComponentContextMenu(e,t,n){const{permissions:{canManageStyleguide:i},barrelId:s}=this.context;i&&(n.preventDefault(),s!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}closeComponentContextMenu(){this.setState({componentContextMenu:{}})}setAndFocusToStyleguideForComponentEditHintBox(e){this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs[`styleguideHeader-${e}`];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}unsetStyleguideForComponentEditHintBox(){this.setState({styleguideToShowComponentEditHintBox:null})}deselectComponent(){const{selection:e}=this.props;e&&this.props.onSelect(null,null)}get componentCount(){const{componentsData:e}=this.props;return e.reduce((e,{componentSections:t})=>e+s.e(t).length,0)}processComponents(e){const{sortType:t,filterValue:n}=this.props;return n?function(e,t){const n=s.e(e),i=new WeakMap(n.map(e=>[e,s.c(t,e.name)])),a=n.filter(e=>i.get(e));return a.length?[{_id:"filtered",name:"filtered",components:a.sort((e,t)=>{const n=i.get(t)-i.get(e);return n||s.L.name(e,t)}),componentSections:[]}]:[]}(e,n):w(e,t)}goToTop(){if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}goToStyleguideToEdit(){const{styleguideToShowComponentEditHintBox:e}=this.state;location.assign(s.P("styleguide-components",{url:{bid:e}}))}handleMoveSectionClick({data:e,targetNode:t}){c.a.openMoveResourcesPopup({data:e,targetNode:t,resourceType:v.c.COMPONENTS})}handleStartDrag(){this.setState({dragging:!0})}handleEndDrag(){this.setState({dragging:!1})}handleComponentDrop({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:a,targetIdPath:o,targetIndex:r}){const{barrelId:l}=this.context,c=o[o.length-1],u=document.querySelector(`.component[data-id="${c}"]`).getBoundingClientRect(),h=e.left>u.left+u.width/2;let p=r;if(n.slice(0,-1).join()===o.slice(0,-1).join()){if(i>r&&h?p=r+1:i<r&&!h&&(p=r-1),i===p)return}else h&&(p=r+1);if(t===a&&s.a(n,o,(e,t)=>e===t)&&i===p)return;if(l!==t||l!==a)return void this.setAndFocusToStyleguideForComponentEditHintBox(t);const m=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:o.slice(0,-1),sourceIndex:i,to:p}];d.b.updateComponentsOrder({components:m,syncWithApi:!0})}getIntersectionObserver(){if(this.observer)return this.observer;const{componentsData:e,onComponentsVisible:t}=this.props;return this.observer=new IntersectionObserver(n=>{n.forEach(t=>{const n=t.target.dataset.id,{component:i}=Object(o.a)(e,n);i&&(t.isIntersecting?this.visibleComponents.add(i):this.visibleComponents.delete(i))}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{t([...this.visibleComponents])},80)},{root:this.nodeRefs.base}),this.observer}handleSectionDrop({sourceId:e,sourceIndex:t,sourceStyleguideId:n,targetStyleguideId:i,to:s}){if(n===i&&t===s)return;const{barrelId:a}=this.context;if(a!==n||a!==i)return void this.setAndFocusToStyleguideForComponentEditHintBox(n);const o=[{csid:[e],sourceIndex:t,to:s}];d.b.updateComponentSectionsOrder({componentSections:o,syncWithApi:!0})}handleComponentToSectionDrop({sourceIdPath:e,sourceIndex:t,targetSectionId:n,to:i,sourceStyleguideId:s,targetStyleguideId:a}){const{barrelId:o}=this.context;if(o!==s||o!==a)return void this.setAndFocusToStyleguideForComponentEditHintBox(s);const r=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:[n],sourceIndex:t,to:i}];d.b.updateComponentsOrder({components:r,syncWithApi:!0})}observeComponent(e){this.getIntersectionObserver().observe(e)}unobserveComponent(e){this.getIntersectionObserver().unobserve(e)}componentDidMount(){document.addEventListener("click",this.deselectComponent)}componentDidUpdate(e,t){this.state.dragging&&!t.dragging?document.body.classList.add("dragging"):!this.state.dragging&&t.dragging&&document.body.classList.remove("dragging")}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent),document.body.classList.remove("dragging")}renderComponents(){const{styleguideToShowComponentEditHintBox:e,componentContextMenu:t,dragging:n}=this.state,{barrel:o,moveResourcesPopup:l,componentsData:d,selection:h,selectionComponent:v,sortType:C,filterValue:O,scrolledSection:D,highlightScrolledSection:w,onSort:j,onFilter:T,onSelect:_,onLinkStyleguide:x}=this.props;if(!this.componentCount)return i.default.h(m.a,{type:m.a.TYPE.COMPONENTS,onButtonClick:x});const{barrelId:R,barrelUser:I}=this.context,P=d.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:s.e(i).length,componentSections:i}}),L=P.reduce((e,{componentCount:t})=>e+t,0),A="lastUpdated"===C,N="default"!==C,M="lastUpdated"!==C||!!O,U=v&&v._id,B=this.context.permissions.canManageStyleguide;return i.default.h(p.c,{class:Object(r.a)("componentsContent",{componentContextMenuOpen:!!t.coid}),onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:!B,baseRef:Object(a.a)(this,"components")},i.default.h(g.a,{class:"componentsFilterSortView",inputPlaceholder:"Search for a component",sortOptions:k,selectedSortType:C,filterValue:O,onSort:j,onFilter:T}),L?P.map(({id:r,name:d,componentCount:p,componentSections:m})=>{if(!p)return null;const g=r===R,f=g?null:i.default.h("a",{href:s.P("styleguide-components",{url:{bid:r}}),class:"headerButton",title:`Go to ${d}`},E);return[i.default.h(b.b,{ref:Object(a.a)(this,`styleguideHeader-${r}`),key:`styleguideHeader-${r}`,scroll:D===r,highlight:D===r&&w,onScroll:c.a.sectionScrolled},d,f),e===r&&!g&&i.default.h(y.a,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:d,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.default.h("div",{key:`components-${r}`,class:"componentSections"},m.map((e,s)=>{const c=l&&l.data&&l.data._id===e._id;return i.default.h(u.a,{ref:Object(a.a)(this,e._id,"componentRefs"),key:e.key||e._id,styleguideId:r,index:s,data:e,dragging:n,scrolledSection:D,highlightScrolledSection:w,actionsDisabled:A,selectionComponentId:U,selection:h,visibleComponents:this.visibleComponents,defaultSection:!s&&M,readOnly:N,filterValue:O,onSelect:_,componentContextMenu:t,optionsActive:c,showMoveSectionAction:r===R&&Object(S.a)(o,I),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionDrop:this.handleSectionDrop,onComponentToSectionDrop:this.handleComponentToSectionDrop})}))]}):i.default.h(f.a,{text:"No components with this name "}))}renderSidebar(){const{selectionStyleguideId:e,selectionComponent:t,selection:n,formatter:s,descriptionFormatter:a,sidebarWidth:o,colorsData:r,textStylesData:l,onExportClick:c,assetExportTarget:d}=this.props;return i.default.h(h.a,{componentCount:this.componentCount,selectionStyleguideId:e,selectionComponent:t,selection:n,formatter:s,descriptionFormatter:a,width:o,colorsData:r,textStylesData:l,onCloseClick:this.deselectComponent,onExportClick:c,assetExportTarget:d})}render(){return i.default.h("div",{ref:Object(a.a)(this,"base"),class:"componentsContainer"},this.renderComponents(),this.renderSidebar())}}},function(e,t,n){"use strict";var i=n(956);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(584),a=n(581),o=n(957),r=n(638),l=n(352),c=n(22),d=n(86),u=n(4),h=n(7),p=n(181),m=n(980);n.n(m);const g=136;t.a=class extends i.default.Component{constructor(e){super(e),this.state={addingDescription:!1,collapsed:!1},this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleGroupNameChange=this.handleGroupNameChange.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.handleCopyWebLink=this.handleCopyWebLink.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleComponentContextMenu=this.handleComponentContextMenu.bind(this),this.handleMoveSectionClick=this.handleMoveSectionClick.bind(this),this.handleExpand=this.handleExpand.bind(this),this.handleCollapse=this.handleCollapse.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}handleAddDescriptionClick(){this.setState({addingDescription:!0})}handleGroupNameChange(e,t){c.b.updateComponentSection({csids:e,componentSectionData:{name:t},syncWithApi:!0})}handleNameBlur({discard:e,value:t}){const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==p.a?c.b.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||c.b.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}handleCopyWebLink(){const{data:{_id:e}}=this.props;c.b.copyComponentSectionWebLink({seid:e})}handleCopyAppURI(){const{data:{_id:e}}=this.props;c.b.copyComponentSectionAppURI({cseid:e})}handleCreateSection(e,t){const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};c.b.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}handleDeleteSection(){const{data:{_id:e},index:t}=this.props;c.b.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}handleDeleteComponent(e){const{_id:t,idPath:n}=e;c.b.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}handleComponentContextMenu(e,t){const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}handleMoveSectionClick(e){e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({data:n,targetNode:i})}handleExpand(){this.setState({collapsed:!1})}handleCollapse(){this.setState({collapsed:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderComponentGroups(){const{data:{componentSections:e},styleguideId:t,selectionComponentId:n,selection:s,visibleComponents:a,filterValue:r,scrolledSection:l,highlightScrolledSection:c,onSelect:u,componentContextMenu:h,onComponentDidMount:p,onComponentDidUnmount:m,onCloseComponentContextMenu:g,onComponentDrop:f}=this.props,{collapsed:b}=this.state;return!b&&e&&e.length?i.default.h("div",{class:"componentGroups"},e.map(e=>i.default.h(o.a,{key:e._id,styleguideId:t,data:e,onComponentDidMount:p,onComponentDidUnmount:m,visibleComponents:a,filterValue:r,selectionComponentId:n,selection:s,scroll:l===e._id,highlight:l===e._id&&c,onNameChange:this.handleGroupNameChange,onSelect:u,onScroll:d.a.sectionScrolled,componentContextMenu:h,onCreateSection:this.handleCreateSection,onDeleteComponent:this.handleDeleteComponent,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:g,onHover:this.handleDragHover,onComponentDrop:f}))):null}renderComponents(){const{data:{components:e},styleguideId:t,selectionComponentId:n,selection:s,visibleComponents:a,filterValue:o,onSelect:l,componentContextMenu:{coid:c,clickOrigin:d},onComponentDidMount:u,onComponentDidUnmount:h,onCloseComponentContextMenu:p,onComponentDrop:m}=this.props,{collapsed:g}=this.state;if(g||!e||!e.length)return null;const f=e.map((g,f)=>{const b=e[f-1],y=e[f+1];return i.default.h(r.a,{styleguideId:t,key:g._id,leftComponentId:b&&b._id,rightComponentId:y&&y._id,index:f,data:g,visible:a.has(g),filterValue:o,selection:s,containsSelection:s&&n===g._id,onMount:u,onUnmount:h,onSelect:l,contextMenu:c===g._id?d:null,onCreateSection:this.handleCreateSection,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:p,onDrop:m})});return i.default.h("div",{class:"components"},f)}renderContent(){return i.default.h("div",{class:"componentSectionContent"},this.renderComponents(),this.renderComponentGroups())}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,a=t?i.default.h(s.a.Item,{onClick:this.highlightDescription},"Edit description"):i.default.h(s.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.default.h(s.a,null,!e&&[a,i.default.h(s.a.Item,{onClick:this.highlightName},"Rename section"),i.default.h(s.a.ItemDivider,null)],i.default.h(s.a.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.default.h(s.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.default.h(s.a.ItemDivider,null),!e&&[n&&i.default.h(s.a.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide"),i.default.h(s.a.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}render(){const{data:{componentSections:e,components:t,name:n,description:s,_id:o},index:r,styleguideId:c,defaultSection:p,readOnly:m,actionsDisabled:f,scrolledSection:b,highlightScrolledSection:y,optionsActive:v,onSectionDrop:S,onComponentToSectionDrop:C}=this.props,{addingDescription:E,collapsed:k}=this.state,O=e.reduce((e,t)=>e+t.components.length,t.length),D=`${Object(h.e)(O,"component")} collapsed`,w=this.renderContent(),j=this.renderOptionsMenu(),T=E?l.a:s,_=b===o,x=_&&y;return i.default.h(a.a,{type:l.c,id:o,optionsButtonRef:Object(u.a)(this,"sectionOptionsButton"),index:r,styleguideId:c,componentRef:Object(u.a)(this,"section","componentRefs"),collapsed:k,empty:0===O,componentCount:O,name:n,headerClass:"componentSectionHeader",description:T,countInfoText:D,optionsMenu:j,defaultSection:p,actionsDisabled:f,readOnly:m,topPadding:g,scroll:_,highlight:x,optionsActive:v,draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:d.a.sectionScrolled,onCollapse:this.handleCollapse,onExpand:this.handleExpand,onSectionDrop:S,onComponentToSectionDrop:C},w)}}},function(e,t,n){"use strict";var i=n(958);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(8),r=n(351),l=n(638),c=n(979);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleNameBlur=this.handleNameBlur.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.state={menuShown:!1}}hideOptionsMenu(){this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;if(e){this.state.collapsed&&this.setState({collapsed:!1});const{top:e}=this.nodeRefs.base.getBoundingClientRect();Object(o.d)(this.nodeRefs.base).scrollTop+=e-150}t&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}handleNameBlur({discard:e,value:t}){const{data:{idPath:n,name:i},onNameChange:s}=this.props;e||i===t||s(n,t)}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(){const{data:{components:e},styleguideId:t,visibleComponents:n,filterValue:s,selectionComponentId:a,selection:o,onSelect:r,componentContextMenu:{coid:c,clickOrigin:d},onCreateSection:u,onDeleteComponent:h,onComponentDidMount:p,onComponentDidUnmount:m,onComponentContextMenu:g,onCloseComponentContextMenu:f,onComponentDrop:b}=this.props,y=e.map((y,v)=>{const S=e[v-1],C=e[v+1];return i.default.h(l.a,{key:y._id,styleguideId:t,index:v,leftComponentId:S&&S._id,rightComponentId:C&&C._id,data:y,visible:n.has(y),filterValue:s,selection:o,containsSelection:o&&a===y._id,onSelect:r,contextMenu:c===y._id?d:null,onMount:p,onUnmount:m,onCreateSection:u,onDelete:h,onContextMenu:g,onCloseContextMenu:f,onDrop:b})});return i.default.h("div",{class:"components"},y)}renderHeader(){const{data:{name:e}}=this.props;return i.default.h("div",{class:"header",ref:Object(a.a)(this,"header")},i.default.h("div",{class:"groupInfo"},i.default.h(r.a,{value:e,required:!0,onBlur:this.handleNameBlur})))}render(){const{menuShown:e}=this.state,t=Object(s.a)("componentGroup",{menuShown:e});return i.default.h("div",{ref:Object(a.a)(this,"base"),class:t},this.renderHeader(),this.renderComponents())}}},function(e,t,n){"use strict";var i=n(0),s=n(960),a=n(127),o=n(374),r=n(1),l=n(8),c=n(6),d=n(2),u=n(4),h=n(639),p=n(978),m=(n.n(p),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const g=12,f=80,b=240;const y=Object(r.I)(Object(a.a)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const s=t.width,a=t.height,r={};s<48||a<48?(r.width=s,r.height=a):r.paddingBottom=`${100*a/s}%`;const l=Math.max(96,12*Math.ceil(s/12)+48);return i.default.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.default.h(o.a,{class:Object(d.a)("componentContent",e),snapshot:t,style:r},i.default.h(o.a.Image,null)),i.default.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:s}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:s}}}),Object(a.b)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(s.a);t.a=class extends i.default.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.getComponentContainerElement=this.getComponentContainerElement.bind(this)}getComponentContainerElement(){return Object(l.d)(this.nodeRefs.dragBase)}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(c.c)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const s=function(e,t){let n=e.height;if(t){const i=document.querySelector(`.component[data-id="${t}"]`).getBoundingClientRect();e.top===i.top&&(n=Math.min(e.height,i.height))}const i=Math.max(f,Math.min(b,Math.round(n-2*g)));return{height:i,top:Math.max(0,Math.round((n-i)/2))}}(t,i);this.setState(Object(r.w)({moveCubukPosition:n?h.a.RIGHT:h.a.LEFT,moveCubukHeight:s.height,moveCubukTop:s.top}))}handleDragHoverOut(){this.setState(Object(r.w)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:s}=this.state;return i.default.h(y,m({baseRef:Object(u.a)(this,"base"),dragBaseRef:Object(u.a)(this,"dragBase"),lightness:s,getComponentContainerElement:this.getComponentContainerElement,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}},function(e,t,n){"use strict";var i=n(961);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(1),r=n(374),l=n(977),c=(n.n(l),n(52)),d=n(27),u=n(362),h=n(586),p=n(639);const m=12,g=4*m,f=60,b=96,y=b-g;t.a=class extends i.default.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleDelete=this.handleDelete.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(u.b)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(a.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:s}},onSelect:a}=this.props;e.stopPropagation(),this.resetDistances(),a(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:s,selectedLayer:n,snapshotDetailRect:this.nodeRefs.snapshotDetail.getBoundingClientRect()}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n},containsSelection:i}=this.props,{containsSelection:s}=e;!i&&s&&(this.scrollIntoView=!0),this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e,getComponentContainerElement:t}=this.props,{imageRequested:n}=this.state;if(e&&!n&&this.setState({imageRequested:!0}),this.scrollIntoView){this.scrollIntoView=!1;const e=this.nodeRefs.base.getBoundingClientRect(),n=t();if(!n)return;const i=n.getBoundingClientRect();(e.bottom<i.top||e.top>i.bottom)&&(n.scrollTop+=e.top-i.top-f)}}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:s,y:a,width:o,height:l}}}=this.props;return i.default.h(r.a.Rulers,{x:s,y:a,width:o,height:l})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.default.h(r.a.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:s}=this.props,{imageRequested:a,hoveredId:o}=this.state;return(n||a)&&e.length?i.default.h(r.a.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:o,onLayerSelect:this.handleLayerSelect,onLayerEnter:s?this.handleLayerEnter:null,onLayerLeave:s?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{data:{latestVersion:{snapshot:e,snapshot:{width:t,height:n}}},visible:o,lightness:l}=this.props,{imageRequested:c}=this.state,d=Object(s.a)("componentContent",l),u={};return t<y||n<y?(u.width=t,u.height=n):u.paddingBottom=`${100*n/t}%`,i.default.h(r.a,{class:d,snapshot:e,style:u,snapshotDetailRef:Object(a.a)(this,"snapshotDetail")},o||c?i.default.h(r.a.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e},filterValue:t}=this.props;let n=e;if(t){const s=e.toLowerCase();let a=0;n=[];for(const o of t){const t=s.indexOf(o,a);n.push(e.substring(a,t)),n.push(i.default.h("span",{class:"highlight"},e.substr(t,o.length))),a=t+o.length}n.push(e.substring(a))}return i.default.h("span",{class:"name ellipsis noSelect",title:e,key:"name"},n)}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t}=this.props;if(!e)return;const n=[i.default.h(c.a.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),i.default.h(c.a.ItemDivider,null),i.default.h(c.a.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")];return i.default.h(c.a.withAutoPosition,{class:"componentContextMenu",onMouseDown:o.N,autoPosition:{sidebar:".barrelContainer .styleguide .componentsContainer .sidebar.left",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:t},n)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.default.h(d.a,{title:`Delete ${t}?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:a,dragging:o,moveCubukPosition:r,moveCubukTop:l,moveCubukHeight:c}=this.props,d=n&&n._id,u=Object(s.a)("component",{selected:e===d,dragging:o}),f={width:function(e){return`${Math.max(b,Math.ceil(e/m)*m+g)}px`}(t)},y=i.default.h(h.a,{top:l,height:c});return i.default.h("div",{class:"componentWrapper"},i.default.h("div",{class:"componentPaddingArea left"},r===p.a.LEFT&&y),i.default.h("div",{class:u,style:f,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:a?this.handleComponentEnter:null,onMouseLeave:a?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.default.h("div",{class:"componentPaddingArea right"},r===p.a.RIGHT&&y))}}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(963),o=n(966),r=n(969),l=n(975);class c extends i.default.Component{getChildContext(){const{snapshot:e}=this.props;return{snapshot:e}}render(){const{class:e,style:t,children:n,onClick:a,snapshotDetailRef:o}=this.props;return i.default.h("div",{class:Object(s.a)("snapshotDetail",e),style:t,onClick:a,ref:o},n)}}c.Layers=r.a,c.Rulers=o.a,c.Distances=a,c.Image=l.a,t.a=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(964);n.d(t,"BetweenEdges",function(){return i.a}),n.d(t,"BetweenLayers",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return c});var i=n(0),s=n(75),a=n(965);n.n(a);const o=7;function r(e){const{side:t,top:n,left:s,amount:a,value:o}=e,r=["left","right"].includes(t)?"width":"height",l=["left","right"].includes(t)?"horizontal":"vertical",c={top:n,left:s,[r]:a};return i.default.h("div",{class:`distance ${l}`,style:c},i.default.h("div",{class:"value"},o))}function l(e){const{measurements:t}=e,n=["top","right","bottom","left"].map(e=>{if(null===t[`${e}DistanceAmount`])return null;const{[`${e}DistanceTop`]:n,[`${e}DistanceLeft`]:s,[`${e}DistanceAmount`]:a,[`${e}DistanceValue`]:o}=t;return i.default.h(r,{key:`${e}-distance`,side:e,top:n,left:s,amount:a,value:o})},this);return n.filter(Boolean).length?i.default.h("div",{class:"distances"},n):null}class c extends i.default.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:a},densityScale:r,dimensionSuffix:l}=this.context,c=e.x,d=c+e.width,u=t.x,h=u+t.width;let p=!1,m=null,g=null,f=null,b=null,y=null,v=null,S=null,C=null,E=null,k=null;return h<c?(E=c-h,v=Object(s.d)(h,a)):u<c&&h>d?(E=c-u,v=Object(s.d)(u,a),k=h-d,g=Object(s.d)(d,a),m=Object(s.d)((c+d)/2,a),y=Object(s.d)((c+d)/2,a),p=!0):u>c&&h<d?(E=u-c,v=Object(s.d)(c,a),k=d-h,g=Object(s.d)(h,a)):h>c&&h<d?(E=c-u,v=Object(s.d)(u,a),h-c>o&&(m=Object(s.d)((h+c)/2,a),y=Object(s.d)((h+c)/2,a),p=!0)):u>c&&u<d?(E=u-c,v=Object(s.d)(c,a),d-u>o&&(m=Object(s.d)((u+d)/2,a),y=Object(s.d)((u+d)/2,a),p=!0)):u>d&&(k=u-d,g=Object(s.d)(d,a)),E&&(S=Object(s.d)(E,a),C=n?Object(s.b)(E,i.width):Object(s.e)(E,r,l)),k&&(f=Object(s.d)(k,a),b=n?Object(s.b)(k,i.width):Object(s.e)(k,r,l)),p||(m=Object(s.d)((u+h)/2,a),y=Object(s.d)((u+h)/2,a)),{topDistanceLeft:m,rightDistanceLeft:g,rightDistanceAmount:f,rightDistanceValue:b,bottomDistanceLeft:y,leftDistanceLeft:v,leftDistanceAmount:S,leftDistanceValue:C}}_measureVertical(e,t,n,i){const{snapshot:{height:a},densityScale:r,dimensionSuffix:l}=this.context,c=e.y,d=c+e.height,u=t.y,h=u+t.height;let p=!1,m=null,g=null,f=null,b=null,y=null,v=null,S=null,C=null,E=null,k=null;return h<c?(E=c-h,m=Object(s.d)(h,a)):u<c&&h>d?(E=c-u,m=Object(s.d)(u,a),k=h-d,S=Object(s.d)(d,a),C=Object(s.d)((c+d)/2,a),b=Object(s.d)((c+d)/2,a),p=!0):u>c&&h<d?(E=u-c,m=Object(s.d)(c,a),k=d-h,S=Object(s.d)(h,a)):h>c&&h<d?(E=c-u,m=Object(s.d)(u,a),h-c>o&&(C=Object(s.d)((h+c)/2,a),b=Object(s.d)((h+c)/2,a),p=!0)):u>c&&u<d?(E=u-c,m=Object(s.d)(c,a),d-u>o&&(C=Object(s.d)((u+d)/2,a),b=Object(s.d)((u+d)/2,a),p=!0)):u>d&&(k=u-d,S=Object(s.d)(d,a)),E&&(g=Object(s.d)(E,a),f=n?Object(s.b)(E,i.height):Object(s.e)(E,r,l)),k&&(y=Object(s.d)(k,a),v=n?Object(s.b)(k,i.height):Object(s.e)(k,r,l)),p||(C=Object(s.d)((u+h)/2,a),b=Object(s.d)((u+h)/2,a)),{topDistanceTop:m,topDistanceAmount:g,topDistanceValue:f,rightDistanceTop:b,bottomDistanceAmount:y,bottomDistanceValue:v,bottomDistanceTop:S,leftDistanceTop:C}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.default.h(l,{measurements:this.measure()})}}class d extends i.default.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i},densityScale:a,dimensionSuffix:o}=this.context,{edgesToMeasure:r}=this.props,l=e.x,c=l+e.width,d=e.y,u=d+e.height;let h=null,p=null,m=null,g=null,f=null,b=null,y=null,v=null,S=null,C=null,E=null,k=null,O=null,D=null,w=null,j=null;return r.includes("left")&&(h=0,m=Object(s.d)(l,n),p=Object(s.d)((d+u)/2,i),g=t?Object(s.b)(l,n):Object(s.e)(l,a,o)),r.includes("top")&&(b=0,y=Object(s.d)(d,i),f=Object(s.d)((l+c)/2,n),v=t?Object(s.b)(d,i):Object(s.e)(d,a,o)),r.includes("right")&&(S=Object(s.d)(c,n),E=Object(s.d)(n-c,n),C=Object(s.d)((d+u)/2,i),k=t?Object(s.b)(n-c,n):Object(s.e)(n-c,a,o)),r.includes("bottom")&&(w=Object(s.d)(u,i),O=Object(s.d)(i-u,i),j=Object(s.d)((l+c)/2,n),D=t?Object(s.b)(i-u,i):Object(s.e)(i-u,a,o)),{leftDistanceLeft:h,leftDistanceTop:p,leftDistanceAmount:m,leftDistanceValue:g,topDistanceLeft:f,topDistanceTop:b,topDistanceAmount:y,topDistanceValue:v,rightDistanceLeft:S,rightDistanceTop:C,rightDistanceAmount:E,rightDistanceValue:k,bottomDistanceLeft:j,bottomDistanceTop:w,bottomDistanceAmount:O,bottomDistanceValue:D}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.default.h(l,{measurements:this.measure()})}}},function(e,t){},function(e,t,n){"use strict";var i=n(967);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(75),a=n(968);n.n(a);t.a=function(e){const{x:t,y:n,width:a,height:o}=e,{snapshot:{width:r,height:l}}=this.context,c=Object(s.d)(n,l),d=Object(s.d)(t+a,r),u=Object(s.d)(n+o,l),h=Object(s.d)(t,r);return i.default.h("div",{class:"rulers"},i.default.h("div",{style:{top:c},class:"ruler horizontal"}),i.default.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.default.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.default.h("div",{style:{left:h},class:"ruler vertical"}))}},function(e,t){},function(e,t,n){"use strict";var i=n(970);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(971),a=n(974);n.n(a);t.a=class extends i.default.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this)}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:a,edgeDistanceMode:o,selectedLayerId:r,hoveredId:l,parentLayer:c}=this.props,{snapshot:d,densityScale:u,dimensionSuffix:h}=this.context,p=!!r&&r===e._id,m=p&&!o&&(!l||l===e._id),g=i.default.h(s.a,{key:e._id,selected:p,shouldRenderDimensions:m,parentLayer:c,container:d,data:e,densityScale:u,dimensionSuffix:h,onSelect:t,onEnter:n,onLeave:a});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(g),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(g),t}return[g]}render(){const{layers:e,componentLayer:t}=this.props;return i.default.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),t)}}},function(e,t,n){"use strict";var i=n(972);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(75),a=n(2),o=n(25),r=n(973);n.n(r);const l=120,c=3;t.a=class extends o.a{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<c||n<c)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.default.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.default.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.default.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.default.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>l&&n.push(i.default.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.default.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>l&&n.push(i.default.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.default.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<c,s=t<c,a=n?"calc(100% + 12px)":"100%",o=s?"calc(100% + 12px)":"100%",r=n?"-6px":"0",l=s?"-6px":"0";return i.default.h("div",{key:"hitRegion",class:"hitRegion",style:{width:a,height:o,top:r,left:l}})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:a,dimensionSuffix:o}=this.props;return e?[i.default.h("div",{key:"layerWidth",class:"layerWidth"},Object(s.b)(t,e.rect.width)),i.default.h("div",{key:"layerHeight",class:"layerHeight"},Object(s.b)(n,e.rect.height))]:[i.default.h("div",{key:"layerWidth",class:"layerWidth"},Object(s.e)(t,a,o)),i.default.h("div",{key:"layerHeight",class:"layerHeight"},Object(s.e)(n,a,o))]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:o,height:r},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:h}=this.props,p={width:Object(s.d)(o,d.width),height:Object(s.d)(r,d.height),left:Object(s.d)(l,d.width),top:Object(s.d)(c,d.height)};return i.default.h("div",{class:Object(a.a)("zplLayer",{selected:e}),style:p,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},h&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.default.h("div",{class:"parent"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(976);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=class extends i.default.Component{constructor(e){super(e),this.state={src:null}}componentDidMount(){const{snapshot:{url:e}}=this.context;this.setState({src:e})}componentWillReceiveProps(e,t){const{src:n}=this.state;n!==t.snapshot.url&&this.setState({src:t.snapshot.url})}render(){const{class:e,style:t,onError:n}=this.props,{src:s}=this.state,{snapshot:{width:a,height:o}}=this.context;return i.default.h("img",{class:e,style:t,width:a,height:o,src:s,crossOrigin:"anonymous",onError:n})}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(982);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(17),a=n(16),o=n(1),r=n(4),l=n(50),c=n(8),d=n(271),u=n(22),h=n(65),p=n(86),m=n(282),g=n(984),f=n(692),b=n(132);t.a=class extends i.default.Component{constructor(){super(),this.handleAddColorClick=this.handleAddColorClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this),this.handleAddTextStyleClick=this.handleAddTextStyleClick.bind(this),this.handleTextStyleNameChange=this.handleTextStyleNameChange.bind(this),this.handleAssetNameChange=this.handleAssetNameChange.bind(this),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleCopy=this.handleCopy.bind(this),this.handleCodeCopy=this.handleCodeCopy.bind(this)}handleDescriptionChange(e,t){const n=[...e],i=n.pop();u.b.updateComponent({csids:n,coid:i,componentData:{description:t},syncWithApi:!0})}handleAddColorClick(e){u.b.addColor({color:e,syncWithApi:!0}),Object(l.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}handleColorNameChange(e,t){const{colorsData:[{colors:n}]}=this.props;if(n.find(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();u.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}handleRemoveColorClick(e){u.b.removeColor({cid:e,syncWithApi:!0})}handleAddTextStyleClick(e){u.b.addTextStyle({textStyle:e,syncWithApi:!0}),Object(l.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}handleTextStyleNameChange(e){const{textStylesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return s.a({title:`${name} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();u.b.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}handleRemoveTextStyleClick(e){u.b.removeTextStyle({tsid:e,syncWithApi:!0})}handleAssetNameChange(e,t){const{selectionComponent:{_id:n,latestVersion:{snapshot:i}}}=this.props;u.b.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})}handleCopy(e){Object(c.c)({content:e,toastContainer:this.nodeRefs.sidebar})}handleCodeCopy(e,t,n){const{projectType:i}=this.context;this.handleCopy(e),mixpanel.webapp.track("Copied extension snippet",{from:t,extension:n}),a.createIntercomUserTag(Object(o.r)(i))}handleDownloadAssetClick(e,t){const{selectionComponent:{name:n,latestVersion:i}}=this.props;u.b.downloadAsset({containerName:n,version:i,assetId:e,format:t})}renderComponentPanel(){const{componentCount:e,selectionStyleguideId:t,selectionComponent:n,selection:s,formatter:a,descriptionFormatter:o,colorsData:r,textStylesData:l,assetExportTarget:c,onCloseClick:p}=this.props;if(!s)return i.default.h(g.a.NoSelectionState,{componentCount:e});if(n._id===s._id)return i.default.h(g.a,{component:s,selectionStyleguideId:t,descriptionFormatter:o,formatter:a,colorsData:r,assetExportTarget:c,onCopy:this.handleCopy,onDescriptionChange:this.handleDescriptionChange,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onUsedInScreenClick:h.b.openScreenFromComponent,onOpenExportTargetClick:u.b.openExportTarget,onChangeExportTargetClick:u.b.changeExportTarget,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityWarningClick:m.b.hideDensityMismatchWarning,onHideBitmapInfoClick:m.b.hideNoVectorAssetInfo,onAssetDensityOptionChange:u.b.changeAssetDensityScalePref,onNamingConventionChange:u.b.changeAssetNamingConvention,onShowOptimizedSVGChange:u.b.toggleSVGOptimization,onExtensionSettingsClick:u.b.openExtensionSettings,onCopyCode:this.handleCodeCopy,onCloseClick:p});const{assetDensityScalePrefs:b,assetNamingConvention:y,showOptimizedSVG:v,bitmapInfoHidden:S,densityWarningHidden:C,projectType:E}=this.context;let k;s.exportable&&(k=n.latestVersion.snapshot.assets.find(e=>e.layerId?e.layerId===s.sourceId:e.layerName===s.name));const O=new d.a(Object.assign({},s,{asset:k}));return i.default.h(f.a,{layer:O,layerContainer:n,version:n.latestVersion,bitmapInfoHidden:S,densityWarningHidden:C,assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:v,colorsData:r,textStylesData:l,projectType:E,formatter:a,onCopyContent:this.handleCopy,onCopyCode:this.handleCodeCopy,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:p})}render(){const{width:e}=this.props;return i.default.h(b.a,{baseRef:Object(r.a)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:o.N,onRelease:p.a.changeRightSidebarWidth},this.renderComponentPanel())}}},function(e,t,n){"use strict";var i=n(640),s=n(641);function a(e,t){s.a.dispatch({type:i.a.SET_PREF,name:e,value:t})}const o={hideDensityMismatchWarning(){a("hideDensityMismatchWarning",!0)},hideNoVectorAssetInfo(){a("hideNoVectorAssetInfo",!0)},dismissFlowLinkInfo(){a("flowLinkInfoDismissed",!0)},hideSourceFileInfo(){a("hideSourceFileInfo",!0)}};t.a=o},function(e,t,n){"use strict";var i=n(985);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(35),a=n(18),o=n(1),r=n(4),l=n(375),c=n(5),d=n(685),u=n(372),h=n(94),p=n(133),m=n(686),g=n(644),f=n(1020),b=n(178),y=n(646),v=n(69),S=n(1034),C=n(1037);n.n(C);const E=89,k=146,O=36,D=60,w=52;class j extends i.default.Component{constructor(e){super(e),this.handleComponentCodeResize=this.handleComponentCodeResize.bind(this),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleGenerateSnippet=this.handleGenerateSnippet.bind(this),this.handleWindowResize=Object(o.g)(this.handleWindowResize).bind(this),this.state={hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+E>=i?this.setState({codeGap:0,codeHeight:E,codeMaxHeight:E,componentDetailHeight:i-E,componentDetailBottomPadding:O}):this.setState({codeGap:w,codeHeight:null,codeMaxHeight:i-n-O,componentDetailHeight:null,componentDetailBottomPadding:O})}handleComponentCodeResize(e){requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}handleDescriptionSubmit(e){const{component:{idPath:t,description:n},onDescriptionChange:i}=this.props;e!==n&&i(t,e)}handleGenerateSnippet(e){this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}handleWindowResize(){this.state.hasSnippet&&this.setCodePanelHeight()}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{component:e,component:{_id:t,name:n,latestVersion:v,latestVersion:{snapshot:{width:C,height:O,backgroundColor:w,assets:j=[]}},description:T,usedScreens:_=[]},selectionStyleguideId:x,descriptionFormatter:R,formatter:I,colorsData:P,onCopy:L,onColorNameChange:A,onAddColorClick:N,onRemoveColorClick:M,onUsedInScreenClick:U,assetExportTarget:B,onChangeExportTargetClick:z,onOpenExportTargetClick:F,onDownloadAssetClick:H,onAssetNameChange:q,onHideDensityWarningClick:V,onHideBitmapInfoClick:W,onAssetDensityOptionChange:$,onNamingConventionChange:G,onShowOptimizedSVGChange:Z,onCopyCode:Y,onExtensionSettingsClick:K,onCloseClick:X}=this.props,{codeGap:J,codeMaxHeight:Q,componentDetailHeight:ee,componentDetailBottomPadding:te,codeHeight:ne}=this.state,{barrelType:ie,barrelId:se,permissions:{canManageScreens:ae},projectType:oe,assetDensityScalePrefs:re,assetNamingConvention:le,bitmapInfoHidden:ce,densityWarningHidden:de,showOptimizedSVG:ue,shortlinks:he}=this.context,pe=Object(l.b)([v])[0],me=ie===a.a.PROJECT?"pid":"stid",ge=`${c.E}//components?${me}=${se}&coid=${t}`,fe=ie===a.a.PROJECT?"project-styleguide-components":"styleguide-components",be=Object(o.P)(fe,{url:{bid:se},query:{coid:t}}),ye=be in he?he[be]:null,ve=!ae||se!==x,Se=j.find(e=>"snapshot"===e.layerId);let Ce;return Se&&(Ce=Object(l.a)(Se,I,oe)),i.default.h("div",{class:"componentDetailWrapper",ref:Object(r.a)(this,"base")},i.default.h("div",{class:"componentDetailContentWrapper",style:{height:ee,paddingBottom:te}},i.default.h("div",{class:"componentDetail",ref:Object(r.a)(this,"componentDetail")},i.default.h(y.a,{onCloseClick:X},n),i.default.h("div",null,i.default.h(h.a,null,i.default.h(d.a,{key:pe.username,avatar:pe.avatar,username:pe.username,versionCount:pe.versions,authorCount:1,lastUpdated:pe.lastUpdated})),i.default.h(h.a,{title:"Description"},i.default.h(u.a,{class:"descriptionInput",formatter:R,value:T,placeholder:ve?"No description yet":"Got any notes?",readOnly:ve,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.default.h(h.a,{title:"Share"},i.default.h("div",{class:"shareViewWrapper"},i.default.h(m.a,{webUrl:ye,appUri:ge,onCopy:L}))),Ce&&i.default.h(g.a,{asset:Ce,projectType:oe,densityWarningHidden:de,bitmapInfoHidden:ce,assetDensityScalePrefs:re,namingConvention:le,showOptimizedSVG:ue,assetExportTarget:B,onChangeExportTargetClick:z,onOpenExportTargetClick:F,onDownloadClick:H,onNameChange:q,onHideDensityWarningClick:V,onHideBitmapInfoClick:W,onAssetDensityOptionChange:$,onNamingConventionChange:G,onShowOptimizedSVGChange:Z}),!Ce&&i.default.h(h.a,{title:"Size"},i.default.h(b.a.Group,null,i.default.h(b.a,{name:"Width"},I.length(C)),i.default.h(b.a,{name:"Height"},I.length(O)))),w&&i.default.h(h.a,{title:"Background color"},i.default.h(p.a,{color:Object(l.c)(new s.a(w),I,P),onNameChange:A,onAddClick:N,onRemoveClick:M})),!!_.length&&i.default.h(h.a,{title:"Used in"},i.default.h(S.a,{screens:_,componentId:t,componentName:n,onScreenClick:U}))))),i.default.h(f.a,{component:e,version:v,codeGap:J,height:ne,maxHeight:Q,minHeight:E,maxResizeHeight:window.innerHeight-D-k,minResizeHeight:E,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:Y,onSettingsClick:K}))}}j.NoSelectionState=function(e){const{componentCount:t}=e;return t?i.default.h("div",{class:"componentsSidebarNoSelectionState"},i.default.h("h2",null,t," Components ",i.default.h(v.a,{width:24,height:24,asset:"img/emjDango.png",alt:"",title:""})),i.default.h("p",null,"Some say the more components you have, the cooler you are."),i.default.h("p",null,"You can learn more about components from ",i.default.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},"here"),".")):null},t.a=j},function(e,t,n){"use strict";var i=n(0),s=n(37),a=n(122),o=n(987);n.n(o);t.a=function(e){const{avatar:t,username:n,versionCount:o,authorCount:r,lastUpdated:l}=e;return i.default.h("div",{class:"versionAuthor"},i.default.h(s.a,{src:t.src,srcset:t.srcset,class:"userImageFrame",width:"28",height:"28"}),i.default.h("div",{class:"authorAndCount"},i.default.h("span",{class:"author ellipsis",title:n},n),(r>1||o>1)&&i.default.h("span",null,", ",o," version",o>1?"s":"")),i.default.h(a.a,{type:"time-ago",format:"micro",class:"date",datetime:l}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(989);n.n(a);t.a=function(e){const{class:t,children:n,title:a}=e,o=Object.assign({},e,{class:Object(s.a)("sidebarSection",t)});return delete o.children,delete o.title,i.default.h("div",o,a&&i.default.h("h2",{class:"title"},a),n)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(642),a=n(184),o=n(999);n.n(o);const r=Object(a.a)(class extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:a,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:h}=this.props,{permissions:{canManageColors:p}}=this.context;return i.default.h("div",{class:"layerColor"},i.default.h("div",{class:"colorPreview",style:{backgroundColor:a}}),i.default.h(s.a,{class:"layerColorInfo",added:n,hover:h,id:e,name:t,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}});t.a=r},function(e,t,n){"use strict";var i=n(0),s=n(634),a=n(18),o=n(643),r=n(2),l=n(1),c=n(998);n.n(c);const d=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554d56",d:"M16.359 12.563H6.375a.562.562 0 1 1 0-1.126h9.984l-2.86-2.985a.575.575 0 0 1 0-.789.519.519 0 0 1 .755 0l3.777 3.943a.575.575 0 0 1 0 .788l-3.777 3.943a.519.519 0 0 1-.756 0 .575.575 0 0 1 0-.789l2.86-2.985z"}),i.default.h("circle",{cx:"12",cy:"12",r:"8.5",fill:"none","stroke-width":"1.25",stroke:"#554d56"}));t.a=function(e,t){const{added:n,isMember:c,isOrganizationBarrel:u,styleguideId:h,styleguideName:p,id:m,name:g,canManageColors:f,class:b,colorString:y,hover:v,opacity:S,onAddClick:C,onRemoveClick:E,onNameChange:k}=e,{projectType:O,barrelType:D,barrelId:w}=t;let j;g&&(j=n&&f&&h===w?i.default.h(s.a,{initialValue:g,filterRegex:l.f[O],prefix:"#",maxLength:36,blurOnEnter:!0,onBlur:k}):i.default.h("div",null,i.default.h("span",{class:"name"},"#",g,S&&i.default.h("span",{class:"opacity"},", ",S))));const T=!f||n&&h!==w,_=D===a.a.STYLEGUIDE?"styleguide":"project-styleguide",x=Object(l.P)(`${_}-colors`,{url:{bid:w},query:{cid:m}});return i.default.h("div",{class:Object(r.a)("colorInfo",b,{hover:v})},i.default.h("div",{class:"infoContent"},j,i.default.h("div",{class:"value"},y)),i.default.h(o.a,{onAddClick:C,onRemoveClick:E,resourceAdded:n,isMember:c,isOrganizationBarrel:u,styleguideId:h,styleguideName:p,canManageResource:f,class:"resourceButton",type:o.a.TYPE.COLOR,disabled:T}),m&&i.default.h("a",{href:x,class:"goToResource","data-link-type":"inApp"},d))}},function(e,t,n){"use strict";var i=n(0),s=n(993),a=n(995),o=n(997);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:o,styleguideName:l,canManageResource:c,type:d=r.TYPE.DEFAULT,resourceAdded:u,disabled:h},{hasClickHover:p}){return u?i.default.h(a.a,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:o,styleguideName:l,disabled:h,hideHoverState:p,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.default.h(s.a,{type:d,class:e,disabled:h,onClick:this.handleAddClick})}}r.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.a=r},function(e,t,n){"use strict";var i=n(994);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(85),o=n(96);const r={color:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}))),textStyle:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"})))};t.a=function(e,t){const{class:n,disabled:l,type:c,onClick:d}=e,{userRole:u}=t,h=c.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`),p=l?Object(o.a)(u,`add ${h}s`):`Add ${h} to Styleguide`;return i.default.h(a.a,{targetClass:n,content:p},i.default.h(s.a,{class:"addResourceButton resourceButtonButton",disabled:l,onClick:d},r[c]))}},function(e,t,n){"use strict";var i=n(996);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(9),o=n(85),r=n(96),l=n(2);const c={color:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd",opacity:".5"},i.default.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}))),textStyle:i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24"},i.default.h("g",{fill:"#FFF","fill-opacity":".5","fill-rule":"evenodd"},i.default.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.344 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.337l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"})))},d={color:[i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",key:"default"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd"},i.default.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.default.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}))),i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",class:"remove",key:"remove"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(4 4)"},i.default.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.default.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"})))],textStyle:[i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",key:"default"},i.default.h("g",{fill:"#FFF","fill-rule":"evenodd"},i.default.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}))),i.default.h("svg",{width:"36",height:"24",viewBox:"0 0 36 24",class:"remove",key:"remove"},i.default.h("g",{fill:"#FFF",transform:"translate(4 5)"},i.default.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.default.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"})))]};function u({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:a,styleguideName:o,resourceName:l,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:a,styleguideId:o,styleguideName:l}){if(!n)return Object(r.a)(a,`delete ${e}s`);const c=Object(s.P)("styleguide",{url:{bid:o}});return t?[i.default.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.default.h("p",{key:"tooltipLink"},i.default.h("a",{href:c},"Go to ",l)," to update the ",e,"s.")]:[i.default.h("p",{key:"tooltipExplanation"},"Youre not a member of the ",i.default.h("strong",null,l)," Styleguide, only members can remove ",e,"s."),i.default.h("p",{key:"tooltipLink"},i.default.h("a",{href:c},"Join to edit ",l),".")]}({resourceName:l,isMember:e,canManageResource:n,userRole:c,styleguideId:a,styleguideName:o}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:a}){return t?[i.default.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.default.h("p",{key:"tooltipLink"},i.default.h("a",{href:Object(s.P)("styleguide",{url:{bid:n}})},"Go to ",a)," update the ",e,"s.")]:i.default.h("p",null,"You are not a member of ",a,". Contact the owner to request access.")}({resourceName:l,isMember:e,styleguideId:a,styleguideName:o})}t.a=function(e,t){const{class:n,disabled:s,type:r,onClick:h,hideHoverState:p,onMouseLeave:m,isMember:g,isOrganizationBarrel:f,canManageResource:b,styleguideId:y,styleguideName:v}=e,{userRole:S}=t,C=r.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`),E=s?u({isMember:g,isOrganizationBarrel:f,canManageResource:b,styleguideId:y,styleguideName:v,resourceName:C,userRole:S}):`Delete ${C} from Styleguide`,k=i.default.h(a.a,{class:Object(l.a)("removeResourceButton","resourceButtonButton",{hideHoverState:p}),disabled:s,onClick:h,onMouseLeave:m},s?c[r]:d[r]);return p?k:function(e,{targetClass:t,content:n}){return i.default.h(o.a,{targetClass:t,content:n},e)}(k,{targetClass:n,content:E})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(9),o=n(85),r=n(1001);n.n(r);const l=i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}));function c(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function d(e){const t=window.getSelection().toString().trim();return t&&t!==e}t.a=class extends i.default.Component{constructor(e){super(e),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleCopyAppUriClick=this.handleCopyAppUriClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyWebUrlClick=this.handleCopyWebUrlClick.bind(this)}copyLink(e){const{webUrl:t,appUri:n,onCopy:i}=this.props;i("web"===e?t:n)}handleCopyAppUriClick(){this.copyLink("app")}handleCopyWebUrlClick(){this.copyLink("web")}handleCopyAppUri(e){d(this.props.appUri)||(e.preventDefault(),this.copyLink("app"),Object(s.l)(e.target))}handleCopyWebUrl(e){d(c(this.props.webUrl))||(e.preventDefault(),this.copyLink("web"),Object(s.l)(e.target))}render(){const{webUrl:e,appUri:t}=this.props;return i.default.h("div",{class:"shareView"},i.default.h("div",{class:"shareLink"},i.default.h("span",{class:"linkType"},"Web:"),e?[i.default.h("span",{class:"link"},i.default.h(o.a,{content:"Click to copy"},i.default.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},c(e)))),i.default.h("div",{class:"shareButtons"},i.default.h(o.a,{targetClass:"shareButton",content:"Copy web link"},i.default.h(a.a,{onClick:this.handleCopyWebUrlClick},l)))]:i.default.h("span",{class:"fetching"},"Fetching")),i.default.h("div",{class:"shareLink"},i.default.h("span",{class:"linkType"},"App:"),i.default.h("span",{class:"link"},i.default.h(o.a,{content:"Click to copy"},i.default.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.default.h("div",{class:"shareButtons"},i.default.h(o.a,{targetClass:"shareButton",content:"Open in App"},i.default.h("a",{href:t},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"})))),i.default.h(o.a,{targetClass:"shareButton",content:"Copy app URI"},i.default.h(a.a,{onClick:this.handleCopyAppUriClick},l)))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(88),o=n(8),r=n(1),l=n(41),c=n(687),d=n(688),u=n(689),h=n(690),p=n(691),m=n(9),g=n(128),f=n(94),b=n(64),y=n(178),v=n(1016),S=n(1019);n.n(S);const C="[\\w-]+",E="[a-zA-Z\\d]+",k="[a-z\\d_]+",O=Object(o.b)();t.a=class extends i.default.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(a.a)(e,t)}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:s}=e.target,a=n||this.getAssetName();s?a!==s&&i(t,s):e.target.value=a}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{formats:e},assetDensityScalePrefs:t,showOptimizedSVG:n,projectType:s}=this.props;return s===l.b.BASE?i.default.h(b.a,null,"To download assets, navigate to a linked project or a platformspecific child styleguide."):i.default.h("div",{class:"assetExports"},Object.keys(e).sort(a.g).map(s=>{const{variants:a,diff:o}=e[s];return i.default.h(u.a,{key:s,format:s,variants:a,diff:o,assetDensityScalePrefs:t,hideOptimization:"svg"===s&&!n,onDownloadClick:this.createDownloadClickHandler(s)})}))}renderBitmapInfo(){const{onHideBitmapInfoClick:e}=this.props;return i.default.h(b.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a bitmap image inside. So no vector assets is generated.")}render(){const{class:e,asset:{localName:t,size:n,formats:a,densityMismatch:o,light:u,previewImages:b},bitmapInfoHidden:S,densityWarningHidden:D,assetDensityScalePrefs:w,namingConvention:j,showOptimizedSVG:T,projectType:_,assetExportTarget:x,onChangeExportTargetClick:R,onOpenExportTargetClick:I,onHideDensityWarningClick:P,onAssetDensityOptionChange:L,onNamingConventionChange:A,onShowOptimizedSVGChange:N}=this.props,{settingsOpen:M}=this.state,U=i.default.h("div",{class:"assetsTitle"},"Assets",i.default.h(p.a,{open:M,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:L,onNamingConventionChange:A,onShowOptimizedSVGChange:N,projectType:_,settings:{assetDensityScalePrefs:w,namingConvention:j,showOptimizedSVG:T},target:i.default.h(m.a,{class:Object(s.a)("assetSettingsButton",{active:M}),onClick:this.showSettingsMenu},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})))})),B=Object.keys(a).some(e=>"jpg"===e)&&Object.keys(a).every(e=>"svg"!==e&&"pdf"!==e),z=this.getAssetName(),{pattern:F,text:H}=function(e){switch(e){case l.b.BASE:case l.b.WEB:default:return{pattern:C,text:"letters, numbers, underscores, and hyphens"};case l.b.IOS:case l.b.MACOS:return{pattern:E,text:"letters, and numbers"};case l.b.ANDROID:return{pattern:k,text:"lower cased letters, numbers, and underscores"}}}(_),q=`${Object(r.u)(_)} platform assets can only contain ${H}`;return i.default.h(f.a,{class:Object(s.a)("assetSection",e),title:U},o&&!D&&i.default.h(c.a,{class:"warningBox",onHideClick:P}),!O&&i.default.h(d.a,{class:"warningBox"}),i.default.h(h.a,{class:"preview",light:u,images:b}),i.default.h(y.a,{name:"Name",capitalize:!1},i.default.h(g.a,{class:"assetName",blurOnEnter:!0,title:q,value:t||this.getAssetName(),pattern:F,onBlur:this.handleNameChange,onInput:this.handleNameInput})),t&&i.default.h("div",{class:"renameInfo"},"Renamed locally from ",z,""),i.default.h(y.a,{name:"Size"},n&&`${n.width}  ${n.height}`),this.renderExports(),x&&i.default.h(v.a,{name:x.name,type:x.type,path:x.path,pathParts:x.pathParts,onChangeClick:R,onOpenClick:I}),B&&!S&&this.renderBitmapInfo())}}},function(e,t,n){"use strict";var i=n(0),s=n(64);function a(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.a=function(e){const{class:t,onHideClick:n}=e;return i.default.h(s.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:a},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";var i=n(0),s=n(64);t.a=function(e){const{class:t}=e;return i.default.h(s.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet , try it on Firefox or Chrome.")}},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(9),o=n(1006),r=(n.n(o),n(88));function l(e){return"svg"===e||"pdf"===e}t.a=function(e,t){const{format:n,variants:o,assetDensityScalePrefs:c,diff:d,hideOptimization:u,onDownloadClick:h}=e,{projectType:p}=t,m=o.filter(e=>Object(r.e)(c,n,e.densityScale)).length;let g,f;if(l(n)||d)!l(n)&&d?f=g=`~${d.percent}% smaller than ${d.type.toUpperCase()}`:"svg"!==n||u||(f=g=d?`~${d.percent}% smaller, optimized with SVGO`:"Optimized with SVGO");else{const e=[...new Set(o.map(e=>e.densityScale))].sort((e,t)=>e-t);g=e.reduce((e,t,a,o)=>{const l=Object(s.q)(p,t);return e.push(Object(r.e)(c,n,t)?l:i.default.h("s",null,l)),a!==o.length-1&&e.push(", "),e},[]),f=e.filter(e=>Object(r.e)(c,n,e)).map(e=>Object(s.q)(p,e)).join(", ")}return i.default.h("div",{class:"assetExport"},i.default.h("div",{class:"exportType"},n),i.default.h("div",{class:"exportInfo"},i.default.h("div",null,m," ",function(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":default:return"bitmap"}}(n)," image",m>1?"s":""),i.default.h("div",{class:"extraInfo ellipsis",title:f},g)),i.default.h(a.a,{class:"downloadButton",onClick:h},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(6),r=n(1008);n.n(r);t.a=class extends i.default.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}setImageSource(){const{images:e}=this.props;if(e.svg)return void this.setState({source:e.svg,svg:!0});const[t]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),n=t*window.devicePixelRatio,i=Object.keys(e).map(Number).sort((e,t)=>e-t),s=e[i[0]];Object(o.c)(s).then(t=>{const s=t.size.height,a=i.find(e=>s*e>=n)||i[i.length-1];this.setState({source:e[a],svg:!1})})}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:o}=this.props;return i.default.h("div",{class:Object(s.a)("assetPreview","noSelect",n,{light:o,svg:t})},i.default.h("img",{ref:Object(a.a)(this,"image"),src:e,crossorigin:"anonymous"}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(61),a=n(1010),o=n(4),r=n(1013),l=(n.n(r),n(1)),c=n(88);const d=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}],u=1;class h extends i.default.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"android"===e||"web"===e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,s=t.left-n.width;let a,o;o=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=s+n.width+12>window.innerWidth?window.innerWidth-n.width-12:s,e.style.transform=`translate3d(${a}px, ${o}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e?this.props.onShowOptimizedSVGChange(t):"pngScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n},projectType:r,open:p,target:m,onClose:g}=this.props,f=[];return h.densityScaleOptionVisible(r)&&f.push(i.default.h(a.a.SwitchMenu,{name:"pngScales",content:"PNG Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:u,options:Object(c.c)(r).map(e=>({name:e,content:Object(l.q)(r,e)}))})),h.namingOptionVisible(r)&&f.push(i.default.h(a.a.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:d})),h.svgOptionVisible(r)&&f.push(i.default.h(a.a.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.default.h("div",{class:"assetSettings"},i.default.h("div",{class:"target",ref:Object(o.a)(this,"target")},m),p&&i.default.h(s.a,{didRender:this.handlePortalDidRender},i.default.h(a.a,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:g},f)))}}t.a=h},function(e,t,n){"use strict";var i=n(1011);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(2),o=n(4),r=n(6),l=n(1012);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const e=this.context.edgeOffset,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let s=0;n.top<e?s=e:n.bottom+e>window.innerHeight&&(s=window.innerHeight-n.bottom-e),0!==s&&(this.nodeRefs.submenu.style.transform="translate3d(0, "+s+"px, 0)"),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:s,children:l}=this.props;return i.default.h("label",{ref:Object(o.a)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.default.h("span",null,n||s),i.default.h("img",{src:r.e("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.default.h("div",{ref:Object(o.a)(this,"submenu"),class:Object(a.a)("submenu",t)},l))}}class d extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t}=this.props,n=Object(a.a)("zplSidebarMenu",e);return i.default.h("div",{ref:Object(o.a)(this,"base"),onClick:s.N,class:n},t.map(e=>i.default.cloneElement(e,{onClick:this.handleClick})))}}d.Submenu=c,d.Picker=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:s,content:a}=this.props,o=e.map(e=>{const s=e.value===n,{value:a,name:o}=e;return i.default.h("label",{key:o+"-"+a},i.default.h("span",null,o),i.default.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:a,checked:s}),i.default.h("img",{src:r.e("img/icMenuCheck.svg"),alt:"&check;"}))});if(s){let s=t;return a&&(s=a+" ("+e.find(e=>e.value===n).name+")"),i.default.h(c,{content:s},o)}return i.default.h("div",null,o)}},d.Switch=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(){const{content:e,name:t,disabled:n,value:s}=this.props;return i.default.h("label",{class:Object(a.a)({disabled:n})},i.default.h("span",null,e||t),i.default.h("input",{type:"checkbox",disabled:n,onClick:this.clickHandler,name:t,checked:s}),i.default.h("img",{src:r.e("img/icMenuCheck.svg"),alt:"&check;"}))}},d.SwitchMenu=class extends i.default.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:s}=this.props;if(s){let a=i?[...i]:[];t?a.push(e):a=a.filter(t=>t!==e),s(n,a,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:s}=this.props,a=e.map(e=>n&&n.includes(e.name)),o=s>=a.filter(e=>e).length;return i.default.h(d.Submenu,{content:t},e.map((e,t)=>i.default.h(d.Switch,{key:e.key||t,name:e.name,content:e.content,value:a[t],disabled:e.disabled||o&&a[t],onClick:this.clickHandler})))}},d.Button=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onActionClick(e),this.props.onClick()}render(){return i.default.h("label",null,i.default.h("span",null,this.props.children),i.default.h("input",{onClick:this.handleClick,type:"button"}))}},d.Divider=function(){return i.default.h("hr",null)},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(1015);n.n(a);function o(e){const{capitalize:t=!0,name:n,abbr:a,children:o,class:r}=e,l=n?`${n}`:null,c=a?i.default.h("abbr",null,a):null,d=l&&c?", ":"";return i.default.h("div",{class:Object(s.a)("layerProperty",r,{capitalize:t})},i.default.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.default.h("span",{class:"propertyValue ellipsis"},o))}o.Group=function({children:e,class:t}){return i.default.h("div",{class:Object(s.a)("layerPropertyGroup",t)},e)},t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(1017);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(2),o=n(6),r=n(1018);n.n(r);const l=i.default.h("svg",{key:"folderIcon",width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"none","fill-rule":"evenodd",stroke:"#554D56"},i.default.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.default.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})));t.a=function(e){const{name:t,type:n,path:r,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.default.h("div",{class:"exportPathSelection"},i.default.h("div",{class:"pathLocation"},i.default.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to ",t,""),i.default.h("div",{class:"path",title:r,onClick:u},c.join("  "))),i.default.h(s.a,{class:Object(a.a)(n,"openExportPath"),onClick:u},"android"===n?[i.default.h("img",{key:"regular",src:Object(o.e)("img/icAndroidStudio.png"),srcset:Object(o.f)(Object(o.e)("img/icAndroidStudio.png"))}),i.default.h("img",{key:"pressed",src:Object(o.e)("img/icAndroidStudioPressed.png"),srcset:Object(o.f)(Object(o.e)("img/icAndroidStudioPressed.png"))})]:l))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1021);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(376),a=n(1031);n.n(a);const o="component";t.a=class extends i.default.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i}=this.props;return e.component(t,i,n).then(e=>{if(!e)return;const t={name:o};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,o,t)}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:a,maxHeight:o,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.default.h(s.b,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:a,maxHeight:o,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.default.h(s.c,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(113),r=n(39),l=n(18),c=n(93),d=n(22),u=n(42),h=n(49),p=n(252),m=n(1023);n.n(m);const g={[l.a.PROJECT]:h.c,[l.a.STYLEGUIDE]:u.c};class f extends i.default.Component{constructor(e){super(e),this.state={snippets:{}}}generateCodeSnippets(){const{barrel:e,targetStyleguides:t,barrelType:n,generateCode:i,extensions:s,enabledExtensions:a}=this.props,o=Object(p.f)(e,n,t),r=s.filter(e=>a[n].includes(e.id)&&e.loaded);Promise.all(r.map(e=>i(e,o).then(t=>{const n=t?[t]:[];return{[e.id]:{snippets:n,title:e.name}}}).catch(()=>{}))).then(e=>{const t=e.filter(Boolean);if(this.props.onGenerateCode){const e=t.some(e=>Object.keys(e).some(t=>e[t].snippets.length));this.props.onGenerateCode(e)}this.setState({snippets:Object.assign({},...t)})})}componentDidMount(){this.generateCodeSnippets()}componentWillReceiveProps(e){this.props.id&&e.id&&this.props.id!==e.id&&this.generateCodeSnippets()}componentDidUpdate(e){Object(o.a)(e,this.props)&&this.generateCodeSnippets()}render(){return this.props.render(this.state.snippets)}}class b extends i.default.Component{static calculateState(){const e=c.b.getState(),{loading:t,barrelType:n,organizationId:i,barrelId:s}=d.d.getState();if(t)return{loading:t};const{[`${n}s`]:a}=g[n].getState(),{styleguides:o}=u.c.getState(),r=o[i];return{loading:t,barrel:a[i][s],targetStyleguides:r,barrelType:n,extensions:e.extensions,enabledExtensions:e.enabledExtensions}}static getStores(){return[c.b,d.d,h.c,u.c]}render(){const{loading:e,barrel:t,targetStyleguides:n,barrelType:s,enabledExtensions:a,extensions:o}=this.state;if(e)return null;const r=Object.assign({extensions:o,enabledExtensions:a,barrel:t,targetStyleguides:n,barrelType:s},this.props);return i.default.h(f,r)}}b.propTypes={generateCode:a.a.func.isRequired,onGenerateCode:a.a.func,id:a.a.string,render:a.a.func.isRequired},t.a=Object(r.a)(b,{withProps:!0,pure:!1})},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(8),o=n(256);const r=Object(a.a)();t.a=class extends i.default.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:a}=this.props,l=Object.keys(e).map(s=>{const{snippets:a,title:l}=e[s];return a.length?i.default.h(o.b,{class:"extensionCode",key:s,extensionId:s,copyEnabled:r,onCopyClick:t,onSettingsClick:n,snippets:a,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.default.h("div",{class:Object(s.a)("extensionCodePanel",a)},l)}}},function(e,t,n){"use strict";var i=n(1026);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(645),a=n(1027),o=n(256),r=n(2),l=n(4),c=n(1030);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:h,snippets:p}=this.props;return Object.keys(p).some(e=>p[e].snippets.length)?i.default.h("div",{class:Object(r.a)("resizableExtensionCodePanel",e),ref:Object(l.a)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.default.h(a.a,{onResize:this.handleResize}),i.default.h(s.a,{onCopyClick:d,onSettingsClick:u,snippets:p}),i.default.h("div",{class:"availableSpace",style:{height:h}},i.default.h(o.a,null))):null}}},function(e,t,n){"use strict";var i=n(1028);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(256),a=n(1029);n.n(a);t.a=class extends i.default.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.default.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.default.h(s.a,null),i.default.h("div",{class:"resizerIcon"}))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=function(e){const{children:t,onCloseClick:n}=e;return i.default.h("div",{class:"sidebarHeader"},i.default.h("h2",{class:"ellipsis"},t),i.default.h(s.a,{class:"closeButton",onClick:n},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))))};var i=n(0),s=n(9),a=n(1033);n.n(a)},function(e,t){},function(e,t,n){"use strict";var i=n(1035);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(6),o=n(35),r=n(4),l=n(1036);n.n(l);const c=132;class d extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)return;e.stopPropagation(),e.preventDefault();const{screenId:t,componentId:n,componentName:i,onClick:a}=this.props,{projectId:o}=this.context;a(t,Object(s.P)("project-styleguide-components",{url:{bid:o},query:{coid:n}}),i)}componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:d,backgroundColor:u=o.a.NAMED_COLORS.white,visible:h}=this.props,{projectId:p}=this.context,{src:m,srcset:g}=Object(a.d)(n,{width:c}),f=d*c/l,b=new o.a(u).toCSS(),y=Object(s.P)("project-screen",{url:{pid:p,sid:e}});return i.default.h("a",{ref:Object(r.a)(this,"base"),href:y,class:"usedInScreen",onClick:this.handleClick,"data-id":e,"data-link-type":"inApp"},i.default.h("div",{class:"imageWrapper",style:{height:f,backgroundColor:b}},h&&i.default.h("img",{width:c,height:f,src:m,srcset:g,crossOrigin:"anonymous"}),i.default.h("div",{class:"imageFrame"})),i.default.h("div",{class:"screenName"},t))}}t.a=class extends i.default.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentId:t,componentName:n,onScreenClick:s}=this.props,{visibleScreens:a}=this.state;return i.default.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:o,width:r,height:l,backgroundColor:c}}]}=e;return i.default.h(d,{key:e._id,screenId:e._id,name:e.name,url:o,width:r,height:l,backgroundColor:c,componentId:t,componentName:n,visible:a.has(e._id),onClick:s,observer:this.observer})}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(2),o=n(375),r=n(22),l=n(65),c=n(109),d=n(282),u=n(1039),h=n(1065),p=n(1066);n.n(p);t.a=class extends s.a{constructor(e){super(e),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleAssetNameChange=this.handleAssetNameChange.bind(this)}handleDownloadAssetClick(e,t){const{layerContainer:{name:n},version:i}=this.props;r.b.downloadAsset({containerName:n,version:i,assetId:e,format:t})}handleAssetNameChange(e,t){const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;r.b.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})}render(){const{class:e,formatter:t,layer:n,flowLink:s,version:p,bitmapInfoHidden:m,densityWarningHidden:g,flowInfoHidden:f,assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:v,colorsData:S,textStylesData:C,projectType:E,assetExportTarget:k,onCopyCode:O,onCopyContent:D,onAddColorClick:w,onColorNameChange:j,onRemoveColorClick:T,onAddTextStyleClick:_,onTextStyleNameChange:x,onRemoveTextStyleClick:R,onCloseClick:I}=this.props,P=Object(o.d)(n,t,E,S,C);return i.default.h("div",{class:Object(a.a)("layerDetail",e)},i.default.h(u.a,{layer:P,projectType:E,densityWarningHidden:g,bitmapInfoHidden:m,assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:v,flowLink:s,flowInfoHidden:f,assetExportTarget:k,onOpenExportTargetClick:r.b.openExportTarget,onChangeExportTargetClick:r.b.changeExportTarget,onCloseClick:I,onAddTextStyleClick:_,onTextStyleNameChange:x,onRemoveTextStyleClick:R,onAddColorClick:w,onColorNameChange:j,onRemoveColorClick:T,onLayerComponentClick:l.b.openComponentFromLayer,onContentCopyClick:D,onFlowLinkClick:c.c.deselectLayer,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityWarningClick:d.b.hideDensityMismatchWarning,onHideBitmapInfoClick:d.b.hideNoVectorAssetInfo,onAssetDensityOptionChange:r.b.changeAssetDensityScalePref,onNamingConventionChange:r.b.changeAssetNamingConvention,onShowOptimizedSVGChange:r.b.toggleSVGOptimization,onHideFlowInfoClick:d.b.dismissFlowLinkInfo}),i.default.h(h.a,{class:"codeSection",version:p,layer:n,onCopyClick:O,onSettingsClick:r.b.openExtensionSettings}))}}},function(e,t,n){"use strict";var i=n(1040);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(94),a=n(133),o=n(644),r=n(646),l=n(1041),c=n(1044),d=n(1047),u=n(1050),h=n(648),p=n(1055),m=n(1058),g=n(1061),f=n(1064);n.n(f);t.a=class extends i.default.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderAssets(){const{layer:{asset:e},projectType:t,assetDensityScalePrefs:n,namingConvention:s,densityWarningHidden:a,showOptimizedSVG:r,bitmapInfoHidden:l,assetExportTarget:c,onChangeExportTargetClick:d,onOpenExportTargetClick:u,onDownloadAssetClick:h,onAssetNameChange:p,onHideDensityWarningClick:m,onHideBitmapInfoClick:g,onAssetDensityOptionChange:f,onNamingConventionChange:b,onShowOptimizedSVGChange:y}=this.props;if(e)return i.default.h(o.a,{asset:e,projectType:t,densityWarningHidden:a,bitmapInfoHidden:l,assetDensityScalePrefs:n,namingConvention:s,showOptimizedSVG:r,assetExportTarget:c,onChangeExportTargetClick:d,onOpenExportTargetClick:u,onDownloadClick:h,onNameChange:p,onHideDensityWarningClick:m,onHideBitmapInfoClick:g,onAssetDensityOptionChange:f,onNamingConventionChange:b,onShowOptimizedSVGChange:y})}renderBlur(){const{layer:{blur:e}}=this.props;if(e)return i.default.h(s.a,{title:"Blur"},i.default.h(g.a,{blur:e}))}renderBorders(){const{layer:{borders:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:a}=this.props;if(e.length)return i.default.h(s.a,{title:"Borders"},e.map((e,s)=>i.default.h(p.a,{key:s,border:e,onColorNameChange:a,onColorAddClick:t,onColorRemoveClick:n})))}renderComponent(){const{layer:{component:e},onLayerComponentClick:t}=this.props;if(!e)return;const{_id:n,name:a}=e;return i.default.h(s.a,{title:"Component"},i.default.h(u.a,{componentId:n,componentName:a,onClick:t}))}renderContent(){const{layer:{content:e,type:t,typefaces:n},onContentCopyClick:s}=this.props,{hoveredTypeface:a}=this.state;if("text"===t)return i.default.h(l.a,{textStyles:n.filter(e=>"default"!==e.group),onCopyClick:s,content:e,hovered:a})}renderFills(){const{layer:{fills:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:o}=this.props;if(e.length)return i.default.h(s.a,{title:"Colors"},e.map(e=>"color"===e.type?i.default.h(a.a,{color:e.color,onNameChange:o,onAddClick:t,onRemoveClick:n}):"gradient"===e.type?i.default.h(h.a,{gradient:e.gradient,onColorNameChange:o,onColorAddClick:t,onColorRemoveClick:n}):null))}renderShadows(){const{layer:{shadows:e},onAddColorClick:t,onRemoveColorClick:n,onColorNameChange:a}=this.props;if(e.length)return i.default.h(s.a,{title:"Shadows"},e.map((e,s)=>i.default.h(m.a,{key:s,shadow:e,onColorNameChange:a,onColorAddClick:t,onColorRemoveClick:n})))}renderTypefaces(){const{layer:{type:e,typefaces:t},onAddTextStyleClick:n,onRemoveTextStyleClick:a,onTextStyleNameChange:o,onAddColorClick:r,onRemoveColorClick:l,onColorNameChange:c}=this.props;if("text"===e)return i.default.h(s.a,null,i.default.h(d.a,{typefaces:t,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:n,onRemoveTextStyleClick:a,onTextStyleNameChange:o,onColorAddClick:r,onColorRemoveClick:l,onColorNameChange:c}))}render(){const{flowLink:e,layer:t,flowInfoHidden:n,onCloseClick:s,onFlowLinkClick:a,onHideFlowInfoClick:o}=this.props;return i.default.h("div",{class:"detailSections"},i.default.h(r.a,{onCloseClick:s},t.name),i.default.h("div",null,i.default.h(c.a,{flowLink:e,layer:t,flowInfoHidden:n,onFlowLinkClick:a,onHideFlowInfoClick:o}),this.renderComponent(),this.renderTypefaces(),this.renderAssets(),this.renderFills(),this.renderBorders(),this.renderShadows(),this.renderBlur(),this.renderContent()))}}},function(e,t,n){"use strict";var i=n(1042);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(94),o=n(2),r=n(8),l=n(1),c=n(1043);n.n(c);const d=/\u2028/g,u="\n",h=Object(r.a)();function p(e){return e.replace(d,u)}t.a=class extends i.default.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",p(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(p(n)),setTimeout(r.l,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(p(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,s=p(e);if(!t.length)return s;const a=[];let r=0;return t.forEach(({range:e,group:t})=>{const c=Object(l.j)(s.substring(e.start,e.end));if(e.start>r)a.push(Object(l.j)(s.substring(r,e.start)));else if(e.start<r)return;a.push(i.default.h("span",{class:Object(o.a)({hovered:n===t}),"data-color-group":t},c)),r=e.end}),a.push(Object(l.j)(s.substring(r,s.length))),a}renderTitle(){return i.default.h("div",{class:"contentTitle"},"Content",h&&i.default.h(s.a,{class:"contentCopyButton",onClick:this.handleCopyClick},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))))}render(){const{class:e}=this.props;return i.default.h(a.a,{class:Object(o.a)("contentSection",e),title:this.renderTitle()},i.default.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1045);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(94),a=n(64),o=n(178),r=n(2),l=n(1046);n.n(l);function c({name:e,url:t,onFlowLinkClick:n}){return i.default.h("div",{class:"linkProperty"},i.default.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":t&&"inApp",onClick:t&&n},e),t&&i.default.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp",onClick:t&&n},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.default.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))))}t.a=function(e){const{class:t,flowLink:n,layer:{rect:l,opacity:d,borderRadius:u,rotation:h,blendMode:p},flowInfoHidden:m,onFlowLinkClick:g,onHideFlowInfoClick:f}=e;return i.default.h(s.a,{class:Object(r.a)("infoSection",t)},i.default.h(o.a.Group,null,i.default.h(o.a,{name:"X"},l.x),i.default.h(o.a,{name:"Y"},l.y)),i.default.h(o.a.Group,null,i.default.h(o.a,{name:"Width"},l.width),i.default.h(o.a,{name:"Height"},l.height)),u&&i.default.h(o.a,{name:"Radius"},u),d&&i.default.h(o.a,{name:"Opacity"},d),h&&i.default.h(o.a,{name:"Rotation"},`${h}`),p&&i.default.h(o.a,{name:"Blend Mode"},p),n&&i.default.h(o.a,{name:"Linked to"},i.default.h(c,{name:n.name,url:n.url,onFlowLinkClick:g})),n&&!m&&i.default.h(a.a,{class:"flowInfo",onHideClick:f},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.default.h("strong",null,"Shift"),"."))}},function(e,t){},function(e,t,n){"use strict";var i=n(1048);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1049),a=n(94),o=n(647);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{typefaces:e,onAddTextStyleClick:t,onRemoveTextStyleClick:n,onTextStyleNameChange:o,onColorAddClick:r,onColorRemoveClick:l,onColorNameChange:c}=this.props;return i.default.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(e).map(({textStyle:e,group:d,content:u})=>{const h="default"===d;return this.handleHoverChangeByGroup[d]||(this.handleHoverChangeByGroup[d]=this.handleHoverChange.bind(this,d)),i.default.h(a.a,{class:"typefaceSection",key:d},i.default.h(s.a,{textStyle:e,colorGroup:!h&&d,snippet:u,onHoverChange:!h&&this.handleHoverChangeByGroup[d],onAddClick:t,onRemoveClick:n,onNameChange:o,onColorAddClick:r,onColorRemoveClick:l,onColorNameChange:c}))}))}}},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(75),o=n(2),r=n(177),l=n(178),c=n(643),d=n(128),u=n(133),h=n(184),p=n(18),m=n(647);n.n(m);const g=i.default.h("svg",{width:"24",height:"24"},i.default.h("path",{fill:"#554d56",d:"M16.359 12.563H6.375a.562.562 0 1 1 0-1.126h9.984l-2.86-2.985a.575.575 0 0 1 0-.789.519.519 0 0 1 .755 0l3.777 3.943a.575.575 0 0 1 0 .788l-3.777 3.943a.519.519 0 0 1-.756 0 .575.575 0 0 1 0-.789l2.86-2.985z"}),i.default.h("circle",{cx:"12",cy:"12",r:"8.5",fill:"none","stroke-width":"1.25",stroke:"#554d56"}));const f=Object(h.a)(class extends i.default.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:s}=e.target;s?n!==s&&i(t,s):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(r.b)(e).map(([e,t])=>i.default.h(l.a,{key:e,name:r.a[e],abbr:e},Object(a.c)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:a,styleguideName:r,isMember:h,isOrganizationBarrel:m,id:f,added:b,name:y,color:v,fontFace:S,fontSize:C,letterSpacing:E,lineHeight:k,textAlign:O},hover:D,onColorAddClick:w,onColorRemoveClick:j,onColorNameChange:T}=this.props,{barrelType:_,barrelId:x,permissions:{canManageTextStyles:R}}=this.context,I=t?i.default.h("div",{class:"typefaceHeader","data-color-group":t},i.default.h("div",{class:"typefaceTitle"},i.default.h("span",null,"Typeface"),i.default.h("span",null,n),i.default.h("span",null,"")),t&&i.default.h("div",{class:"colorGroup"})):i.default.h("div",{class:"typefaceHeader"},i.default.h("div",{class:"typefaceTitle"},i.default.h("span",null,"Typeface"))),P=!R||b&&a!==x,L=i.default.h(c.a,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:b,isMember:h,isOrganizationBarrel:m,styleguideId:a,styleguideName:r,canManageResource:R,type:c.a.TYPE.TEXT_STYLE,disabled:P}),A=_===p.a.STYLEGUIDE?"styleguide":"project-styleguide",N=Object(s.P)(`${A}-textstyles`,{url:{bid:x},query:{tsid:f}});return i.default.h("div",{class:Object(o.a)("typeface",e,{hover:D})},I,b?[i.default.h("div",{key:`textStyleName-${f}`,class:"textStyleName"},i.default.h(d.a,{class:"textStyleNameInput",value:y,blurOnEnter:!0,disabled:P,onBlur:this.handleNameChange,ellipsized:!0}),i.default.h("div",{class:"buttonSpacer"},L),i.default.h("a",{href:N,class:"goToResource","data-link-type":"inApp"},g)),i.default.h("div",{key:`layerFontFace-${f}`,class:"layerFontFace"},i.default.h("span",{class:"ellipsis"},S))]:i.default.h("div",{class:"layerFontFace"},i.default.h("span",{class:"ellipsis"},S),i.default.h("div",{class:"buttonSpacer"},L)),i.default.h(l.a.Group,null,i.default.h(l.a,{name:"Size"},C),void 0!==O&&i.default.h(l.a,{name:"Align"},O)),this.renderFontVariationSettings(),void 0!==k&&i.default.h(l.a,{name:"Line Height"},k),void 0!==E&&i.default.h(l.a,{name:"Letter Spacing"},E),v&&i.default.h(u.a,{color:v,initialHover:D,onNameChange:T,onAddClick:w,onRemoveClick:j}))}});t.a=f},function(e,t,n){"use strict";var i=n(1051);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(20),o=n(1052);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(Object(a.c)(e))return;e.preventDefault();const{componentId:t,onClick:n}=this.props,{projectId:i,screenId:o,screenName:r}=this.context;n(t,Object(s.P)("project-screen",{url:{pid:i,sid:o}}),r,"Layer detail")}render(){const{componentId:e,componentName:t}=this.props,{projectId:n}=this.context,a=Object(s.P)("project-styleguide-components",{url:{bid:n},query:{coid:e}});return i.default.h("div",{class:"layerComponent"},i.default.h("span",{class:"name ellipsis",title:t},t),i.default.h("a",{href:a,onClick:this.handleClick,"data-link-type":"inApp"},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.default.h("path",{d:"M16.359 12.563H6.375a.562.562 0 1 1 0-1.126h9.984l-2.86-2.985a.575.575 0 0 1 0-.789.519.519 0 0 1 .755 0l3.777 3.943a.575.575 0 0 1 0 .788l-3.777 3.943a.519.519 0 0 1-.756 0 .575.575 0 0 1 0-.789l2.86-2.985z"}),i.default.h("path",{d:"M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1.125a7.875 7.875 0 1 0 0-15.75 7.875 7.875 0 0 0 0 15.75z"})))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(61),a=n(642),o=n(184),r=n(1054);n.n(r);const l=Object(o.a)(function(e){const{color:{id:t,name:n,added:s,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:h,onNameChange:p,onAddClick:m,onRemoveClick:g,hover:f}=e;return i.default.h("div",{class:"gradientColor"},i.default.h(a.a,{class:"gradientColorInfo",added:s,hover:f,id:t,name:n,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,editable:s&&h,onAddClick:m,onRemoveClick:g,onNameChange:p}))});t.a=class extends i.default.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:`${Math.trunc(n-5)}px`}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:a,onColorNameChange:o}=this.props,{activeColorStop:r}=this.state,{permissions:{canManageColors:c}}=this.context;return i.default.h("div",{class:"layerGradient"},i.default.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const s=t>0&&t<1,a={top:`${Math.trunc(100*t)}%`,color:e};return i.default.h("div",{class:"colorStop",key:n,style:a,"data-pos":t,onMouseEnter:s&&this.handleColorStopMouseEnter,onMouseLeave:s&&this.handleColorStopMouseLeave})})),i.default.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:s,value:r}=e;return i.default.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){o(s,e)},onAddClick:function(){n(r)},onRemoveClick:function(){a(s)}})})),r&&i.default.h(s.a,null,i.default.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${r.x}, ${r.y}, 0`}},r.value)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1056);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(133),a=n(648),o=n(1057);n.n(o);t.a=function(e){const{border:{color:t,gradient:n,position:o,thickness:r},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.default.h("div",{class:"layerBorder"},i.default.h("div",{class:"borderInfo"},o,", ",r),t?i.default.h(s.a,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.default.h(a.a,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1059);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(133),a=n(178),o=n(1060);n.n(o);t.a=function(e){const{shadow:{blurRadius:t,color:n,offsetX:o,offsetY:r,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:h,onColorNameChange:p}=e;return i.default.h("div",{class:"layerShadow"},i.default.h("div",{class:"shadowType"},c),i.default.h(a.a.Group,null,i.default.h(a.a,{name:"X"},o),i.default.h(a.a,{name:"Y"},r)),i.default.h(a.a.Group,null,i.default.h(a.a,{name:"Blur"},t),i.default.h(a.a,{name:"Spread"},l)),i.default.h(s.a,{color:n,disabled:d,onAddClick:h,onRemoveClick:u,onNameChange:p}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1062);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1063);n.n(s);t.a=function(e){const{blur:{radius:t,type:n}}=e;return i.default.h("div",{class:"layerBlur"},i.default.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(376);const a="layer";t.a=class extends i.default.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then(e=>{if(!e)return;const t={name:a};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,a,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.default.h(s.a,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.default.h(s.c,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1069);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(52),a=n(27),o=n(1070),r=n(4),l=n(1),c=n(1073);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{parentStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.default.h(s.a.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.default.h(s.a.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{parentStyleguide:e}=this.props,{unlinkDialogVisible:t}=this.state;return t?i.default.h(a.a,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink ${e.name||"styleguide"}?`}):null}renderWarning(){const{linkStatus:e,compact:t}=this.props;if("active"===e||t)return null;const n="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",s="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.default.h(o.a,{articleURL:s},"This project can not access the linked styleguide since ",n)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{parentStyleguide:t,compact:n}=this.props,s=Object(l.P)("styleguide",{url:{bid:t._id}}),a=t.name||"a styleguide";return i.default.h("div",{class:"infoContainer"},!n&&i.default.h("div",{title:a,class:"infoLabel noSelect ellipsis"},"Linked to ",i.default.h("a",{href:s},a)),e&&i.default.h("button",{title:n&&`Linked to ${a}`,type:"button",onClick:this.handleContextMenuClick,ref:Object(r.a)(this,"button")},i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))))}render(){return i.default.h("div",{class:"linkedStyleguideInfo",ref:Object(r.a)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}},function(e,t,n){"use strict";var i=n(1071);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(64),a=n(1072);n.n(a);t.a=function({articleURL:e,children:t}){return i.default.h(s.a,{class:"warningHintBox noSelect",type:"warning",emoji:""},i.default.h("p",null,t),i.default.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1075);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(124),o=n(625),r=n(292),l=n(293),c=n(1076),d=n(249),u=n(62),h=n(18),p=n(41),m=n(86),g=n(27),f=n(22),b=n(291);const y={[h.a.PROJECT]:r.a,[h.a.STYLEGUIDE]:l.a};const v={[p.c.TEXT_STYLES]:"Text Styles",[p.c.COLORS]:"Colors",[p.c.COMPONENTS]:"Components"};const S=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});t.a=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[o.a,r.a,l.a,a.a,b.a]}static calculateState(){const{moveResourcesPopup:e}=o.a.getState(),{organizationId:t,barrelType:n,barrelId:i,movingResourcesToStyleguide:s}=a.a.getState(),{styleguides:r}=l.a.getState(),{userId:c}=b.a.getState(),d=r[t]||{},u=Object.values(d||{}),h=function(e,t,n){const{[`${e}s`]:i}=y[e].getState();return i[t][n]}(n,t,i);return{moveResourcesPopup:e,movingResourcesToStyleguide:s,barrel:h,moveableStyleguides:function(e,t,n,i){let s;return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===p.c.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){s=s||t.users.find(e=>"owner"===e.role);const n=e.users.find(e=>"owner"===e.role);return s&&n&&s.user._id===n.user._id}return!0})}(u,h,t,e),organizationId:t,currentUserId:c,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return S.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return S.NONE;const s=e.type!==i.type;return n===p.c.COMPONENTS&&s?S.COMPONENT:S.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==S.BASIC_DIALOG&&m.a.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&m.a.closeMoveResourcesPopup()}handleStyleguideSelect(e){m.a.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,data:t,targetStyleguide:n}}=this.state;f.b.moveResourcesRequest({resourceType:e,data:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:s,barrel:a,moveResourcesPopup:o,barrelType:r}=this.state;return e.length?i.default.h(d.f,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e}):"user"!==n?i.default.h(d.b,{oid:n}):s!==a.findOwner().user._id?i.default.h(d.c,{resourceType:v[o.resourceType],barrelType:r,barrelOwnerName:a.username}):i.default.h(d.a,{resourceType:v[o.resourceType]})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:s}=this.state,{targetNode:a,targetStyleguide:o}=e;let r;return r=this.getWarningDialogType()===S.COMPONENT?i.default.h(c.a,{loading:!!s,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:o.type}):this.renderSelectStyleguides(),i.default.h(u.a,{targetNode:a,content:r,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return null;const{resourceType:n,targetStyleguide:s}=t;return i.default.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===S.BASIC_DIALOG&&i.default.h(g.a,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:m.a.deselectMoveResourcesTargetStyleguide,message:`Move ${function(e){return v[e]}(n)} from "${e.name}" to "${s.name}"?`}))}})},function(e,t,n){"use strict";var i=n(1077);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(18),o=n(1),r=n(1078);n.n(r);const l=i.default.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("g",{"fill-rule":"evenodd"},i.default.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.default.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.default.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.default.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.default.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.default.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.default.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.default.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})));t.a=function(e){const{onMove:t,barrelType:n,currentType:r,targetType:c,loading:d}=e;return i.default.h("div",{class:"moveComponentWarning"},i.default.h("h4",null,""),i.default.h("p",null,"Your current ",n===a.a.PROJECT&&"local ","styleguides type is ",i.default.h("strong",null,Object(o.u)(r)),", some of the assets"," ",i.default.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(o.u)(c)," type.",i.default.h("br",null),i.default.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.default.h(s.a,{onClick:!d&&t,primary:!0},d?l:"Move Anyway"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1081);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(649),a=n(1082);n.n(a);t.a=function(e){const{styleguide:t={},loading:n,loadingJoin:a,onJoin:o}=e,{name:r,type:l,densityScale:c,users:d,colors:u,textStyles:h,componentSections:[{components:p}]=[{}]}=t;return i.default.h("div",{class:"styleguidePreviewPage"},n?i.default.h(s.a,null):i.default.h(s.b,{showJoinButton:!0,headerSticky:!0,onJoin:o,loadingJoin:a,name:r,type:l,densityScale:c,users:d,colors:u,textStyles:h,components:p}))}},function(e,t){},function(e,t){},,,,,,,function(e,t,n){"use strict";var i=n(1174);t.a=i.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s,a,o,r,l,c,d,u,h,p=n(21),m=n.n(p),g=(n(381),n(1130),n(1140),n(521),n(522),n(698),n(95)),f=n(33),b=n(87),y=n(17),v=n(1141),S=n(1),C=n(24),E=n(15),k=n(174),O=n(10),D=n(121),w=n(1142),j=n(125),T=n(35),_=n(271),x=n(18),R=n(40),I=n(1143),P=n.n(I),L=n(265),A=n.n(L),N=n(66),M=n.n(N),U=n(709),B=n(130),z=n(710),F=n(712),H=n(182),q=n(713),V=n(5),W=n(0),$=n(714),G=n(1144),Z=n(1150),Y=n(129),K=n(683),X=n(93),J=n(77),Q=n(65),ee=n(109),te=n(282),ne=n(251),ie=n(22),se=n(49),ae=n(86),oe=n(183),re=n(349),le=n(16),ce=n(20),de=n(74),ue=n(1162),he=n(281),pe=n(694),me=n(1191),ge=n(684),fe=n(681),be=n(4),ye=n(362),ve=n(42),Se=n(244),Ce=n(7),Ee=n(680),ke=n(363),Oe=n(1234),De=n(682),we=n(88),je=n(50),Te=n(257),_e=(n(676),n(8)),xe=document.querySelector("title"),Re=document.querySelector("main"),Ie=document.getElementById("dotPopup"),Pe=document.getElementById("dotPopupAnchor"),Le=document.getElementById("dotColors"),Ae=document.getElementById("dotComments"),Ne=document.getElementById("newComment"),Me=document.getElementById("newCommentButtons"),Ue=document.getElementById("newCommentButton"),Be=document.getElementById("newCommentMirror"),ze=document.getElementById("newCommentNote"),Fe=document.getElementById("newCommentSendButton"),He=document.getElementById("newCommentArea"),qe=document.getElementById("suggestedUsersContainer"),Ve=document.getElementById("suggestedEmojisContainer"),We=document.getElementById("versionsSidebarResizer"),$e=document.querySelector(".versionsSidebarWrapper"),Ge=document.getElementById("androidResFolderReminderDialog"),Ze={},Ye=-2,Ke=null,Xe=null,Je=null,Qe=null,et="",tt=null,nt=null,it=S.C(Zeplin.user.username),st=!1,at=!1,ot={},rt=!0,lt=!!O.a&&!!O.a.features&&"popout"in O.a.features,ct=!!O.a&&!!O.a.features&&!!O.a.features.revampedMenu,dt=!!O.a&&!!O.a.features&&!!O.a.features.dashboardShortcutIsAltA,ut=!!O.a&&!!O.a.features&&!!O.a.features.webviews,ht=!ut,pt=!1,mt=lt&&O.a.features.popout,gt=new U.a({mac:document.body.classList.contains("mac")}),ft=[],bt="open",yt=null;const vt={defaults:{hideDensityMismatchWarning:!1,hideNoVectorAssetInfo:!1,flowLinkInfoDismissed:!1,hideSourceFileInfo:!1},init(){return C.d.getAll().then(e=>{Object.assign(this,{values:e})})},get(e){return this.values[e]||this.defaults[e]},set(e,t){this.values[e]=t,C.d.set(e,t)}},St=document.querySelector(".overviewContent"),Ct=new de.a($.a,St),Et=document.querySelector(".screenContent"),kt=document.querySelector(".screenContentMainView"),Ot=new de.a(Ee.a,Et);Ot.domNode=document.querySelector(".screenHeader");const Dt=new de.a(me.a,kt);Dt.domNode=Et.querySelector(".screenViewContainer");const wt=new de.a(ue.a,kt),jt=document.querySelector(".manageTagsRoot"),Tt=new de.a(Z.a,jt),_t=new de.a(Y.a,document.body);_t.render({page:"project-dashboard"});const xt={},Rt=new de.a(Oe.a,document.body),It=new de.a(K.a,document.body),Pt=new de.a(De.a,document.body);let Lt,At=!0;function Nt(e){return S.A(e)?a._id:"user"}function Mt(){const e=nn(),{filterValue:t,sortType:n,tagFilter:i}=oe.b.getState(),s=Object(fe.a)(e,t,n,i);return Array.prototype.concat.apply([],s.map(e=>e.screens))}const Ut={jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},Bt={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},zt={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}};function Ft(){var e=O.a.features.versions?{name:Ke.name,width:Xe.snapshot.width,height:Xe.snapshot.height,url:Xe.snapshot.url}:{name:Ke.name,currentSnapshot:{width:Xe.snapshot.width,height:Xe.snapshot.height,url:Xe.snapshot.url}};O.a.ipcRenderer.send("open-popout",e,i.id)}function Ht(){if(function(){if(!ct||!ht||!i)return;D.a.addRecentProject(i),D.a.bindProjectPreferences(i)}(),ti(),ei(),ht){var e=a?S.P("organization-projects",{url:{oid:a._id}}):S.P("projects");O.a.ipcRenderer.send("preload-url",e)}}function qt(e,t){if(O.a)O.a.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var i=window.location;if(n){var s=window.open("","_blank");s.opener=null,i=s.location}i.assign(e)}}function Vt(e,t){return"Your organization role is "+S.y(e.role)+" "+function(e){const t=S.v(e);return"<img src='"+Zeplin.urls.appURL+"/img/"+t+".png' srcset='"+Zeplin.urls.appURL+"/img/"+t+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+t+"@3x.png 3x' alt=''>"}(e.role)+", only "+S.y("rook")+"s or higher can "+t}function Wt(e){o=S.Q(e),mi(),F.checkStatus()}y.b.registerDialog(Ge),q.a(function(){le.deleteProject(i.id).then(function(){rn()}).catch(function(e){E.b(e)})}),mt&&O.a.ipcRenderer.on("open-popout",Ft),ct&&(O.a.ipcRenderer.on("new-project",function(){location.assign(S.P("projects",{query:{newProject:"true"}}))}),O.a.ipcRenderer.on("leave-project",function(){y.a({message:`Leave "${i.name}"?`,done:{name:"LEAVE",cb(){ie.b.removeMember({uid:Zeplin.user._id,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}),O.a.ipcRenderer.on("delete-project",function(){q.b(i.id,i.name)}),O.a.ipcRenderer.on("delete-screen",function(){y.a({message:'Delete "'+Ke.name+'"?',done:{name:"DELETE SCREEN",cb:function(){cs(Ke._id).then(function(){cn(i.id,gi())})}},cancel:{name:"CANCEL"}})}),O.a.ipcRenderer.on("set-as-thumbnail",function(){rs(Ke._id).then(function(){ti()})}),O.a.ipcRenderer.on("add-tag",function(){hs(Ke._id)}),O.a.ipcRenderer.on("manage-tags",function(){hs(Ke._id)}),O.a.ipcRenderer.on("dashboard",function(){cn(i.id,gi())}),O.a.ipcRenderer.on("styleguide",function(){dn(i.id)}),O.a.ipcRenderer.on("project-dashboard",function(){cn(i.id,gi())}),O.a.ipcRenderer.on("project-styleguide",function(){dn(i.id)}),O.a.ipcRenderer.on("zoom-in",ee.c.zoomIn),O.a.ipcRenderer.on("zoom-out",ee.c.zoomOut),O.a.ipcRenderer.on("actual-size",ee.c.resetZoom),O.a.ipcRenderer.on("jump-to-screen",oe.a.openJumpToPopup),O.a.ipcRenderer.on("show-versions",Bn),O.a.ipcRenderer.on("hide-versions",Fn),D.a.onOpenRecentProject=function(e){ln(S.P("project",{url:{bid:e}}))},D.a.onProjects=rn,ie.c.register(e=>{e.type===ie.a.CHANGE_SELECTED_VIEW&&(et=e.selectedView,ni(),ei())})),document.body.classList.toggle("features-webviews",ut)&&(O.a.ipcRenderer.on("load-url",(e,t)=>{const n=new URL(t);let s=t;i&&n.href.match(/\/project\/([\da-f]{24})/i)[1]===i.id||(pt=!0);const a=S.G(n.search);if(a.vid){n.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(n.pathname+=`/version/${a.vid[0]}`,delete a.vid,n.search=S.B(a),s=n.toString())}ln(s)}),O.a.ipcRenderer.on("space",on),O.a.ipcRenderer.on("projects",on),O.a.ipcRenderer.on("active",(e,t)=>{if(!(ht=t))return i&&"dashboard"!==et&&cn(i.id,gi()),void bi();pt||(mi(),Ht())}));const $t=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function Gt(e){var t=e.match($t);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}}function Zt(e){if(e&&e.length)if(Array.isArray(e)){var t,n=Je.comments.length;if(e.forEach(function(e){var i=Ae.querySelector(".comment[data-id='"+e+"']");i&&i.classList.add("highlight");var s=Array.from(i.parentElement.children).indexOf(i);s<n&&(n=s,t=i)}),t){var i=Ie.getBoundingClientRect().top,s=t.getBoundingClientRect().top-i;setTimeout(function(){"scrollBy"in Element.prototype?Ae.scrollBy({top:s-24,behavior:"smooth"}):Ae.scrollTop+=s-24},200)}else y.a({message:"Comments not available anymore."})}else{var a="string"==typeof e?Ae.querySelector(".comment[data-id='"+e+"']"):e;if(!a)return void y.a({message:"Comment not available anymore."});a.classList.add("new"),a.scrollIntoView(),setTimeout(function(){a.classList.add("highlight"),setTimeout(function(){a.classList.remove("highlight"),a.addEventListener("transitionend",function e(){a.removeEventListener("transitionend",e),a.classList.remove("new")})},1e3)},150)}}function Yt(){var e=S.H.canManageScreens(s),t=document.getElementById("manageTagsButton");t&&(t.classList.toggle("disabled",!e),e?(t.dataset.tooltip="Manage tags.",t.dataset.tooltipType="text"):(t.dataset.tooltip=function(e,t){var n=Vt(e,t);return S.j("<p>"+n+"</p><p><a href='https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}(s,"organize screens using tags."),t.dataset.tooltipType="html")),Ie.classList.toggle("canRemoveNotes",S.H.canRemoveNotes(s))}function Kt(e,t,n){if(!e||!t||!n)return null;const i=function e(t,n,i=[]){if(t===n)return[t,...i];if(!t.layers||!t.layers.length)return null;for(const s of t.layers){const a=e(s,n,[t,...i]);if(a)return a}return null}(e,t);if(!i)return null;for(const s of i){const e=s.componentName;if(!e)continue;const{component:t}=Object(ke.b)(n,e);if(t)return{rect:s.absoluteRect,_id:t._id,name:t.name}}return null}let Xt,Jt,Qt;function en(e){Qt=e,Oi(),mi()}const tn={project:se.c,styleguide:ve.c};function nn(){const{barrelType:e,organizationId:t,barrelId:n}=ie.d.getState();if(!t)return null;const{[`${e}s`]:i}=tn[e].getState(),s=i[t];return s?s[n]:null}function sn(e){if(Wt(e.users),function(e){var t=f.b.channel(r);function n(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void rn();var n=Ln(t.params.uid,!0),i=n?n.user.username:"Anonymous";y.a({title:i+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+i},{defer:!0}),rn()}else e.removeUser(t.params.mid),Wt(e.users)}t.bind("UpdateProjectDensityScale",({body:{densityScale:e}})=>ie.b.updateDensityScale({densityScale:e})),t.bind("UpdateProjectName",({body:{name:e}})=>ie.b.updateName({name:e})),t.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Ln(t.params.uid,!0),i=n?n.user.username:"Anonymous";y.a({title:i+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+i:"")},{defer:!0})}rn()}),t.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Ln(t.params.uid,!0),i=n?n.user.username:"Anonymous";y.a({title:i+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+i:"")},{defer:!0})}rn()}),t.bind("InviteUser",({body:e})=>ie.b.addMembers({members:[e]})),t.bind("CreateUser",({params:{uid:e},body:{username:t}})=>{ie.b.updateUserData({uid:e,userData:{username:t,status:"registered"}})}),t.bind("UpdateUsername",Ts),t.bind("UpdateEmail",Ts),t.bind("UpdateUserEmotar",Ts),t.bind("UpdateUserAvatar",Ts),t.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&f.a().then(function(t){var i=t.find(function(e){return e.id===n.user.paymentPlan}),s=e.versionLimit;if(e.versionLimit=i.versionLimit,s>e.versionLimit){if(e.screens.forEach(function(t){t.versions.length>e.versionLimit&&(t.versions.length=e.versionLimit)}),Ke){var a=Ke.versions.some(function(e){return e._id===Xe._id});a||(Dn(Ke,Ke.versions[0]),Object(je.a)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"})),Ke.versions.length===e.versionLimit&&Et.classList.contains("versionsShown")&&Un(Ke)}}else s<e.versionLimit&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>s&&delete e.totalVersionCount}),Ke&&(!Ke.totalVersionCount||Ke.totalVersionCount>s)&&In(Ke).then(function(e){Et.classList.contains("versionsShown")&&Un(e)}))}))}),t.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),Wt())}),t.bind("CreateColor",({body:e})=>ie.b.addColor({color:e})),t.bind("UpdateColor",({params:{cid:e},body:t})=>ie.b.updateColor({cid:e,colorData:t})),t.bind("UpdateColorsOrder",({body:{colors:e}})=>{e.forEach(({_id:e,to:t})=>ie.b.updateColorOrder({cid:e,to:t}))}),t.bind("DeleteColor",({params:{cid:e,unorderedBatch:t}})=>{t||ie.b.removeColor({cid:e})}),t.bind("UpdateProjectColorsStyleguide",({params:{pid:e,tstid:t}})=>{const{organizationId:n}=Object(Te.b)(e);n&&ie.b.emptyColors({oid:n,bid:e});const{organizationId:i}=Object(Te.d)(t);i&&le.getStyleguide(t).then(e=>{ve.b.getStyleguideSuccess({styleguide:e,oid:i})})}),t.bind("CreateProjectComponentV2",ws),t.bind("CreateProjectComponentVersion",js),t.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(Ke===n&&(an(),ni(t.body.name)),mi())}),t.bind("UpdateSectionScreens",function(t){if(e.findSection(t.params.seid)){var n=t.body.screens.filter(function(t){return!!e.findScreen(t)});ai(t.params.seid,n,t.body.index)}}),t.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),mi())}),t.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}Ke===n&&(ti(),Oi()),Tt.isRendered()&&ds(e.tags,us(h).tags)}}),"dashboard"===et?cn(e.id,gi()):mi()}),t.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var i=e.removeScreen(n._id,t.params.sid);if(i&&("dashboard"===et?cn(e.id,gi()):mi(),Ke===i)){var s=Ln(t.params.uid,!0),a=s?s.user.username:"Anonymous";y.a({title:a+" deleted this screen",message:"You won't be able to access \""+i.name+'" from now on.'}),cn(e.id,gi())}}}),t.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),mi()}),t.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),mi()}),t.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),mi())}),t.bind("DeleteSection",function(t){e.removeSection(t.params.seid),mi()}),t.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(Object.assign(i,t.body),"color"in t.body){var s=Bt[new T.a(t.body.color).hexBase()];Je===i&&(Nn(Ie),Ie.classList.add(s))}if("x"in t.body&&"y"in t.body){var a=document.querySelector(".dot[data-id='"+i._id+"']");a&&(ki(),a.classList.add("revert"),a.dataset.position=t.body.x<=.5?"left":"right",a.style.left="calc("+100*t.body.x+"% - 10px)",a.style.top="calc("+100*t.body.y+"% - 10px)")}"status"in t.body&&Je===i&&Ie.classList.contains(t.body.status)&&Ci(),Oi(),An()}}),t.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){ss(n,t.params.did);var i=document.querySelector(".dot[data-id='"+t.params.did+"']");i&&tt===i&&Ci(),An(),Oi()}}),t.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i&&1!==i.comments.length){as(i,t.params.cmid);var s=document.querySelector(".comment[data-id='"+t.params.cmid+"']");s.remove()}else ss(n,t.params.did),Je===i&&Ci(),An();Oi()}}),t.bind("AuthSlack",Ds),t.bind("DeleteIntegration",({params:{intype:e,inid:t}})=>ie.b.removeIntegration({intype:e,inid:t})),t.bind("CreateTextStyle",({body:e})=>ie.b.addTextStyle({textStyle:e})),t.bind("UpdateTextStyle",({params:{tsid:e},body:t})=>ie.b.updateTextStyle({tsid:e,textStyleData:t})),t.bind("DeleteTextStyle",({params:{tsid:e,unorderedBatch:t}})=>{t||ie.b.removeTextStyle({tsid:e})}),t.bind("UpdateProjectTextStylesStyleguide",({params:{pid:e,tstid:t}})=>{const{organizationId:n}=Object(Te.b)(e);n&&ie.b.emptyTextStyles({oid:n,bid:e});const{organizationId:i}=Object(Te.d)(t);i&&le.getStyleguide(t).then(e=>{ve.b.getStyleguideSuccess({styleguide:e,oid:i})})}),t.bind("UpdateProjectAccessibility",({public:e})=>ie.b.toggleScene({accessibility:e})),t.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),Wt(e.users),Yt(),mi(),Oi(),ti(),"pawn"!==s.role&&b.a("transition")}),t.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(n){e.changeUserRole(n.user._id,n.role),n.user._id===s.user._id&&(Zeplin.user.paymentPlan=n.user.paymentPlan),n.user._id!==t.params.mid&&n.user._id!==t.params.uid||e.changeUserPaymentPlan(n.user._id,n.user.paymentPlan)}),Wt(e.users),mi(),Oi(),Yt(),t.params.oid?bn(e.id).then(function(){"pawn"===s.role&&(a.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===et&&Kn(Ke))}):(a&&"screen"===et&&Kn(Ke),b.a("transition"),a=null)}),t.bind("RemoveUserFromProject",n),t.bind("RemoveMemberFromOrganization",n),t.bind("CreateScreenV3",ks),t.bind("CreateScreenVersion",Os),t.bind("UpdateScreenVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var i=n.versions.find(function(e){return e._id===t.params.vid});if(i&&(i.commit=i.commit||{},Object.assign(i.commit,t.body),Ke===n&&Et.classList.contains("versionsShown"))){var s=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!s)return;var a=Bt[new T.a(i.commit.color).hexBase()];Nn(s),s.classList.add(a);var o=s.querySelector(".commitMessage");Nn(o),o.classList.add(a)}}}),t.bind("UpdateScreenVersionCommitMessage",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var i=n.versions.find(function(e){return e._id===t.params.vid});if(i&&(i.commit=i.commit||{},Object.assign(i.commit,t.body),Ke===n&&Et.classList.contains("versionsShown"))){var s=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!s)return;var a=kn.get(s);a.value=i.commit.message}}}),t.bind("DeleteScreenVersion",function(t){var n,i=e.screens.find(function(e){return e._id===t.params.sid});i&&(e.removeVersion(t.params.sid,t.params.vid),n=!i.versions.length||i.versions.length<e.versionLimit&&i.totalVersionCount>=e.versionLimit?In(i):Promise.resolve(i),mi(),n.then(function(e){Ke===i&&(Xe._id===t.params.vid&&(Dn(i,e.versions[0]),Object(je.a)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"DeleteScreenVersion"})),Et.classList.contains("versionsShown")?Un(e):Qn(i))}))}),t.bind("CreateDotV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});n&&n.dots&&(n.dots.push(t.body),Ke===n&&An(),Oi());var i=t.body.comments[0];t.params.uid!==Zeplin.user._id&&it.test(i.note)&&os({title:i.author.username+" mentioned you",body:i.note,notifier:i.author,handler:function(){ln(S.P("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:i._id}}))}})}),t.bind("CreateDotCommentV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),i=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var s=n.dots.find(function(e){return e._id===t.params.did});if(s){var a,o=s._id;s.comments.push(t.body),Oi(),Je===s&&(a=Ki(t.body,n._id,o)),i&&Ke===n&&Je===s&&(Zt(a),Ui(document.querySelector(".dot[data-id='"+o+"']")))}}i&&it.test(t.body.note)&&os({title:t.body.author.username+" mentioned you",body:t.body.note,notifier:t.body.author,handler:function(){ln(S.P("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}),t.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),i=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var s=n.dots.find(function(e){return e._id===t.params.did});if(s){var a=s.comments.find(function(e){return e._id===t.params.cmid}),o=new Date(a.created),r=t.body.updated?new Date(t.body.updated):new Date;if(a.note=t.body.note,a.updated=r,Oi(),i&&Ke===n&&Je===s){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']"),c=l.querySelector(".commentMirror");c.innerHTML=Gi(t.body.note),c.classList.toggle("jumboEmojis",Pn(c,t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",r-o>3e5?r:""),Zt(l),Ui(document.querySelector(".dot[data-id='"+s._id+"']"))}}}if(i&&it.test(t.body.note)){var d=Ln(t.params.uid,!0);if(!d)return;os({title:d.user.username+" mentioned you",body:t.body.note,notifier:d.user,handler:function(){ln(S.P("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),t.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),t.bind("RequestPaymentFail",function(e){var t={currentRole:s.role};Object.assign(t,e.params),e.params.oid||"owner"===s.role||(t.ownerEmail=e.body.email),f.c(t)}),t.bind("AddProjectExtension",function(t){Ii(e,t.body._id,!1)}),t.bind("RemoveExtensionFromProject",function(t){X.a.removeExtension(e._id,"project",t.params.eid,!0)}),t.bind("CreateComponent",t=>{const{params:{csid:n},body:i}=t,s=n.split("/");e.findComponentById(i._id)||(e.addComponent(s,i),mi(),"screen"===et&&Xe&&Xe.snapshot.layers&&(Sn(Xe.snapshot.layers,{x:0,y:0}),qn()))}),t.bind("UpdateComponent",t=>{const{params:{csid:n,coid:i},body:s}=t,a=n.split("/");e.updateComponent(a,i,s),mi(),"screen"===et&&Xe&&Xe.snapshot.layers&&(Sn(Xe.snapshot.layers,{x:0,y:0}),qn())}),t.bind("UpdateComponentsOrder",t=>{const{body:{components:n}}=t;n.forEach(({csid:t,tcsid:n,coid:i,to:s})=>{const a=t.split("/"),o=n.split("/");e.updateComponentOrder(a,o,i,s)}),mi()}),t.bind("DeleteComponent",e=>{const{params:{csid:t,coid:n}}=e,i=t.split("/");ie.b.removeComponent({csids:i,coid:n}),"screen"===et&&Xe&&Xe.snapshot.layers&&(Sn(Xe.snapshot.layers,{x:0,y:0}),qn())}),t.bind("CreateComponentSection",t=>{const{params:{csid:n},body:{_id:i,name:s,description:a,index:o,components:r}}=t,l=n?n.split("/"):[],c=r.map(({csid:t,coid:n})=>e.removeComponent(t.split("/"),n)).filter(Boolean),d={_id:i,name:s,description:a,components:c};e.addComponentSection(l,o,d),mi()}),t.bind("UpdateComponentSection",t=>{const{params:{csid:n},body:i}=t,s=n.split("/");e.updateComponentSection(s,i),mi()}),t.bind("MergeComponentSections",t=>{const{body:{componentSections:n}}=t;n.forEach(({csid:t,tcsid:n,flatten:i})=>{const s=t.split("/"),a=n.split("/");e.mergeComponentSection(s,a,{flatten:i})}),mi()}),t.bind("UpdateComponentSectionsOrder",t=>{const{body:{componentSections:n}}=t;n.forEach(({csid:t,tcsid:n,to:i})=>{const s=t.split("/"),a=n?n.split("/"):[];e.updateComponentSectionOrder(s,a,i)}),mi()}),t.bind("DeleteComponentSection",t=>{const{params:{csid:n,unorderedBatch:i}}=t;if(i)return;const s=n.split("/");e.removeComponentSection(s),mi()}),t.bind("UpdateProjectComponentSectionsStyleguide",({params:{pid:e,tstid:t},body:{componentSections:n}})=>{const{organizationId:i}=Object(Te.b)(e);i&&ie.b.removeComponentSections({oid:i,bid:e,componentSections:n});const{organizationId:s}=Object(Te.d)(t);s&&le.getStyleguide(t).then(e=>{ve.b.getStyleguideSuccess({styleguide:e,oid:s})})}),t.bind("UpdateProjectStyleguideLink",t=>{const n=t.params.pid,{organizationId:i}=Object(Te.b)(n),{body:{styleguideLink:s}}=t;"active"===s.status?Q.b.linkProjectToStyleguideRequest({project:e,styleguide:s.styleguide,oid:i}):se.b.updateProject({pid:n,oid:i,data:{styleguideLink:s}})}),t.bind("RemoveProjectStyleguideLink",e=>{const t=e.params.pid,{organizationId:n}=Object(Te.b)(t),i=e.body.styleguideLink.styleguide;Q.b.unlinkProjectFromStyleguide({pid:t,styleguide:i,oid:n})})}(e),O.a&&function(){es&&(O.a.ipcRenderer.removeAllListeners(es.createScreen),O.a.ipcRenderer.removeAllListeners(es.createVersion),O.a.ipcRenderer.removeAllListeners(es.createScreenVersion),O.a.ipcRenderer.removeAllListeners(es.authSlack),O.a.ipcRenderer.removeAllListeners(es.createComponent),O.a.ipcRenderer.removeAllListeners(es.createComponentVersion));if(!i||!i.id)return;es=function(e){return{createScreen:`project:${e}:createScreen`,createVersion:`project:${e}:createVersion`,createScreenVersion:`project:${e}:createScreenVersion`,authSlack:`project:${e}:authSlack`,createComponent:`project:${e}:createComponent`,createComponentVersion:`project:${e}:createComponentVersion`}}(i.id),O.a.ipcRenderer.on(es.createScreen,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.latestVersion.creator){var t=Ln(e.body.latestVersion.creator,!0);e.body.latestVersion.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.latestVersion.commit=e.body.latestVersion.commit||{},"string"==typeof e.body.latestVersion.commit.author){var n=Ln(e.body.latestVersion.commit.author,!0);e.body.latestVersion.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}ks(e)}),O.a.ipcRenderer.on(es.createVersion,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.creator){var t=Ln(e.body.creator,!0);e.body.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.commit=e.body.commit||{},"string"==typeof e.body.commit.author){var n=Ln(e.body.commit.author,!0);e.body.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}Os(e)}),O.a.ipcRenderer.on(es.createScreenVersion,function(){var e=arguments[arguments.length-1];Os(e)}),O.a.ipcRenderer.on(es.authSlack,Ds),O.a.ipcRenderer.on(es.createComponent,ws),O.a.ipcRenderer.on(es.createComponentVersion,js)}(),ee.c.deselectLayer(),Ke=null,Je=null,Qe=null,tt=null,nt=null,mt&&O.a.ipcRenderer.send("popout:menuitem:enabled",!1),document.body.dataset.projectType=e.type,C.b.get(Ze.pid,"noResourceInfoDismissed").then(function(e){Xt=e}),mi(),C.b.get(Ze.pid,"versionsSidebarWrapperWidth").then(function(e){vs(e,$e),Ze.vid||$e.classList.add("collapsed")}),Qt=null,O.a&&O.a.features&&O.a.features.downloadAssets&&B.d(i.id,i.type,en),Yt(),a)"past_due"===a.subscriptionStatus&&f.c({oid:a._id,currentRole:s.role});else{var t=i.findOwner();"past_due"===t.user.subscriptionStatus&&f.c({currentRole:s.role,ownerEmail:t.user.email})}le.getProjectSlackIntegrationEmojis(i.id).catch(function(){}).then(function(e){e&&"emoji"in e&&H.a.addCustomEmojis(e.emoji)}).then(Ss)}function an(){var e="";"dashboard"===et?e="Dashboard - ":"styleguide"===et?e="Styleguide - ":Ke&&(e=Ke.name+" - "),xe.textContent=e+(i?i.name+" - ":"")+"Zeplin"}function on(){a?location.replace(S.P("organization-projects",{url:{oid:a._id}})):location.replace(S.P("projects"))}function rn(){var e;if(ut)return ht&&(e=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void O.a.ipcRenderer.sendToHost("close-project-webview",a?S.P("organization-projects",{url:{oid:a._id}}):S.P("projects"),e);on()}function ln(e,t){switch((t=t||{}).navigationOperation){case"replace":gt.history.replace(e,t);break;case"pop":gt.history.pop();break;case"push":default:gt.history.push(e,t)}}function cn(e,t){t=t||{},ln(S.P("project-dashboard",{url:{pid:e},query:t}))}function dn(e){ln(S.P("project-styleguide",{url:{bid:e}}))}function un(e,t,n){ln(S.P("project-screen",{url:{pid:e,sid:t}}),n)}function hn(e){const{forScreen:t=!1}=e||{};ki(),_t.update({page:"project-dashboard"}),et="dashboard",document.removeEventListener("keydown",yi),document.removeEventListener("keyup",vi),document.addEventListener("keydown",Si),Ye=-2,Ke=null,Re.dataset.selection="barrel",ms(),ie.b.changeSelectedView("dashboard"),!ei()&&mt&&O.a.ipcRenderer.send("popout:menuitem:enabled",!1),!function(){const{highlightedScreens:e}=oe.b.getState();if(!e)return!1;const t=e.reduce((e,t)=>{const n=i.screens.findIndex(e=>e._id===t);return-1!==n&&n<e.index?{index:n,id:t}:e},{index:1/0});if(Number.isFinite(t.index))return pi.add(()=>xt.component.projectOverview.scrollToScreen(t.id)),!0;return!1}()&&t&&y.a({message:"Screens not available anymore."}),ti()}function pn(){ki(),_t.update({page:"project-styleguide"}),et="styleguide",document.removeEventListener("keydown",Si),document.removeEventListener("keydown",yi),document.removeEventListener("keyup",vi),Ye=-1,Ke=null,Re.dataset.selection="barrel",ie.b.changeSelectedView("styleguide"),oe.a.highlightScreens(),!ei()&&mt&&O.a.ipcRenderer.send("popout:menuitem:enabled",!1),mi(),ti()}function mn(e){if(e){var t=Ke.dots.find(function(t){return t._id===e});if(t)return t.status}}function gn(e){if("apiData"in Zeplin&&e in Zeplin.apiData){var t=Zeplin.apiData[e];return delete Zeplin.apiData[e],t}}function fn(){const e=gn("organizations");if(e)return Promise.resolve(e);const t=R.a.mark();return le.getOrganizations().then(e=>(R.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:200}}),e)).catch(e=>{throw R.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:e.status}}),e})}function bn(e){var t=gn("projectOrganization");return(t?Promise.resolve(t):le.getProjectOrganization(e)).then(function(e){if(a=e){if(a.transitionFinished=-1===e.transitionLeft,ut){const e=S.P("organization-projects",{url:{oid:a._id}});O.a.ipcRenderer.send("preload-url",e)}return"pawn"!==s.role||a.transitionFinished||function(e){if("dismissed"===sessionStorage.getItem("transitionBannerStatus"+i.id))return;b.b({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+i.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),Zn(a._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+i.id,"dismissed"),b.a("transition")}}})}(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==s.role?function(e){const t=gn("organization");return t&&t.members?Promise.resolve(t.members):le.getOrganizationMembers(e)}(e._id).then(function(e){Object.assign(a,e)}):void 0}}).catch(function(){})}function yn(e){E.b(e,{clientErrorHandler:function(){y.a({title:e.title,message:e.message},{defer:!0}),rn()}})}function vn(e){var t=gn("project");return(t?Promise.resolve(t):le.getProject(e)).then(t=>{if(function(e){const t=V.r+e;r!==t&&(r&&f.b.unsubscribe(r),r=t,f.b.subscribe(r))}(t._id),!t.partial)return Promise.all([le.getProjectExtensions(e),le.getProjectComponentSections(e)]).then(([e,n])=>(function(e){let t;if(i=new j.a(Object.assign({},e,{complete:!0})),s=i.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",S.A(i)),a=null,S.A(i))t=bn(i.id);else if(t=Promise.resolve(),ut){const e=S.P("projects");O.a.ipcRenderer.send("preload-url",e)}const n=fn();return Promise.all([f.a(),function(e,t){if(!t)return Promise.resolve([]);const n=gn("linkedStyleguides");if(n)return Promise.resolve(n);const{status:i,styleguide:s}=t;return"active"!==i?Promise.resolve([]):Promise.all([s._id,...s.ancestors].map(t=>le.getStyleguide(t,{projectId:e})))}(i.id,i.styleguideLink),t,n,C.b.get(Ze.pid,"projectInfoWidth").then(e=>{Jt=e}),function(e){return C.b.get(e,"fixedThumbnailSize").then(e=>{u=e})}(i.id)]).then(function([e,t,n,o]){sn(i);const r=i.findUser(Zeplin.user._id),l=Nt(i),c="pawn"!==r.role?le.getStyleguides("user"!==l?l:null):Promise.resolve();return t.forEach(e=>Object(Te.g)(e._id)),Promise.all([C.b.getAll(i.id),C.d.getAll(),c]).then(([{assetDensityScalePrefs:n,assetNamingConvention:c,collapsedSections:d,layoutGridEnabled:u,noteVisibility:h,screenSidebarWidth:p,showOptimizedSVG:m,styleguideLeftSidebarWidth:g,styleguideRightSidebarWidth:f,zoomLevel:b},{hideNoVectorAssetInfo:y,hideDensityMismatchWarning:v,slackReconnectionAuntieSeen:C,globalStyleguidesWhatsNewSeen:O,versionsTutorialSeen:D},w])=>{let j;ie.b.load({barrel:{barrelType:"project",barrelId:i.id,barrelUser:r,organizationId:l,organizationTransitionFinished:a&&a.transitionFinished,assetDensityScalePrefs:Object(we.d)(i.type,n),assetNamingConvention:"android"===i.type?"snakeCase":c,showOptimizedSVG:m,bitmapInfoHidden:y,densityWarningHidden:v,showSlackReconnectionAuntie:!C},styleguide:{selectedStyleguideSection:"colors",leftSidebarWidth:g,rightSidebarWidth:f},dashboard:{collapsedSections:d},screen:{layoutGridEnabled:u,zoomLevel:b,notesVisible:h,showVersionsTutorial:!D,sidebarWidth:p},user:{globalStyleguidesWhatsNewSeen:O},data:{project:i,organizations:o,organizationStyleguides:w,linkedStyleguides:t}}),j=S.A(i)?a.paymentPlan:i.findOwner().user.paymentPlan;const T=e.find(e=>e.id===j);i.versionLimit=T.versionLimit,"pawn"!==s.role&&a&&k.i(a._id),st=!1,function(e){Promise.all(e.extensions.map(t=>new ne.a(t).load(e._id,x.a.PROJECT))).then(t=>{X.a.loadExtensions(e,x.a.PROJECT,t)}).catch(E.b)}(i),re.a.init()})})})(Object.assign(t,e,n))).catch(e=>{st?(st=!1,navigator.onLine&&location.reload()):yn(e)}).finally(e=>{ut?(pt=!1,O.a.ipcRenderer.sendToHost("active")):mi()});Lt=t,i=null,function(){xe.textContent="Zeplin - Project Preview",function(){const e=f.b.channel(r);e.bind("UpdateProjectName",Is.onNameChange),e.bind("ArchiveProject",Is.onProjectNotAvailable),e.bind("DeleteProject",Is.onProjectNotAvailable),e.bind("InviteUser",Is.onProjectChannelInviteUser),e.bind("CreateUser",Is.onCreateUser),e.bind("UpdateUserEmotar",Is.onUpdateUserProfile),e.bind("UpdateUserAvatar",Is.onUpdateUserProfile),e.bind("RemoveUserFromProject",Is.onRemoveUserFromProject),e.bind("DeleteUser",Is.onDeleteUser),e.bind("UpdateProjectDensityScale",Is.onUpdateProjectDensityScale),e.bind("CreateScreenV3",Is.onCreateScreenV3),e.bind("CreateScreenVersion",Is.onCreateScreenVersion),e.bind("DeleteScreen",Is.onDeleteScreen),e.bind("UpdateSectionScreensOrder",Is.onUpdateSectionScreensOrder)}();const e=bn(Lt._id),t=fn();Promise.all([e,t]).then(([e,t])=>{ie.b.load({barrel:{barrelType:"project",barrelId:Lt._id,organizationId:a._id},data:{project:Lt,organizations:t}})})}()}).catch(yn)}function Sn(e,t){for(const n of e)n.absoluteRect={x:n.rect.x+t.x,y:n.rect.y+t.y,width:n.rect.width,height:n.rect.height},"group"===n.type&&(Array.isArray(n.layers)?Sn(n.layers,n.absoluteRect):n.layers=[])}function Cn(e,t){return navigator.onLine&&e&&t?le.getSnapshot(i.id,e._id,t._id).then(function(n){return n.layers.unshift(function(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor});return n}(e.name,n)),Sn(n.layers,{x:0,y:0}),function(e,t){if(Array.isArray(e.assets)&&e.assets.length){const{barrelId:n}=ie.d.getState(),{density:s,densityScale:a=S.p(s)}=e,o=a!==i.densityScale;Promise.all(e.assets.map(i=>(Object.assign(i,{densityMismatch:o}),Object(ye.a)(n,t._id,e,i)))).then(Oi)}}(n,e),Object.assign(t.snapshot,n)}).catch(function(e){return E.b(e),t.snapshot}):Promise.resolve()}function En(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return S.o(e,{year:"numeric",month:"long",day:"numeric"})}Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":dn(i.id);break;case"dashboard":default:cn(i.id,gi())}})});var kn=new WeakMap,On=document.querySelector(".versions");function Dn(e,t,n={}){const s=On.querySelector(".version.editing");if(s&&kn.get(s).cancelEditing(),Xe=t,Et.classList.contains("versionsShown")){const e=document.querySelector(".version.selected");e&&e.classList.remove("selected");const t=document.querySelector(".version[data-id='"+Xe._id+"']");t&&t.classList.add("selected"),t&&n&&n.scrollIfNecessary&&Object(_e.k)(t)}const a={url:{pid:i.id,sid:e._id,vid:Xe._id}},o=Xe._id===Ke.versions[0]._id?"project-screen":"project-screen-version";n.initial?history.replaceState(null,null,S.P(o,a)):history.pushState(null,null,S.P(o,a)),function(e,t){const n=i.id,s=e._id,a=t._id,o=e.versions[0]._id===a,r=o?e:e.versions.find(e=>e._id===a);if(!r.webUrl){let e;e=o?S.P("project-screen",{url:{pid:n,sid:s}}):S.P("project-screen-version",{url:{pid:n,sid:s,vid:a}}),le.generateShortlink(e).catch(()=>e).then(e=>{r.webUrl=e,Oi()})}r.appUri||(r.appUri=`${V.E}//screen?pid=${n}&sid=${s}${o?"":"&vid="+a}`,Oi())}(e,Xe),Kn(e,Xe)}function wn(e,t){t&&("folder"===e?O.a.ipcRenderer.send("show-item-in-folder",t):"file"===e&&O.a.ipcRenderer.send("open-item",t))}var jn=document.getElementById("versionTemplate"),Tn=document.getElementById("nodeColorChooserTemplate");function _n(e){1===Ke.totalVersionCount?y.a({title:'Delete  "'+Ke.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){cs(Ke._id),cn(i.id,gi())}},cancel:{name:"CANCEL"}}):y.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){(function(e,t){return S.H.canManageScreens(s)?le.deleteVersion(i.id,e._id,t._id).then(function(){return mixpanel.webapp.track("Deleted version"),i.removeVersion(e._id,t._id)}):Promise.reject(E.a(403,{title:"Youre not allowed to do this",message:"Please contact the organization admins."}))})(Ke,e).then(function(){return Ke.versions.length<i.versionLimit&&Ke.totalVersionCount>=i.versionLimit?In(Ke):Ke}).then(function(){var t=Ke.versions[0];Xe._id===e._id&&(Dn(Ke,t),ee.c.deselectLayer()),Un(Ke)}).catch(E.b)}},cancel:{name:"CANCEL"}})}function xn(e,t,n,a){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||zt.yellow;var o=new Date(e.created),r=new Date(t.created),l=o.getDate()!==r.getDate()||o.getMonth()!==r.getMonth()||o.getFullYear()!==r.getFullYear();l&&On.appendChild(function(e){var t=document.importNode(Rn.content,!0);return t.querySelector(".versionHeaderText").textContent=En(e),t}(r));var c=document.importNode(jn.content,!0),d=c.querySelector(".version"),u=d.querySelector(".versionNodeDot"),h=d.querySelector(".commitMessage"),p=new w.a(h,$i);kn.set(d,p),d.dataset.id=t._id;var m,g=Bt[new T.a(t.commit.color).hexBase()];d.classList.add(g),h.classList.add(g),!l&&e.creator&&t.creator&&e.creator._id===t.creator._id?d.classList.add("sameCreator"):(Object(_e.m)(d.querySelector(".versionAuthorImage"),t.creator),d.querySelector(".versionAuthorName").textContent=t.creator?t.creator.username:"Anonymous"),d.classList.toggle("canDelete",S.H.canManageScreens(s)),d.classList.toggle("versionOwner",t.creator&&t.creator._id===s.user._id),m=t.creator&&t.creator._id===Zeplin.user._id?1===a.length?"Got any notes?":"What has changed in this version?":"No commit message yet.",p.placeholder=m,t.commit.message?p.value=t.commit.message:d.classList.add("empty"),d.querySelector(".versionMetadata time").textContent=S.o(r,{hour:"numeric",minute:"numeric"}),u.addEventListener("mouseenter",function(){if(!$e.classList.contains("collapsed")&&"pawn"!==s.role){var e=document.importNode(Tn.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(g),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&g!==e.target.dataset.color){var a=zt[e.target.dataset.color];Nn(n),n.classList.add(a.name),Nn(d),d.classList.add(a.name),Nn(h),h.classList.add(a.name),function(e,t,n){return"pawn"===s.role?Promise.reject(E.a(403,{title:"Youre not allowed to do this",message:"Please contact the organization admins."})):le.updateCommitColor(i.id,e._id,t._id,n).then(function(){return mixpanel.webapp.track("Updated version color"),Object.assign(t.commit,{color:n})})}(Ke,t,a).then(function(e){g=e.color.name}).catch(function(e){var t=zt[g];Nn(n),n.classList.add(t.name),Nn(d),d.classList.add(t.name),Nn(h),h.classList.add(t.name),E.b(e)})}}),u.appendChild(e)}}),d.addEventListener("click",function(){d.classList.contains("selected")||Dn(Ke,t)});return h.addEventListener("autocomplete",function(){const e=h.querySelector("textarea"),t=z.manageSuggestedEmojis(e,h.querySelector(".mirror"));if(t){const n=h.getBoundingClientRect(),i=e.getBoundingClientRect(),s=Object(ge.a)(e,e.selectionEnd);if(t.style.top=n.top+s.top-40+"px",s.left+200>n.width){t.style.left="auto";let e=h.offsetWidth-s.left;e+200>i.right&&(e=0),t.style.right=e+"px"}else t.style.right="auto",t.style.left=n.left+s.left+"px";d.appendChild(t),z.open()}}),h.addEventListener("submit",function(){var e=p.value,n=z.formatEmojiString(p.value.trim(),!0);p.value=n,d.classList.remove("editing"),d.classList.toggle("empty",!n),z.close(),t.commit.message!==n&&function(e,t,n){if(!S.H.canManageScreens(s))return Promise.reject(E.a(403,{title:"Youre not allowed to do this",message:"Please contact the organization admins."}));if(!t.creator||t.creator._id!==s.user._id)return Promise.reject(E.a(403,{title:"You cant edit this commit",message:"You can only edit your own commits."}));var a={message:n};return le.updateCommitMessage(i.id,e._id,t._id,a).then(function(){return mixpanel.webapp.track("Updated version commit message"),Object.assign(t.commit,a)})}(Ke,t,n).catch(t=>{p.value=e,d.classList.toggle("empty",!p.value),E.b(t,{clientErrorDialogCallback:function(){p.cancelEditing()},serverErrorDialogCallback:function(){p.startEditing()}})})}),h.addEventListener("cancel",function(){d.classList.remove("editing")}),Array.from(d.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Dn(Ke,t),d.classList.add("editing"),p.startEditing()})}),d.querySelector(".commitMenuButton").addEventListener("click",e=>{e.stopPropagation(),d.classList.add("contextMenuOpen"),t.webUrl||function(e){const t=S.P("project-screen-version",{url:{pid:i.id,sid:Ke._id,vid:e._id}});le.generateShortlink(t).then(t=>{e.webUrl=t}).catch(()=>{e.webUrl=t})}(t);const n=d.classList.contains("canDelete"),s={autoPosition:{zIndex:1e3,menuContainer:On,clickOrigin:{x:e.clientX,y:e.clientY+24}},onCopyWebUrl(){!function(e){let t=e.webUrl;t||(t=S.P("project-screen-version",{url:{pid:i.id,sid:Ke._id,vid:e._id}})),Object(_e.c)({content:t,toastContainer:On})}(t)},onCopyAppUri(){!function(e){Object(_e.c)({content:`${V.E}//screen?pid=${i.id}&sid=${Ke._id}&vid=${e._id}`,toastContainer:On})}(t)},onClose(){d.classList.remove("contextMenuOpen"),Rt.remove()}};n&&(s.onDelete=function(){_n(t)}),Rt.render(s)}),On.appendChild(c),t}On.addEventListener("click",function(e){e.stopPropagation()});var Rn=document.getElementById("versionHeaderTemplate");function In(e){On.scrollTop=0,$e.classList.add("loading");var t=gn("versions");return(t?Promise.resolve(t):le.getVersions(i.id,e._id)).then(function(t){return e.versions.forEach(function(e){if("layers"in e.snapshot){var n=t.versions.find(function(t){return e._id===t._id});n&&Object.assign(n.snapshot,e.snapshot)}}),Object.assign(e,t)}).catch(function(t){return e})}function Pn(e,t){var n=z.replace(t.replace(S.i,""),!1,!0).trim();return(!n||""===n)&&(e.childElementCount>0&&e.childElementCount<=5)}function Ln(e,t){var n=i.findUser(e);return!n&&t&&a&&a.members?a.members.find(function(t){return t.user._id===e}):n}function An(e,t){Ke&&ee.c.loadDots(Ke.dots,bt,yt,e||null,t||null)}function Nn(e){e.classList.remove(...Object.keys(zt))}function Mn(e,t){var n=z.formatEmojiString(ze.value.trim(),!0);if(n){rt=!1;var s=e._id,a=Ki({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:n,created:Date.now(),updated:Date.now()},s);Ui(t),a.classList.add("loading"),Zi(),Ne.classList.remove("composing"),nt.comments=[{note:n}];var o=nt;delete o.name,le.createDot(i.id,s,o).then(function(n){Je=n,C.b.set(Ze.pid,"lastNoteColorUsed",o.color.name),e.dots.push(Je),t.remove(),An(),qn(),tt=document.querySelector(".dot[data-id='"+Je._id+"']"),Ie.dataset.id=Je._id,Oi(),Be.innerHTML="&nbsp;",ze.value="",ot[s]&&ot[s].comment&&(ot[s].comment=null),a.dataset.id=Je.comments[0]._id,a.querySelector(".commentLink").href=S.P("project-screen",{url:{pid:i.id,sid:s},query:{did:Je._id,cmid:Je.comments[0]._id}}),a.classList.remove("loading"),rt=!0,mixpanel.webapp.track("Created dot")}).catch(function(e){a.remove(),Ne.classList.add("composing"),ze.focus(),E.b(e)})}}function Un(e){if(e===Ke){if(On.scrollTop=0,On.innerHTML="",e.versions.reduce(xn,{}),Xe){var t=document.querySelector(".version[data-id='"+Xe._id+"']");t&&t.classList.add("selected")}var n=e.totalVersionCount-i.versionLimit;if(n>0){var s=document.importNode(document.getElementById("versionLimitExceeded").content,!0),a=s.querySelector(".versionLimitExceeded");a.classList.toggle("plural",n>1),a.querySelector(".remainingVersionCount").textContent=n,a.querySelector("a").addEventListener("click",function(){mixpanel.webapp.track("Clicked version limits learn more button")}),On.appendChild(s)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);On.appendChild(o)}$e.classList.remove("loading")}}function Bn(){Ke.totalVersionCount?Un(Ke):In(Ke).then(Un),C.b.set(i.id,Ke._id,"versionsLastSeen",new Date(Ke.versions[0].created)),Et.classList.add("versionsShown"),$e.classList.remove("collapsed"),ei()}function zn(){return Ke&&Ke.versions&&Ke.versions[0]._id!==Xe._id}function Fn(){$e.classList.toggle("collapsed")?zn()?$e.classList.add("compact"):Et.classList.remove("versionsShown"):$e.classList.contains("compact")?$e.classList.remove("compact"):Et.classList.remove("versionsShown"),ee.c.hideVersions(),ei()}Le.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&function(e,t,n,s){if(Nn(Ie),Ie.classList.add(e),"undefined"===t)return nt.color=zt[e],Nn(tt),void tt.classList.add(e);const a=s.color;s.color=zt[e],An(),Oi(),yt&&yt!==e&&Ci();var o=n._id;le.changeDotColor(i.id,o,t,{color:zt[e]}).then(function(){C.b.set(Ze.pid,"lastNoteColorUsed",e),mixpanel.webapp.track("Changed dot color")}).catch(function(e){s.color=a,An(),Oi(),Nn(Ie),Ie.classList.add(Bt[new T.a(a).hexBase()]),E.b(e)})}(e.target.dataset.color,Ie.dataset.id,Ke,Je)}),document.querySelector(".versionsCollapser").addEventListener("click",Fn);const Hn={project:se.d,styleguide:ve.d};function qn(){Ke&&Xe&&Vn(Xe.snapshot)}function Vn(e){const{extensionDialogOpen:t}=ie.d.getState(),{jumpToPopupOpen:n}=oe.b.getState(),a=nn(),o=xi(),r={id:a.id,name:"Local Styleguide",isMember:Ri(a,s),isOrganizationBarrel:S.A(a)},l=o.map(e=>({id:e._id,name:e.name,componentSections:e.componentSections,isMember:Ri(e,s),isOrganizationBarrel:S.A(e)})),c=[Object.assign({componentSections:a.componentSections},r),...l];t?It.render():It.isRendered()&&It.remove(),n?Pt.render({screenList:i.screens}):Pt.isRendered()&&Pt.remove(),Dt.render({project:i,screen:Ke,snapshot:e,componentsData:c,earlierVersionFrom:zn()?En(Xe.created):null,onScreenViewScroll:Ie.classList.contains("hidden")?null:zi,onZoomLevelApplied:zi})}Hn.project.register(Oi),Hn.project.register(qn);var Wn,$n,Gn=!1;function Zn(e,t){Gn?Object(je.a)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):(Gn=!0,le.requestOrganizationInvitation(e).then(function(){Object(je.a)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})}).catch(function(){Object(je.a)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})}))}function Yn(e){let t;if(Ze.vid){const n=e.versions.find(e=>e._id===Ze.vid);n?(t=n,Bn()):(y.a({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."}),t=e.versions[0])}else t=e.versions[0];Dn(e,t,{initial:!0,scrollIfNecessary:!0})}function Kn(e,t){clearTimeout(Wn);var n=(t=t||e.versions[0]).snapshot;if(n&&Xe._id===t._id&&(At=!1,ni(e.name),Vn(n)),"pawn"===s.role&&a&&a.transitionFinished)return n&&(delete n.layers,delete n.assets),void Vn(n);!function(e){if(!O.a||!O.a.features||!O.a.features.openInPhotoshop)return;const t=Ke.versions.find(t=>t._id===e);t&&(O.a.ipcRenderer.removeAllListeners(`${e}:sourceFile`),O.a.ipcRenderer.once(`${e}:sourceFile`,function(e,n){t.sourceFile=n}),O.a.ipcRenderer.send("query-source-file",e))}(t._id),n&&"layers"in n?(At=!1,ni(e.name),Vn(n),Oi()):(At=!0,Wn=setTimeout(n=>{ni(e.name),Cn(e,t).then(function(n){null!==Ke&&n&&Xe._id===t._id&&(At=!1,ni(e.name),Vn(n),Oi())})},300))}function Xn(e,t){if(e&&1===e.length)An(null,{did:e[0],cmid:t});else if(e&&e.length>1){const t=e.filter(e=>Ke.dots.find(t=>t._id===e));t.length!==Ze.did.length&&y.a({message:"Notes not available anymore."}),An(t)}}function Jn(e){const t=new Promise(e=>{setTimeout(()=>{ee.c.loadDots(null,"open"),e()},4)});var n;return n="dots"in e?Promise.resolve():new Promise(function(t){clearTimeout($n),$n=setTimeout(function(){(function(e){if(e){var t=gn("dots");return(t?Promise.resolve(t):le.getDots(i.id,e._id)).then(function(t){e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"})}).catch(function(t){Ke===e&&E.b(t)})}})(e).then(function(){t()})},300)}),Promise.all([t,n]).then(function(){if(Ze.did&&1===Ze.did.length)return[mn(Ze.did[0]),null];if(Ze.did&&Ze.did.length>1){const e=Ze.did.some(e=>"open"===mn(e));if(e&&"open"!==bt)return["open",null];if(!e&&"resolved"!==bt)return["resolved",null]}return Promise.all([C.b.get(i.id,"dotListingsStatusFilter").then(function(e){return"open"!==e&&"resolved"!==e&&"mentioned"!==e?"open":e}),C.b.get(i.id,"dotListingsColorFilter")])}).then(function([e,t]){Pi(e,t),Oi(),Ke&&(Ze.did?Xn(Ze.did,Ze.cmid):An())})}function Qn(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,C.b.get(i.id,e._id,"versionsLastSeen").then(function(n){if(!n)return C.b.set(i.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var a=e.versions.filter(function(e){return new Date(e.created)>n});if(a.length>0&&ee.c.newVersionsFound(),a.length){var o=a.filter(function(e){return e.creator&&e.creator._id===s.user._id}),r=o.find(function(e){return!e.commit||!e.commit.message}),l=a.length-o.length;r&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=v.a({content:new Date-new Date(r.created)>36e5?"Looks like you uploaded a version <time-ago datetime='"+r.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):l&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=v.a({content:"There "+(l>1?"are ":"is ")+(l>1?l:"a")+" new version"+(l>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function ei(){return!(!ct||!ht)&&("dashboard"===et||"styleguide"===et?D.a.setViewMenuContext(et):Et.classList.contains("versionsShown")?D.a.setViewMenuContext("screen-view",{versionsShown:!0}):D.a.setViewMenuContext("screen-view"),!0)}function ti(){if(ct&&ht&&i){var e=i.findUser(Zeplin.user._id),t=[],n=[];S.H.canDeleteProject(e)?t.push("deleteProject"):n.push("deleteProject"),S.H.canLeaveProject(e)?t.push("leaveProject"):n.push("leaveProject"),Ke?(S.H.canManageScreens(e)&&(t.push("renameScreen","deleteScreen"),Ke.tags.length?(t.push("manageTags"),n.push("addTag")):(n.push("manageTags"),t.push("addTag"))),!S.H.canUpdateProject(e)||i.thumbnail&&i.thumbnail===Ke.versions[0].snapshot.url?n.push("setAsThumbnail"):t.push("setAsThumbnail")):n.push("renameScreen","deleteScreen","setAsThumbnail","addTag","manageTags"),D.a.updateEditCapabilities({on:t,off:n})}}function ni(e){var t=gi();const{filterValue:n}=oe.b.getState();n&&(t.q=n),Ot.render({loadingBarrel:!1,loadingSnapshot:At,barrelType:"project",selectedView:et,inBarrelContainer:!1,title:e,backButtonLabel:"Dashboard",backButtonLink:S.P("project-dashboard",{url:{pid:i.id},query:t}),hasPrevious:0!==Ye,hasNext:Ye!==Mt().length-1,onOpenPreviousScreen:ee.c.openPreviousScreen,onOpenNextScreen:ee.c.openNextScreen,onChangeSelectedView(e){ie.b.changeSelectedView(e,!0)}})}function ii(e){const t=i.findScreen(e);if(!t)return y.a({message:"Screen not available anymore.",defer:!0}),void cn(i.id,gi());const{versionsVisible:n}=ee.e.getState();!Ke&&n&&Fn(),Ke=t;const s=Mt().findIndex(t=>t._id===e);Ye=s>-1?s:Ye,ki(),Ke.description=Ke.description||"",_t.update({page:"project-screen"}),et="screen",document.removeEventListener("keydown",Si),document.addEventListener("keydown",yi),document.addEventListener("keyup",vi),Xe=Ke.versions[0],ee.c.deselectLayer(),Re.dataset.selection="screen",ni(t.name),oe.a.highlightScreens(e),ie.b.changeSelectedView("screen"),!ei()&&lt&&O.a.ipcRenderer.send("popout:menuitem:enabled",!0),Oi(),ti();const a=function(e){return e.totalVersionCount?Promise.resolve(e):In(e)}(Ke).then(e=>(Et.classList.contains("versionsShown")?(Un(e),C.b.set(i.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):Qn(e),e));let o;return Ze.vid?o=a.then(e=>{Yn(e)}):(o=Promise.resolve(),Yn(Ke)),Promise.all([o,Jn(Ke)]).then(Rs)}function si(e){return Array.isArray(e)?function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}:function(t){return t.tags&&t.tags.includes(e)}}function ai(e,t,n){e&&S.H.canManageScreens(s)&&(i.addScreensToSection(e,t,n),mi())}function oi(e,t){if(e){var n=i.removeSection(e);return mi(),function(e){if(e)return le.deleteSection(i.id,e)}(e).catch(function(e){E.b(e),i.addSection(n,t),mi()})}}function ri(){var e=i.id,t=i.type,n=i.densityScale,s=a?a._id:null;function o(i){return i.filter(function(i){var s=i._id!==e&&i.type===t&&(!i.densityScale||i.densityScale===n),a="active"===i.status,o=!0;if(S.A(i)){var r=i.users.find(function(e){return e.user._id===Zeplin.user._id});o=r&&S.H.canManageScreens(r)}return s&&a&&o}).sort(S.L.name)}return Promise.all([function(e){return"user"!==(e=e||"user")?Promise.resolve(null):le.getProjects().then(function(e){return o(e)})}(s),function(e){return e=e||"user",le.getOrganizations().then(function(t){return t.filter(function(t){return"active"===t.status&&("user"===e||e===t._id)})}).then(function(e){return Promise.all(e.map(function(e){return le.getOrganizationMemberProfile(e._id,Zeplin.user._id)})).then(function(t){return e.filter(function(e,n){return S.H.canMoveScreens(t[n])}).sort(S.L.name)})}).then(function(e){return Promise.all(e.map(function(e){return le.getProjects(e._id)})).then(function(t){return t.map(function(t,n){var i=o(t);return[e[n],i]})})})}(s)]).then(function(e){var t=e[0],n=e[1],i=[];return t&&(i.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"}),i=i.concat(t.map(function(e){return{type:"project",pid:e._id,name:e.name,densityScale:e.densityScale}}))),i=i.concat(n.reduce(function(e,t){var n=t[0],i=t[1];return e.push({type:"header",content:n.name+"'s Projects"},{type:"create",oid:n._id}),e.concat(i.map(function(e){return{type:"project",pid:e._id,name:e.name,densityScale:e.densityScale}}))},[]))})}function li(e){E.b(e,{clientErrorHandler:{402:function(){y.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:g.a}})},default:E.b}})}function ci(e,t,n,s,a,o){var r,l,c=i.densityScale,d=i.type;function u({_id:t,pid:n=t,densityScale:s}){return r=n,(s?Promise.resolve():le.updateProjectDensityScale(n,c)).then(function(){return le.moveScreen(i.id,n,e.screens)})}function h({tpid:t,tseid:n}){return le.moveScreen(i.id,t,e.screens).then(e=>({tpid:t,tseid:n}))}function p({tpid:t,tseid:n}){return l=n,le.updateSectionScreens(t,n,0,e.screens)}function m(){return le.deleteSection(i.id,e._id)}const g="create"===t.type?"a new project":`"${t.name}"`;y.a({message:`Move selected section from "${i.name}" to ${g}?`,done:{name:"MOVE",cb(){switch(s(n),t.type){case"create":le.createProject({oid:t.oid,platform:d,densityScale:c,name:e.name}).then(u).then(m).then(e=>o(r,l)).catch(li);break;case"project":(function({_id:t,pid:n=t,densityScale:i}){var s;return r=n,s=i?Promise.resolve():le.updateProjectDensityScale(n,c),e.index=1,s.then(function(){return le.createSection(n,e).then(e=>({tseid:e._id,tpid:n}))})})(t).then(h).then(p).then(m).then(e=>o(r,l)).catch(E.b)}}},cancel:{name:"KEEP",cb(){a&&a()}}})}let di=0;function ui(e){if(!function(e){var t=i.screens.filter(si([e]));if(0===t.length)return!1;return t.every(function(e){var t=i.findScreenSection(e._id);return i.isDefaultSection(t._id)})}(e))return;const{tagFilter:{tags:t}}=oe.b.getState(),n=JSON.parse(JSON.stringify(i.sections)),s={_id:"newSection",key:`newSectionFromTag-${di++}`,name:e,screens:i.screens.filter(si([e])).map(function(e){return e._id})};i.addSection(s,1),t.length>0&&(oe.a.changeTagFilter({tags:[],untagged:!1}),cn(i.id,gi())),mi(),xt.component.projectOverview.highlightSectionName(s._id),le.createSection(i.id,{name:s.name,screens:s.screens,index:1}).then(t=>{s._id=t._id,mi(),bs(e)}).catch(e=>{i.sections=n,cn(i.id,gi()),E.b(e)})}function hi(e,t){if(e)return le.updateSection(i.id,e,t)}const pi={listeners:[],mounted:!1,add(e){this.mounted?e():this.listeners.push(e)},handleUnmount(){this.mounted=!1},handleMount(){this.mounted=!0,this.listeners.forEach(e=>e()),this.listeners=[]}};function mi(){Ct.render({projectOverviewRef:Object(be.a)(xt,"projectOverview","component"),dashboardMountListener:pi,fixedThumbnailSize:u,formatZplTextArea:$i,projectSidebarWidth:Jt})}function gi(){const{tagFilter:{tags:e,untagged:t}}=oe.b.getState();return t?{untagged:"true"}:{tag:e}}function fi(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||!k.h()||!Ie.classList.contains("hidden")||Tt.isRendered()}function bi(){ki(),Es(),ps()}function yi(e){const{percentageMode:t}=ee.e.getState();if(!fi(e.target)&&!t){if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft)e.preventDefault(),ee.c.openPreviousScreen();else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight)e.preventDefault(),ee.c.openNextScreen();else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(!Et.classList.contains("versionsShown"))return;e.preventDefault(),bi(),(n=Ke.versions.findIndex(function(e){return e._id===Xe._id})-1)>=0&&Dn(Ke,Ke.versions[n],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(!Et.classList.contains("versionsShown"))return;var n;e.preventDefault(),bi(),(n=Ke.versions.findIndex(function(e){return e._id===Xe._id})+1)<Ke.versions.length&&Dn(Ke,Ke.versions[n],{scrollIfNecessary:!0})}else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation(),ee.c.zoomIn();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation(),ee.c.zoomOut();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),ee.c.resetZoom();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),i&&i.screens&&Ke&&hs(Ke._id);break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),oe.a.openJumpToPopup()}e.shiftKey&&(e.altKey||e.ctrlKey||e.metaKey?ee.c.hideFlowLinks():ee.c.showFlowLinks())}}function vi(e){fi(e.target)||(e.shiftKey?!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||ee.c.showFlowLinks():ee.c.hideFlowLinks())}function Si(e){i&&e.altKey&&e.ctrlKey&&e.keyCode===Zeplin.KEY_CODE.KeyT?function(e,t){u=t,mi(),C.b.set(e,"fixedThumbnailSize",t)}(i.id,!u):e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyJ&&(e.preventDefault(),e.stopPropagation(),oe.a.openJumpToPopup())}function Ci(){F.close(),z.close(),tt&&!Je&&rt&&(tt.remove(),nt=null),Je=null,tt=null,Ae.innerHTML="",Ae.scrollTop=0,Ie.classList.add("hidden")}function Ei(){!Ie.classList.contains("hidden")&&Ke&&(ot[Ke._id]=ot[Ke._id]||{},Je?(ot[Ke._id].reply=ot[Ke._id].reply||{},ot[Ke._id].reply[Je._id]=ze.value):ot[Ke._id].comment=ze.value)}function ki(){Ei(),Ci()}function Oi(){if(!Ke)return;const e=function(){const{assetDensityScalePrefs:e,assetNamingConvention:t,showOptimizedSVG:n}=ie.d.getState(),o=nn(),r=xi(),l=r.map(e=>({id:e._id,name:e.name,colors:e.colors,isMember:Ri(e,s),isOrganizationBarrel:S.A(e)})),c=r.map(e=>({id:e._id,name:e.name,textStyles:e.textStyles,isMember:Ri(e,s),isOrganizationBarrel:S.A(e)})),d=r.map(e=>({id:e._id,name:e.name,componentSections:e.componentSections,isMember:Ri(e,s),isOrganizationBarrel:S.A(e)})),u={id:o.id,name:"Local Styleguide",isMember:Ri(o,s),isOrganizationBarrel:S.A(o)},h={projectType:o.type,screenId:Ke._id,screenName:Ke.name},p={assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n,colorsData:[Object.assign({colors:o.colors},u),...l],textStylesData:[Object.assign({textStyles:o.textStyles},u),...c],componentsData:[Object.assign({componentSections:o.componentSections},u),...d],projectType:o.type,densityWarningHidden:vt.get("hideDensityMismatchWarning"),formatter:new he.a(o)};Qt&&Object.assign(p,{assetExportTarget:{name:Qt.projectName,type:Qt.projectFolderType,path:Qt.projectFolder,pathParts:Qt.projectFolderPathParts}});const{selectedLayer:m,layoutGridEnabled:g}=ee.e.getState();if(m){let e;m.exportable&&Array.isArray(Xe.snapshot.assets)&&(e=Xe.snapshot.assets.find(e=>e.layerId?e.layerId===m.sourceId:e.layerName===m.name));const t=Kt(Xe.snapshot,m,p.componentsData);Object.assign(h,{layerDetails:Object.assign({},p,{layer:new _.a(Object.assign({},m,{asset:e,component:t})),layerContainer:Ke,version:Xe,flowLink:function(e){if(!Xe.snapshot.links)return;const t=Xe.snapshot.links.find(t=>S.K(t.rect,e));if(!t)return;let n,s,a;switch(t.destination.type){case"previous":s="previous screen";break;case"screen":s=t.destination.name,(n=i.findScreenByName(t.destination.name))&&(a=S.P("project-screen",{url:{pid:i.id,sid:n._id}}));break;default:return}return{name:s,url:a}}(m.absoluteRect),bitmapInfoHidden:vt.get("hideNoVectorAssetInfo"),flowInfoHidden:vt.get("flowLinkInfoDismissed")})})}const f=o.id,b=Ke._id;return Object.assign(h,{resources:Object.assign({},p,{restricted:"pawn"===s.role&&a&&a.transitionFinished,layoutGridVisible:g,descriptionFormatter:$i,commentFormatter:Gi,showNoResourceInfo:!Xt&&"pawn"===s.role&&a&&a.transitionFinished,sourceFileInfoHidden:vt.get("hideSourceFileInfo"),screen:Object.assign({},Ke,{appUri:`${V.E}//screen?pid=${f}&sid=${b}`,tags:(Ke.tags||[]).map(e=>({link:S.P("project-dashboard",{url:{pid:f},query:{tag:[e]}}),name:e}))}),currentVersion:Xe,notesFilter:{status:bt,color:yt},isScreenSnapshotLoading:At})}),h}();wt.render(e)}function Di(e,t){if(e&&i.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var n="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;n?n!==tt?(qn(),Ci(),n.classList.remove("hover"),tt=n,Nn(Ie),function(e){e.classList.remove("open","resolved")}(Ie),Ie.classList.remove("left","right"),Ie.classList.add(Bt[new T.a(zt[tt.dataset.color]).hexBase()],tt.dataset.position),Ie.classList.toggle("canRemoveNotes",S.H.canRemoveNotes(s)),Be.innerHTML="&nbsp;",ze.value="",Ne.classList.remove("hidden"),"undefined"===tt.dataset.id?(Ie.classList.add("open"),Ie.dataset.id="undefined",Ne.classList.add("composing"),ot[Ke._id]&&ot[Ke._id].comment&&(Be.innerHTML=S.j(ot[Ke._id].comment)+"&nbsp;",ze.value=ot[Ke._id].comment),setTimeout(function(){ze.focus(),ze.setSelectionRange(ze.value.length,ze.value.length)},4)):(Je=Ke.dots.find(function(e){return e._id===tt.dataset.id}),Ie.classList.add(Je.status),tt.classList.remove("highlight"),Je.comments.forEach(function(e){Ki(e,Ke._id,Je._id)}),Zt(t),Ie.dataset.id=Je._id,ot[Ke._id]&&ot[Ke._id].reply&&ot[Ke._id].reply[Je._id]?(Ne.classList.add("composing"),Be.innerHTML=S.j(ot[Ke._id].reply[Je._id])+"&nbsp;",ze.value=ot[Ke._id].reply[Je._id],setTimeout(function(){ze.focus(),ze.setSelectionRange(ze.value.length,ze.value.length)},4)):(Zi(),Ne.classList.remove("composing"))),"undefined"!==tt.dataset.id?setTimeout(function(){!function(e){var n=document.querySelector(".screenViewContainer section.screenView");if(Object(_e.j)(e,n))Fi();else{var i=e.getBoundingClientRect(),s=n.scrollLeft,a=n.scrollTop;i.left<0?s=n.scrollLeft+i.left-60:i.right>n.offsetWidth&&(s=i.right-n.offsetWidth+60),i.top<92?a=n.scrollTop+i.top-60-Mi-60:i.bottom>window.innerHeight&&(a=n.scrollTop+(i.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(n.scrollTo({left:s,top:a,behavior:"smooth"}),setTimeout(function(){Fi()},450)):(n.scrollLeft=s,n.scrollTop=a,Fi())}t?Zt(t):Ae.lastElementChild.scrollIntoView()}(tt)},200):Fi()):Zt(t):y.a({message:"Note not available anymore."})}}function wi(e,t){switch(e){case"noResourceInfoDismissed":!function(e){Xt=e,C.b.set(Ze.pid,"noResourceInfoDismissed",e),Oi()}(t);break;case"projectInfoWidth":!function(e){Jt=e,C.b.set(Ze.pid,"projectInfoWidth",e)}(t)}}window.addEventListener("blur",ee.c.hideFlowLinks),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)bi();else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:Object(ce.g)()&&!dt&&(e.preventDefault(),e.stopPropagation(),cn(i.id,gi()));break;case Zeplin.KEY_CODE.KeyA:e.preventDefault(),e.stopPropagation(),cn(i.id,gi());break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),$e.classList.contains("collapsed")?Bn():Fn();break;case Zeplin.KEY_CODE.KeyS:e.preventDefault(),e.stopPropagation(),dn(i.id);break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),ee.c.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),X.a.reloadLocalExtensions())}}),document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||at||bi(),at=!1}),te.c.register(e=>{e.type===te.a.SET_PREF&&function(e,t){switch(vt.set(e,t),Oi(),e){case"hideNoVectorAssetInfo":case"hideDensityMismatchWarning":mi()}}(e.name,e.value)});const ji={},Ti={generateTagShortLink(e){if(ji[e])return;const t=S.O(e),n=S.P("project-dashboard",{url:{pid:i.id},query:{tag:[t]}});le.generateShortlink(n).then(t=>{ji[e]=t})},copyWebLink(e){const t=S.O(e),n=S.P("project-dashboard",{url:{pid:i.id},query:{tag:[t]}});Object(_e.c)({content:ji[e]||n,toastContainer:document.querySelector(".dashboardContainer")})},copyAppURI(e){const t=S.O(e);Object(_e.c)({content:`${V.E}//project?pid=${i.id}&tag=${encodeURI(t)}`,toastContainer:document.querySelector(".dashboardContainer")})},downloadScreenImages(e){const t=S.O(e);ys(function(e){return i.screens.filter(si(e)).map(function(e){return e._id})}(t),t+".zip")},convertToSection(e){ui(S.O(e))},delete(e){bs(S.O(e))}};Q.c.register(e=>{let t=!1,n=!1;switch(e.type){case Q.a.OPEN_SCREEN:!function(e){i.findScreen(e)?un(i.id,e):oe.a.changeTagFilter({tags:[],untagged:!1})}(e.sid);break;case Q.a.OPEN_SCREEN_FROM_COMPONENT:!function(e,t,n){setTimeout(ii,4,e,t,n)}(e.screenId,e.componentURL,e.componentName);break;case Q.a.OPEN_COMPONENT_FROM_LAYER:setTimeout(t=>{!function(e,t,n,i){const s=nn(),a=xi(),o=[{componentSections:s.componentSections},...a.map(({componentSections:e})=>({componentSections:e}))],{component:r}=Object(ke.a)(o,e);pn(),ae.a.changeSelection({selectionComponentId:e,selection:r}),mixpanel.master.track("Navigated to component from screen",{Source:i})}(e.componentId,e.screenURL,e.screenName,e.source)},4);break;case Q.a.SET_PREF:n=!(t=!!Ke),wi(e.name,e.value);break;case Q.a.OPEN_LINK:qt(e.url,e.options);break;case Q.a.RENAME_SECTION:!function(e,t){const n=i.findSection(e);if(!n)return;const s=n.name;n.name=t,mi(),hi(e,{name:t}).catch(function(e){n.name=s,mi(),E.b(e,{dialogCallback(){xt.component.projectOverview.highlightSectionName(n._id)}})})}(e.id,e.name);break;case Q.a.CHANGE_SECTION_DESCRIPTION:!function(e,t){const n=i.findSection(e);if(!n)return;const s=n.description;n.description=t,mi(),hi(e,{description:t}).catch(function(e){n.description=s,mi(),E.b(e,{dialogCallback(){xt.component.projectOverview.highlightSectionDescription(n._id)}})})}(e.id,e.description);break;case Q.a.COPY_SECTION_WEB_LINK:Object(_e.c)({content:S.P("project",{url:{bid:i.id},query:{seid:e.id}}),toastContainer:document.querySelector(".dashboardContainer")});break;case Q.a.COPY_SECTION_APP_URI:Object(_e.c)({content:`${V.E}//project?pid=${i.id}&seid=${e.id}`,toastContainer:document.querySelector(".dashboardContainer")});break;case Q.a.DOWNLOAD_SECTION_SCREEN_IMAGES:{const t=i.findSection(e.id);if(!t)break;ys(t.screens,`${t.name}.zip`);break}case Q.a.OPEN_SECTION_MOVE_DIALOG:!function(e,t){const n=i.findSection(e),s=W.default.h(G.a,{top:t.top,left:t.left,densityScale:i.densityScale,projectType:i.type,projectsLoader:ri,onOpen(){const e=document.querySelector(".projectOverview");e&&e.classList.add("noScroll")},onMove(e,t,i,s,a){ci(n,e,t,i,a,(e,t)=>{mixpanel.webapp.track("Moved section to project"),location.assign(S.P("project",{url:{bid:e},query:{seid:t}}))})},onClose(){const e=document.querySelector(".projectOverview");e&&e.classList.add("noScroll")}});W.default.render(s,document.body)}(e.id,e.position);break;case Q.a.SECTION_DELETE:oi(e.id,e.sectionIndex);break;case Q.a.RENAME_SCREEN:!function(e,t){const n=i.findScreen(e);if(!n)return;const s=n.name;n.name=t,mi(),le.renameScreen(i.id,e,{name:t}).catch(function(t){n.name=s,mi(),E.b(t,{dialogCallback(){xt.component.projectOverview.highlightScreenName(e)}})})}(e.id,e.name);break;case Q.a.OPEN_MANAGE_TAGS_POPUP:hs(e.id);break;case Q.a.SET_SCREEN_AS_PROJECT_THUMBNAIL:rs(e.id);break;case Q.a.DOWNLOAD_SCREEN_IMAGE:!function(e){if(Object(_e.b)())ls(e).then(({name:e,blob:t})=>{Object(Se.e)({data:URL.createObjectURL(t),name:e})});else{let t=us(e).versions[0].snapshot.url;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=V.d+e}qt(t)}}(e.id);break;case Q.a.COPY_SCREEN_WEB_LINK:{const t=i.findScreen(e.id),n=t.webUrl||S.P("project-screen",{url:{pid:i.id,sid:t._id}});Object(_e.c)({content:n,toastContainer:document.querySelector(".dashboardContainer")});break}case Q.a.COPY_SCREEN_APP_URI:Object(_e.c)({content:`${V.E}//screen?pid=${i.id}&sid=${e.id}`,toastContainer:document.querySelector(".dashboardContainer")});break;case Q.a.OPEN_MOVE_SCREEN_DIALOG:!function(e,t){const n=W.default.h(G.a,{top:t.top,left:t.left,densityScale:i.densityScale,projectType:i.type,projectsLoader:ri,onOpen(){const e=document.querySelector(".projectOverview");e&&e.classList.add("noScroll")},onMove(t,n,s,a,o){!function(e,t,n,s,a,o,r){var l=i.densityScale;function c({_id:t,pid:n=t,densityScale:s}){return(s?Promise.resolve():le.updateProjectDensityScale(n,l)).then(function(){return le.moveScreen(i.id,n,[e])})}var d="create"===t.type?"a new project":'"'+t.name+'"';y.a({message:'Move selected screen from "'+i.name+'" to '+d+"?",done:{name:"MOVE",cb(){let e,o;switch(s(n),t.type){case"create":e=le.createProject({oid:t.oid,platform:i.type,densityScale:l}),o=li;break;case"project":e=Promise.resolve(t),o=function(e){!function(e,t){E.b(e,{clientErrorHandler:{402:function(){y.a({title:"Can't move screens to "+t+"",message:e.message})},default:E.b}})}(e,t.name)}}e.then(c).then(r).catch(o).then(a,a)}},cancel:{name:"KEEP",cb(){o&&o()}}})}(e,t,n,s,a,o,function(){mixpanel.webapp.track("Moved screens to project");var t=i.findScreenSection(e);i.removeScreen(t._id,e),mi()})},onClose(){const e=document.querySelector(".projectOverview");e&&e.classList.remove("noScroll")}});W.default.render(n,document.body)}(e.id,e.position);break;case Q.a.DELETE_SCREEN:if(!i.findScreen(e.id))break;cs(e.id);break;case Q.a.UPDATE_SECTION_ORDER:{const{id:t,sourceIndex:n,moveIndex:s}=e;!function(e,t,n){if(e)i.updateSectionOrder(e,t),mi(),le.updateSectionOrder(i.id,{sections:[{_id:e,to:parseInt(t,10)}]}).catch(function(t){i.updateSectionOrder(e,n),mi(),E.b(t)})}(t,s,n);break}case Q.a.UPDATE_SCREEN_ORDER:!function({id:e,sourceIndex:t,sourceSectionIndex:n,targetIndex:s,targetSectionIndex:a}){const o=i.sections[n]._id,r=i.sections[a]._id;if(n===a){const n=[{_id:e,to:s}];return i.updateScreenOrder(r,e,s),mi(),void le.updateScreensOrder(i.id,r,n).catch(n=>{E.b(n),i.updateScreenOrder(r,e,t),mi()})}i.addScreensToSection(r,[e],s),mi(),le.updateSectionScreens(i.id,r,s,[e]).catch(n=>{E.b(n),i.addScreensToSection(o,[e],t),mi()})}(e);break;case Q.a.SPLIT_SECTION:!function(e){const t=i.findScreenSection(e),n=t.screens.indexOf(e),s=JSON.parse(JSON.stringify(i.sections)),a=i.splitSection(t._id,n,"Untitled section");a.new=!0,a.key=`newSection-${_i++}`,a._id="newSection",mi();const o=i.sections.findIndex(e=>e._id===t._id)+1;xt.component.projectOverview.highlightSectionName(a._id),le.createSection(i.id,{name:a.name,screens:a.screens,index:o}).then(e=>{a._id=e._id}).catch(e=>{i.sections=s,E.b(e)}).finally(mi)}(e.nextScreenId);break;case Q.a.GENERATE_TAG_SHORT_LINK:Ti.generateTagShortLink(e.tag);break;case Q.a.COPY_TAG_WEB_LINK:Ti.copyWebLink(e.tag);break;case Q.a.COPY_TAG_APP_URI:Ti.copyAppURI(e.tag);break;case Q.a.DOWNLOAD_SCREEN_IMAGES_FROM_TAG:Ti.downloadScreenImages(e.tag);break;case Q.a.CONVERT_TAG_TO_SECTION:Ti.convertToSection(e.tag);break;case Q.a.DELETE_TAG:Ti.delete(e.tag);break;case Q.a.SHOW_TOAST:Object(je.a)(Object.assign({},e.params,{container:document.querySelector(".dashboardContainer")}));break;default:return}t&&Oi(),n&&mi()});let _i=0;function xi(){const e=nn();if(!e.styleguideLink)return[];const{styleguides:t}=ve.c.getState(),n=t[Nt(e)]||{};return function(e){const{styleguide:t,status:n}=e;if("active"!==n)return[];const i=[...t.ancestors].reverse();return[t._id,...i]}(e.styleguideLink).map(e=>n[e]).filter(Boolean)}function Ri(e,t){return e.users.some(e=>e.user._id===t.user._id)}function Ii(e,t,n=!0){const i=e.extensions.find(e=>e._id===t);if(i||X.a.addExtension(e._id,"project",t),!n)return;if(i)return void ie.b.openExtensionSettings({extensionId:t});const s=X.b.addListener(e=>{X.b.getState().extensions.find(e=>e.id===t)&&(ie.b.openExtensionSettings({extensionId:t}),s.remove())})}function Pi(e,t,n=!0){if(!e||!["open","resolved","mentioned"].includes(e))return;const i=document.querySelector(".dot.menuOpen"),s=Je||i&&Ke.dots.find(function(e){return e._id===i.dataset.id});s&&!function(e,t,n){return(!n||Bt[new T.a(e.color).hexBase()]===n)&&("mentioned"===t?Object(pe.c)(e,Zeplin.user):t===(e.status||"open"))}(s,e,t)&&ki(),n&&(function(e){bt=e,C.b.set(Ze.pid,"dotListingsStatusFilter",e)}(e),function(e){yt=e,C.b.set(Ze.pid,"dotListingsColorFilter",e)}(t))}ee.d.register(e=>{let t=!1;switch(e.type){case ee.b.OPEN_PREVIOUS_SCREEN:if(bi(),Ye-1>=0){Ye--;const e=Mt();un(i.id,e[Ye]._id)}break;case ee.b.OPEN_NEXT_SCREEN:{bi();const e=Mt();Ye>=0&&Ye+1<e.length&&(Ye++,un(i.id,e[Ye]._id));break}case ee.b.SELECT_LAYER:ki();break;case ee.b.COPY_LAYER_CODE:!function(e,t){Object(_e.c)({content:e,toastContainer:wt.domNode}),mixpanel.webapp.track("Copied extension snippet",{from:"layer",extension:t}),le.createIntercomUserTag(S.r(i.type))}(e.code,e.extensionId);break;case ee.b.COPY_LAYER_CONTENT:Object(_e.c)({content:e.content,toastContainer:wt.domNode});break;case ee.b.COPY_SCREEN_LINK:Object(_e.c)({content:e.link,toastContainer:wt.domNode});break;case ee.b.UPDATE_SCREEN:!function(e,t){const n=i.findScreen(e);if(!n)return;const s=Object.keys(t).reduce((e,t)=>Object.assign(e,{[t]:n[t]}));Object.assign(n,t),Oi(),le.updateScreen(i.id,e,t).catch(e=>{Object.assign(n,s),Oi(),E.b(e)})}(e.sid,e.data);break;case ee.b.OPEN_MANAGE_TAGS:hs(e.sid);break;case ee.b.OPEN_SOURCE_FILE:wn("file",e.path);break;case ee.b.OPEN_SOURCE_FOLDER:wn("folder",e.path);break;case ee.b.SELECT_DOT:Ei(),Di(e.dotId,e.commentId);break;case ee.b.CLOSE_DOT_POPUP:Ci();break;case ee.b.CHANGE_DOT_FILTER:Pi(e.status,e.color),t=!0;break;case ee.b.COPY_SCREEN_CODE:!function(e,t){Object(_e.c)({content:e,toastContainer:wt.domNode}),mixpanel.webapp.track("Copied extension snippet",{from:"screen",extension:t}),le.createIntercomUserTag(S.r(i.type))}(e.code,e.extensionId);break;case ee.b.OPEN_DOT_MENU:Es(),ki();break;case ee.b.CREATE_NOTE:!function(e,t){Pi("open",null,!0),qn(),Oi(),Ei(),Ci();const n=document.querySelector(".dots").getBoundingClientRect(),i=Ke.dots&&Ke.dots.length?""+(parseInt(Ke.dots[Ke.dots.length-1].name,10)+1):"1";Je=null,C.b.get(Ze.pid,"lastNoteColorUsed").then(function(s){Di(function(e){const t=document.createElement("div"),n=Bt[new T.a(e.color).hexBase()];return t.classList.add("dot",n,e.status||"open"),t.classList.toggle("mentioned",Object(pe.c)(e,Zeplin.user)),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",document.querySelector(".dots").appendChild(t),document.querySelector(".dots").lastElementChild}(nt={name:i,x:Math.max(0,Math.min((e-n.left)/n.width,1)),y:Math.max(0,Math.min((t-n.top)/n.height,1)),color:zt[s]}))})}(e.x,e.y);break;case ee.b.SHOW_VERSIONS:Bn();break;case ee.b.CLOSE_LAYER_VIEW:Ci();break;case ee.b.FOLLOW_FLOW_LINK:!function(e,t){"previous"===e?ln(null,{navigationOperation:"pop"}):"screen"===e&&ln(t,{navigationOperation:"replace",flowNavigation:!0})}(e.destinationType,e.flowTo);break;case ee.b.UPDATE_DOT_STATUS:!function(e,t){var n=Ke.dots.find(function(t){return t._id===e}),s=n.status;n.status=t,Ie.dataset.id===e&&Ci();Oi(),le.updateDotStatus(i.id,Ke._id,e,{status:t}).then(()=>{mixpanel.webapp.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=s,An(),Oi(),E.b(e)})}(e.id,e.status);break;case ee.b.COMMIT_DOT_POSITION:!function(e,t,n){const s=Ke.dots.find(t=>t._id===e),a={x:t,y:n},o={x:s.x,y:s.y};s.x=t,s.y=n,le.updateDotPosition(i.id,Ke._id,e,a).catch(e=>{s.x=o.x,s.y=o.y,An(),E.b(e)})}(e.id,e.x,e.y);break;case ee.b.COPY_DOT_LINK:Object(_e.c)({content:S.P("project-screen",{url:{pid:i.id,sid:Ke._id},query:{did:e.id}}),toastContainer:document.querySelector(".screenView")});break;case ee.b.DELETE_DOT:!function(e){const t=Ke.dots.find(t=>t._id===e);var n;n=t.creator?t.creator._id===Zeplin.user._id?"Delete your note?":`Delete ${t.creator.username}'s note?`:"Delete Anonymous's note?";y.a({title:n,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){!function(e,t){le.deleteDot(i.id,e._id,t).then(function(){ss(e,t),Oi(),mixpanel.webapp.track("Deleted dot")}).catch(function(e){An(),E.b(e)})}(Ke,e)}},cancel:{name:"CANCEL"}})}(e.id);break;case ee.b.POPOUT:Ft()}t&&Oi()}),J.c.register(e=>{switch(e.type){case J.a.REQUEST_INVITE:Zn(a._id,wt.domNode)}});const Li=6,Ai=13,Ni=26,Mi=29;function Ui(e){var t=e.getBoundingClientRect(),n=Ie.getBoundingClientRect(),i=Li,s=Li,a=Mi,o=!1,r=document.querySelector(".screenViewContainer section.screenView");t.right<=0?(o=!0,i=Li):t.left>=r.offsetWidth?(o=!0,i=r.offsetWidth-Li-n.width):t.left<=n.width+Li+Ai?(Ie.classList.remove("left"),Ie.classList.add("right"),i=t.right+Ai):t.right+Ai+n.width+Li>=r.offsetWidth?(Ie.classList.remove("right"),Ie.classList.add("left"),i=t.left-Ai-n.width):(Ie.classList.remove("left","right"),Ie.classList.add(e.dataset.position),i="left"===e.dataset.position?t.left-Ai-n.width:t.right+Ai),t.top<=r.offsetTop+Ni+Li?(o=!0,s=r.offsetTop+Li):t.bottom>=window.innerHeight-Ni?(o=!0,s=window.innerHeight-n.height-Li):t.top>=window.innerHeight-n.height+Ni-Li?(s=window.innerHeight-n.height-Li,a=t.top-s+Li):t.top+n.height-Mi>window.innerHeight?(o=!0,s=window.innerHeight-n.height-Li):s=t.top-Ni,Ie.classList.toggle("overflown",o),Ie.style.transform="translate("+i.toFixed()+"px, "+s.toFixed()+"px)",Pe.style.top=a+"px"}var Bi=!1;function zi(){tt&&!Bi&&(requestAnimationFrame(function(){Ui(tt),Bi=!1}),Bi=!0)}function Fi(){Ie.classList.remove("hidden"),Ui(tt),qn()}function Hi(e){const t=function(e){var t=(e=new URL(e)).origin===location.origin,n=e.protocol===V.E;if(t||n){var i={query:{}};if(e.hash||n){var s=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace(/&amp;/g,"&").substring(1),a=S.G(s);if(!("pid"in a))return;return i.url={pid:a.pid[0]},"sid"in a?(i.url.sid=a.sid[0],"vid"in a&&(i.url.vid=a.vid[0])):t&&"styleguide"in a||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?i.subpage="styleguide":i.subpage="dashboard",i}var o=Gt(e.pathname);if(o){Object.assign(i,{url:o});var r=e.pathname.match(/\/(dashboard|styleguide)$/);if(r&&(i.subpage=r[1]),e.search){var l=S.G(e.search.replace(/&amp;/g,"&"));Object.assign(i,{query:l})}return i}}}(e);if(!(t&&"pid"in t.url&&t.url.pid===i.id))return;let n="project-dashboard",s="Dashboard",a=["link"];if("sid"in t.url){n="vid"in t.url?"project-screen-version":"project-screen";const e=i.screens.find(function(e){return e._id===t.url.sid}),o=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)s=`Notes on ${o}`;else{const n=e.dots&&e.dots.find(function(e){return e._id===t.query.did[0]}),i=`Note${n?` #${n.name}`:""}`;s="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${o}`:`${i}, ${o}`}else a.push("screenLink"),s=o}return"subpage"in t&&"styleguide"===t.subpage&&(n="project-styleguide",s="Styleguide",delete t.subpage),{anchorText:s,classList:a,url:S.P(n,t)}}function qi(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=i.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=i.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})}function Vi(e){return e.replace(o,function(e){return'<span class="user'+(it.test(e)?" self":"")+'">'+e+"</span>"})}function Wi(e,t){var n=[],i=new P.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:function(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=Hi(t.getUrl());if(n){const{anchorText:t,classList:i,url:s}=n;return e.push(`<a href="${s}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}(n)});return(t=t||[]).reduce(function(e,t){return t(e)},i.link(S.j(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function $i(e){return Wi(e,[z.formatEmojiString,S.M])}function Gi(e){return Wi(e,[qi,Vi,z.formatEmojiString,S.M])}function Zi(){Ue.textContent=Ae.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}var Yi=document.getElementById("commentTemplate");function Ki(e,t,n){delete e.status;var i=document.importNode(Yi.content,!0);Xi(i.querySelector(".comment"),e,t,n),Ae.appendChild(i);var s=Ae.lastElementChild,a=s.querySelector(".commentNote"),o=s.querySelector(".commentMirror");return a.addEventListener("input",function(){ns(a,o,s)}),a.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:ns(a,o,s)}}),s}function Xi(e,t,n,s){Object(_e.m)(e.querySelector(".commentAuthorImage"),t.author),e.querySelector(".commentAuthorName").textContent=t.author?t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);var a=new Date(t.created),o=new Date(t.updated);e.querySelector(".commentLink").href=S.P("project-screen",{url:{pid:i.id,sid:n},query:{did:s,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",a);var r=e.querySelector(".commentMirror");r.innerHTML=Gi(t.note),r.classList.toggle("jumboEmojis",Pn(r,t.note)),e.querySelector(".commentEdited").setAttribute("datetime",o-a>3e5?o:"")}function Ji(e,t,n){var s=z.formatEmojiString(ze.value.trim(),!0);if(z.close(),F.close(),s){var a=e._id,o=t._id,r=Ki({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:s,created:Date.now(),updated:Date.now()},a,o);Ui(document.querySelector(".dot[data-id='"+o+"']")),r.classList.add("loading"),Object(_e.k)(r),Zi(),Ne.classList.remove("composing"),le.createComment(i.id,a,o,{note:s}).then(function(e){t.comments.push(e),Oi(),Be.innerHTML="&nbsp;",ze.value="",r.dataset.id=e._id,r.classList.remove("loading"),n?mixpanel.webapp.track("Created comment with reaction",{reaction:s}):mixpanel.webapp.track("Created comment")}).catch(function(e){r.remove(),Ne.classList.add("composing"),ze.focus(),E.b(e)})}}function Qi(e,t,n,s){var a=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),r=z.formatEmojiString(o.value.trim(),!0);if(z.close(),F.close(),r&&(a.innerHTML=Gi(r),a.classList.toggle("jumboEmojis",Pn(a,r)),e.classList.remove("editing"),Ne.classList.remove("hidden"),Ui(tt),s.note!==r)){var l=t._id,c=n._id,d=e.dataset.id;e.classList.add("loading"),le.editComment(i.id,l,c,d,{note:r}).then(function(){s.note=r,Oi(),Xi(e,s,l,c),e.classList.remove("loading"),mixpanel.webapp.track("Edited comment")}).catch(function(t){e.classList.remove("loading","jumboEmojis"),e.classList.add("editing"),Ne.classList.add("hidden"),o.focus(),E.b(t)})}}Ie.addEventListener("click",function(e){if(e.stopPropagation(),"A"!==e.target.tagName){var t=Ke.dots.find(function(e){return e._id===Ie.dataset.id});if(e.target.classList.contains("dotResolveButton"))ee.c.updateDotStatus(Ie.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))ee.c.updateDotStatus(Ie.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var n=Ie.querySelector(".comment.editing");if(n){var s=n.querySelector(".commentMirror");s.innerHTML=Gi(Qe.note),s.classList.toggle("jumboEmojis",Pn(s,Qe.note)),n.classList.remove("editing")}F.close(),z.close(),Ne.classList.add("hidden"),Ne.classList.remove("composing"),Be.innerHTML="&nbsp;",ze.value="";var a=(d=e.target.closest(".comment")).querySelector(".commentMirror"),o=d.querySelector(".commentNote"),r=d.dataset.id;Qe=t.comments.find(function(e){return e._id===r}),a.innerHTML=S.j(Qe.note)+"&nbsp",a.classList.remove("jumboEmojis"),o.value=Qe.note,d.classList.add("editing"),o.setSelectionRange(Qe.note.length,Qe.note.length),o.focus(),Ui(tt)}else if(e.target.classList.contains("commentDeleteButton")){r=(d=e.target.closest(".comment")).dataset.id;var l,c=t.comments.find(function(e){return e._id===r});l=c.author?c.author._id===Zeplin.user._id?"Delete your comment?":"Delete "+c.author.username+"'s comment?":"Delete Anonymous's comment?",y.a({title:l,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){!function(e,t,n){var s=t._id,a=n._id,o=e.dataset.id;1===n.comments.length?(ss(t,a),Ci(),An()):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),le.deleteComment(i.id,s,a,o).then(function(){1===n.comments.length?(Je=null,tt=null,Ae.innerHTML="",Ae.scrollTop=0):(as(n,o),e.remove(),Zi(),Ui(tt)),Oi(),mixpanel.webapp.track("Deleted comment")}).catch(function(i){1===n.comments.length?(t.dots.push(n),An(null,{did:a})):e.removeAttribute("style"),E.b(i)})}(d,Ke,t)}},cancel:{name:"CANCEL",cb:function(){Ci()}}})}else if(e.target.classList.contains("commentDoneButton")){var d;Qi(d=e.target.closest(".comment"),Ke,t,Qe)}}}),Ie.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=Ke.dots.find(function(e){return e._id===Ie.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Qi(t,Ke,n,Qe);break;case Zeplin.KEY_CODE.ESC:F.close(),z.close(),t.classList.remove("editing"),Ne.classList.remove("hidden");var i=t.querySelector(".commentMirror");i.innerHTML=Gi(Qe.note),i.classList.toggle("jumboEmojis",Pn(i,Qe.note)),e.target.blur(),Ui(tt)}}});var es,ts={positive:"",neutral:"",negative:""};function ns(e,t,n){if(t.innerHTML=S.j(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var s=Object(Ce.b)(e.value.substring(0,e.selectionStart),!0),a=e.value.charAt(s);if("@"===a){var o=F.manageSuggestedUsers(e,t,i);o&&is(o,n,F)}else if(":"===a){var r=z.manageSuggestedEmojis(e,t);r&&is(r,n,z)}else F.close(),z.close()}}function is(e,t,n){e.style.top="",e.style.left="",e.style.bottom="",e.style.right="",t.appendChild(e),n.open(),e.getBoundingClientRect().bottom+12>=window.innerHeight?(e.style.bottom=Ie.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=t.getBoundingClientRect().top-Ie.getBoundingClientRect().top+t.offsetHeight+"px",e.style.bottom="")}function ss(e,t){return S.b(e.dots,function(e){return e._id===t})}function as(e,t){return S.b(e.comments,function(e){return e._id===t})}function os(e){window.Notification&&"granted"===Notification.permission&&C.d.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+M()(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function rs(e){const t=i.findScreen(e);if(!t)return;const{versions:[{snapshot:{url:n}}]}=t,s=i.thubmnail;return i.thumbnail=n,mi(),le.updateProjectThumbnail(i.id,{thumbnail:n}).catch(e=>{i.thumbnail=s,mi(),E.b(e)})}function ls(e){const t=us(e);return fetch(t.versions[0].snapshot.url).then(e=>e.arrayBuffer()).then(e=>{const n=new Blob([e],{type:Ut.png});return{name:`${t.name}.png`,blob:n}})}function cs(e){const t=i.findScreen(e),n=i.findScreenSection(e),s=n.screens.indexOf(e);return i.removeScreen(n._id,e),mi(),le.deleteScreen(i.id,e).catch(function(a){i.addScreen(t),i.addScreensToSection(n._id,[e],s),mi(),E.b(a)})}function ds(e,t){const n=us(h);Tt.render({tagList:t||[],otherTagsInTheProject:t&&t.length?e.filter(e=>!t.includes(e)):e,onClose:ps,onAddTag:e=>fs(n,e,"add"),onRemoveTag:e=>fs(n,e,"remove")})}function us(e){if(i.screens)return i.screens.find(function(t){return t._id===e})}function hs(e){ki(),Es(),h=e,ds(i.tags,us(h).tags)}function ps(){Tt.remove()}function ms(){Ke&&Oi(),mi(),Tt.isRendered()&&ds(i.tags,us(h).tags)}function gs(e){S.H.canManageScreens(s)&&le.updateTags(i.id,{screens:e}).catch(function(t){E.b(t),e.forEach(function(e){var t=us(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags),ti()}),ms()})}function fs(e,t,n){S.H.canManageScreens(s)&&(gs([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),ti(),ms())}function bs(e){S.H.canManageScreens(s)&&(gs(i.deleteTag(e)),ms())}function ys(e,t){var n=new A.a,i=e.map(ls),s=[];Promise.all(i).then(function(e){if(1===e.length){var i=e[0];return t=i.name,i.blob}return e.forEach(function(e){var t=e.name,i=e.blob;if(s[t]>0){var a=s[t];s[t]++,t=t.replace(/(.*)\.(.*$)/,"$1 ("+a+").$2")}else s[t]=1;n.file(t,i)}),n.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:t}}).then(Se.e)}function vs(e,t,n,i){var s=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>s/2))return;t.classList.remove("collapsed"),i&&i(t)}t.style.width=e+"px",e<s?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<s/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}function Ss(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=S.j(e.innerText.trim()),n=z.formatEmojiString(t);e.outerHTML=n})}function Cs(){var e=document.querySelector(".moveToProjectPopup");e&&W.default.render(null,e.parentElement,e)}function Es(){!function(){var e=document.querySelector(".dots .contextMenu.autoPosition"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}(),function(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}(),Cs(),F.close(),z.close()}function ks(e){i.screens.find(function(t){return t._id===e.body._id})||(e.body.dots=e.body.dots||[],e.body.tags=e.body.tags||[],e.body.versions=[e.body.latestVersion],delete e.body.latestVersion,delete e.body.versions[0].snapshot.layers,i.addScreen(e.body),mi())}function Os(e){var t=i.screens.find(function(t){return t._id===e.params.sid});if(t&&!t.versions.find(function(t){return t._id===e.body._id})){var n=t.versions[0]._id,s=i.addVersion(e.params.sid,e.body),a=t.versions[0];mi(),Ke===t&&(ee.c.deselectLayer(),(Xe._id===n||s&&s._id===Xe._id)&&(Dn(t,a),s&&s._id===Xe._id&&Object(je.a)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"createScreenVersion"})),Et.classList.contains("versionsShown")?(Un(t),C.b.set(i.id,t._id,"versionsLastSeen",new Date(a.created))):Qn(t))}}function Ds(...e){const{body:{integration:t}}=e[e.length-1],n=t.slacks.filter(e=>!i.integration.slacks.find(t=>t._id===e._id));n.length&&(n.forEach(e=>{ie.b.addIntegration({intype:"slacks",integration:e})}),S.H.canUpdateProject(s)&&re.a.init())}function ws(...e){const t=e[e.length-1];ie.b.addComponent({csids:t.params.csid.split("/"),component:t.body})}function js(...e){const t=e[e.length-1];ie.b.addComponentVersion({csids:t.params.csid.split("/"),coid:t.params.coid,componentVersion:t.body})}function Ts({params:{uid:e},body:t}){ie.b.updateUserData({uid:e,userData:t}),function(){if(tt){var e=tt;Ci(),Di(e)}}(),Ke&&(Oi(),Un(Ke))}function _s(e){return e&&S.R(e,"project")?i&&i.id===e?Promise.resolve(i):(Cs(),ft.length&&(ft.forEach(e=>e.remove()),ft=[]),ie.b.reset(),mi(),vn(e)):(y.a({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void rn())}Me.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(Ie.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return Ne.classList.add("composing"),void ze.focus();var n=e.target.closest(".newCommentReaction"),i=Ke.dots.find(function(e){return e._id===Ie.dataset.id}),s=i.comments[i.comments.length-1];if(!s.author||s.author._id!==Zeplin.user._id||s.note!==ts[n.dataset.reaction]){var a=ze.value;ze.value=ts[n.dataset.reaction],Ji(Ke,i,!0),ze.value=a}}}),ze.addEventListener("input",function(){ns(ze,Be,He)}),document.body.classList.contains("safari")&&(ze.addEventListener("beforeinput",function(e){var t=e.data||"";ze.value.length+t.length>ze.maxLength&&e.preventDefault()}),Ie.addEventListener("beforeinput",function(e){var t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),ze.addEventListener("click",function(e){e.stopPropagation(),ns(ze,Be,He)}),Fe.addEventListener("click",function(){Je?Ji(Ke,Je):Mn(Ke,tt)}),ze.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:ns(ze,Be,He)}}),ze.addEventListener("keydown",function(e){if(e.stopPropagation(),qe.classList.contains("hidden")&&Ve.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(Je?Ji(Ke,Je):Mn(Ke,tt));break;case Zeplin.KEY_CODE.ESC:ot[Ke._id]&&(Je?ot[Ke._id].reply&&(ot[Ke._id].reply[Je._id]=null):ot[Ke._id].comment=null),Ne.classList.remove("composing"),Be.innerHTML="&nbsp;",ze.value="",Je||Ci()}}),Ae.addEventListener("mouseover",function(e){e.target!==Ae&&e.target.closest(".comment").classList.remove("highlight")}),window.addEventListener("offline",function(){}),"PointerEvent"in window?(l="pointerdown",c="pointermove",d="pointerup"):"ontouchstart"in document?(l="touchstart",c="touchmove",d="touchend"):(l="mousedown",c="mousemove",d="mouseup"),We.addEventListener(l,function(e){e.preventDefault(),at=!0,ki(),Es(),function(e,t,n){var i;function s(t){t.preventDefault&&t.preventDefault(),vs(i="left"===e.dataset.side?void 0!==t.clientX?t.clientX:t.changedTouches[0].clientX:window.innerWidth-(void 0!==t.clientX?t.clientX:t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{},document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(c,s),document.addEventListener(d,function n(){e.style.width=e.clientWidth+"px",C.b.set(Ze.pid,t,i),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),document.removeEventListener(c,s),document.removeEventListener(d,n)})}($e,"versionsSidebarWrapperWidth",{location:"left",onCollapse(){zn()?$e.classList.add("compact"):Et.classList.remove("versionsShown"),ee.c.hideVersions(),ei()},onExpand(){$e.classList.remove("compact"),Et.classList.add("versionsShown"),ee.c.showVersions(),ei()}})});var xs=!1;function Rs(){xs||(xs=!0,R.a.measure("page.interactive"),R.a.measureFirstInteraction())}const Is={onNameChange(e){Lt.name=e.body.name,mi()},onProjectChannelInviteUser(e){const t=e.body;t.user._id!==Zeplin.user._id?(Lt.users.push(t),mi()):location.reload()},onDeleteScreen(e){S.b(Lt.screens,t=>t._id===e.params.sid),mi()},onUpdateSectionScreensOrder(e){const t=e.body.screens.sort((e,t)=>e.to-t.to).map(e=>S.b(Lt.screens,t=>t._id===e._id)).filter(Boolean);Array.prototype.splice.apply(Lt.screens,[e.body.screens[0].to,0].concat(t)),mi()},onCreateUser(e){const t=Lt.users.find(t=>t.user._id===e.body._id);t&&(Object.assign(t.user,{username:e.body.username,status:"registered"}),mi())},onUpdateUserProfile(e){const t=Lt.users.find(t=>t.user._id===e.params.uid);t&&(Object.assign(t.user,e.body),mi())},onRemoveUserFromProject(e){S.b(Lt.users,t=>t.user._id===e.params.mid),mi()},onDeleteUser(e){S.b(Lt.users,t=>t.user._id===e.params.uid),mi()},onUpdateProjectDensityScale(e){Object.assign(Lt,{densityScale:e.body.densityScale}),mi()},onCreateScreenV3(e){const t={_id:e.body._id,latestVersion:{_id:e.body.latestVersion._id,snapshot:{_id:e.body.latestVersion.snapshot._id,width:e.body.latestVersion.snapshot.width,height:e.body.latestVersion.snapshot.height,url:e.body.latestVersion.snapshot.url}}};Lt.screens.push(t),mi()},onCreateScreenVersion(e){const t=Lt.screens.find(t=>t._id===e.params.sid);t&&(t.latestVersion={_id:e.body._id,snapshot:{_id:e.body.snapshot._id,width:e.body.snapshot.width,height:e.body.snapshot.height,url:e.body.snapshot.url}},mi())},onProjectNotAvailable(e){rn()}};var Ps;gt.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");const{match:[t,n,s],query:a,query:{did:o,cmid:r}={}}=e;Ze=Object.assign({pid:t,sid:n,vid:s},a);const l=_s(t);l&&l.then(()=>{if(i){if(S.R(n,"screen")){if(!Ke||Ke._id!==n)return ii(n);Ke&&Ke._id===n&&(o&&Xn(o,r),s&&Xe._id!==s&&Yn(Ke))}else y.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),cn(i.id,gi());return Promise.resolve()}}).then(()=>{Ke&&(an(),Oi())})}),gt.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,function(e){ga("set","location",location.href),ga("set","title","Color Palette - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{cid:s=[],seid:[a]=[]}={}}=e;Ze=Object.assign({pid:t},n);const o=_s(t);o&&o.then(()=>{i&&(pn(),ae.a.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:a}),ae.a.highlightColors(s))})}),gt.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,function(e){ga("set","location",location.href),ga("set","title","Text Style Catalog - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{tsid:s=[],seid:[a]=[]}={}}=e;Ze=Object.assign({pid:t},n);const o=_s(t);o&&o.then(()=>{i&&(pn(),ae.a.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:a}),ae.a.highlightTextStyles(s))})}),gt.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,function(e){ga("set","location",location.href),ga("set","title","Components - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:{coid:[n]=[],cseid:[s]=[],seid:[a]=[s]}={}}=e;Ze=Object.assign({pid:t},e.query);const o=_s(t);o&&o.then(()=>{if(!i)return;pn();const e=n&&i.findComponentById(n);ae.a.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:a}),ae.a.changeSelection({selectionComponentId:n,selection:e})})}),gt.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?/i,function(e){const[t,n="dashboard"]=e.match;ga("set","location",location.href),ga("set","title",`${Object(Ce.f)(n)} - Zeplin`),ga("send","pageview"),Ze=Object.assign({pid:t},e.query),function(e,t,n={}){const s=_s(e);s&&s.then(()=>{if(i){if("sid"in n){oe.a.highlightScreens(n.sid),"dashboard"!==et&&hn({forScreen:!0});const{tagFilter:{tags:e}}=oe.b.getState();e.length&&oe.a.changeTagFilter({tags:[],untagged:!1}),mi()}else if("seid"in n)"dashboard"!==et&&hn(),pi.add(()=>xt.component.projectOverview.highlightSection(n.seid[0]));else if("eid"in n)"dashboard"!==et&&hn(),Ii(i,n.eid[0]);else if("dashboard"===t){if("dashboard"!==et&&hn(),"tag"in n)oe.a.changeTagFilter({tags:n.tag,untagged:!1});else{let e={tags:[],untagged:!1},t="q"in n&&n.q[0]||"";"untagged"in n&&"true"===n.untagged[0]&&i.tags&&i.tags.length&&(e.untagged=!0),oe.a.changeTagFilter(e),oe.a.changeFilterValue(t)}mi()}else"cid"in n?"styleguide"!==et&&pn():"tsid"in n?"styleguide"!==et&&pn():"styleguide"===t&&"styleguide"!==et&&pn();an(),Rs()}})}(t,n,e.query)}),gt.start(document.body,function(){return R.a.measurePageDefaults(),R.a.measure("page.start"),window.addEventListener("online",function(){m.a.get("userToken")&&(function(){var e=Gt(location.pathname);e||rn(),Ze=e,location.search&&Object.assign(Ze,S.G(location.search))}(),st=!0,clearTimeout(Ps),Ps=setTimeout(function(){vn(Ze.pid).then(function(){"sid"in Ze&&ii(Ze.sid)})},1e3))}),vt.init()})},function(e,t,n){"use strict";var i=n(74),s=n(288),a=n(367);const o=document.getElementById("notificationContainer"),r=new i.a(a.a,o);s.a.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime)),r.render()},,,,,,,,,,function(e,t,n){"use strict";var i=n(87),s=n(24),a=n(33),o=n(16),r=n(15),l=n(8),c=n(74),d=n(368),u=n(266),h=n(290);const p=document.getElementById("userMenu");new c.a(d.a,p).render(),o.getOrganizations().then(e=>{u.a.getOrganizationsSuccess(e)}).catch(r.b),a.a().then(e=>{const t=e.find(e=>e.id===Zeplin.user.paymentPlan),n=Zeplin.user.avatar||Zeplin.user.emotar?Zeplin.user.avatar:Object(l.f)(Zeplin.user).src;s.d.get("notificationStatus").then(e=>{h.a.loadUserInfo({userId:Zeplin.user._id,username:Zeplin.user.username,email:Zeplin.user.email,verified:"verified"===Zeplin.user.status,avatar:n,emotar:Zeplin.user.emotar,isDesktopNotificationEnabled:e,isEmailNotificationEnabled:Zeplin.user.emailNotifications,paymentPlan:t})})}),"registered"===Zeplin.user.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&i.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}}),s.d.get("notificationBannerStatus").then(e=>{"default"===Notification.permission&&e&&i.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){s.d.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),i.a("notification"),Notification.requestPermission(e=>{h.a.setDesktopNotifications("granted"===e)})}}})})},function(e,t,n){"use strict";t.a=function(e){var t=i.default.h(s.a,e);return i.default.render(t,document.body)};var i=n(0),s=n(560)},function(e,t,n){"use strict";var i=n(1);function s(e,t){var n=this,s=e,a=s.querySelector(".formattedText"),o=s.querySelector(".mirror"),r=s.querySelector("textarea"),l=s.querySelector(".counter"),c=r.maxLength,d=r.value;Object.defineProperties(this,{root:{value:s},textarea:{value:r},counter:{value:l},mirror:{value:o},placeholder:{get:function(){return r.placeholder},set:function(e){o.innerHTML=i.j(e)+"&nbsp;",a.dataset.placeholder=i.j(e),r.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return r.readOnly},set:function(e){r.readOnly=e}},_originalValue:{value:d,writable:!0},value:{get:function(){return r.value},set:function(e){o.innerHTML=i.j(e||r.placeholder)+"&nbsp;",a.innerHTML=t(e),r.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),s.classList.add("zplTextarea"),o.innerHTML="&nbsp;",s.classList.contains("autoedit")&&(s.addEventListener("click",function(e){e.stopPropagation()}),a.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),s.classList.contains("autosubmit")&&r.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")&&n.submitEdits()}),r.addEventListener("keydown",function(e){if(!r.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),r.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),r.addEventListener("input",function(e){r.readOnly||(n._setMaxLength(),l.textContent=c-r.value.length,o.innerHTML=i.j(r.value)+"&nbsp;",a.innerHTML=t(r.value),n.checkAutoComplete())}),r.addEventListener("drop",function(){r.readOnly||setTimeout(function(){r.focus()},4)}),r.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),s.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}s.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},s.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},s.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},s.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},s.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))},t.a=s},function(e,t,n){var i,s,a;
/*!
 * Autolinker.js
 * 1.6.2
 *
 * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */!function(n,o){s=[],void 0===(a="function"==typeof(i=o)?i.apply(t,s):i)||(e.exports=a)}(0,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n)throw new Error("invalid `mention` cfg - see docs");var i=this.hashtag;if(!1!==i&&"twitter"!==i&&"facebook"!==i&&"instagram"!==i)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.version="1.6.2",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser().parse(e),n=0,i=[],s=0,a=t.length;s<a;s++){var o=t[s],r=o.getType();if("element"===r&&"a"===o.getTagName())o.isClosing()?n=Math.max(n-1,0):n++;else if("text"===r&&0===n){var l=this.parseText(o.getText(),o.getOffset());i.push.apply(i,l)}}return i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var n=e[t],i=n.getOffset(),s=n.getMatchedText().length,a=i+s;if(t+1<e.length){if(e[t+1].getOffset()===i){var o=e[t+1].getMatchedText().length>s?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<=a&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(t){var n=e.Util.remove;return this.hashtag||n(t,function(e){return"hashtag"===e.getType()}),this.email||n(t,function(e){return"email"===e.getType()}),this.phone||n(t,function(e){return"phone"===e.getType()}),this.mention||n(t,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||n(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||n(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||n(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var n=this.getMatchers(),i=[],s=0,a=n.length;s<a;s++){for(var o=n[s].parseMatches(e),r=0,l=o.length;r<l;r++)o[r].setOffset(t+o[r].getOffset());i.push.apply(i,o)}return i},link:function(e){if(!e)return"";for(var t=this.parse(e),n=[],i=0,s=0,a=t.length;s<a;s++){var o=t[s];n.push(e.substring(i,o.getOffset())),n.push(this.createMatchReturnVal(o)),i=o.getOffset()+o.getMatchedText().length}return n.push(e.substring(i)),n.join("")},createMatchReturnVal:function(t){var n;return this.replaceFn&&(n=this.replaceFn.call(this.context,t)),"string"==typeof n?n:!1===n?t.getMatchedText():n instanceof e.HtmlTag?n.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,n=this.getTagBuilder(),i=[new t.Hashtag({tagBuilder:n,serviceName:this.hashtag}),new t.Email({tagBuilder:n}),new t.Phone({tagBuilder:n}),new t.Mention({tagBuilder:n,serviceName:this.mention}),new t.Url({tagBuilder:n,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=i},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e},extend:function(t,n){var i,s=t.prototype,a=function(){};a.prototype=s;var o=(i=n.hasOwnProperty("constructor")?n.constructor:function(){s.constructor.apply(this,arguments)}).prototype=new a;return o.constructor=i,o.superclass=s,delete n.constructor,e.Util.assign(o,n),i},ellipsis:function(e,t,n){var i;return e.length>t&&(null==n?(n="&hellip;",i=3):i=n.length,e=e.substring(0,t-i)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},remove:function(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],s=0;n=t.exec(e);)i.push(e.substring(s,n.index)),i.push(n[0]),s=n.index+n[0].length;return i.push(e.substring(s)),i},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var n=this.getAttrs();return e.Util.assign(n,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var n,i=this.getClass(),s=this.whitespaceRegex,a=e.Util.indexOf,o=i?i.split(s):[],r=t.split(s);n=r.shift();)-1===a(o,n)&&o.push(n);return this.getAttrs().class=o.join(" "),this},removeClass:function(t){for(var n,i=this.getClass(),s=this.whitespaceRegex,a=e.Util.indexOf,o=i?i.split(s):[],r=t.split(s);o.length&&(n=r.shift());){var l=a(o,n);-1!==l&&o.splice(l,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",t="0-9------------------------------------",n=e+t,i=function(e){return"(?=([A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9------------------------------------](?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9------------------------------------\\-]{0,61}[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9------------------------------------])?))\\"+e};return{alphaNumericCharsStr:n,alphaCharsStr:e,getDomainNameStr:function(e){return"(?:"+i(e)+"(?:\\."+i(e+1)+"){0,126}|(?:[0-9------------------------------------]{1,3}\\.){3}[0-9------------------------------------]{1,3})"}}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var n=[t],i=e.getCssClassSuffixes(),s=0,a=i.length;s<a;s++)n.push(t+"-"+i[s]);return n.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var n=this.truncate;if(!n||!n.length)return t;var i=n.length,s=n.location;return"smart"===s?e.truncate.TruncateSmart(t,i):"middle"===s?e.truncate.TruncateMiddle(t,i):e.truncate.TruncateEnd(t,i)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,t=/[^\s"'>\/=\x00-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,i="(?:\\s*?=\\s*?"+n.source+")?",s=function(e){return"(?=("+t.source+"))\\"+e+i};return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",s(2),"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+e.source+")","\\s*/?",")","|","(?:","("+e.source+")","\\s+","(?:","(?:\\s+|\\b)",s(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,s=0,a=[];null!==(t=i.exec(e));){var o=t[0],r=t[4],l=t[1]||t[5]||t[6],c=!!t[3],d=t.index,u=e.substring(s,d);u&&(n=this.parseTextAndEntityNodes(s,u),a.push.apply(a,n)),r?a.push(this.createCommentNode(d,o,r)):a.push(this.createElementNode(d,o,l,c)),s=d+o.length}if(s<e.length){var h=e.substring(s);h&&(n=this.parseTextAndEntityNodes(s,h)).forEach(function(e){a.push(e)})}return a},parseTextAndEntityNodes:function(t,n){for(var i=[],s=e.Util.splitAndCapture(n,this.htmlCharacterEntitiesRegex),a=0,o=s.length;a<o;a+=2){var r=s[a],l=s[a+1];r&&(i.push(this.createTextNode(t,r)),t+=r.length),l&&(i.push(this.createEntityNode(t,l)),t+=l.length)}return i},createCommentNode:function(t,n,i){return new e.htmlParser.CommentNode({offset:t,text:n,comment:e.Util.trim(i)})},createElementNode:function(t,n,i,s){return new e.htmlParser.ElementNode({offset:t,text:n,tagName:i.toLowerCase(),closing:s})},createEntityNode:function(t,n){return new e.htmlParser.EntityNode({offset:t,text:n})},createTextNode:function(t,n){return new e.htmlParser.TextNode({offset:t,text:n})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Mention=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=e.match.Match.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},removePercentEncoding:function(e){try{return decodeURIComponent(e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(t){return e}}}),e.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich||||||||abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|||||||||||aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",n=new RegExp("(?:["+t+"](?:["+t+']|\\.(?!\\.|@))*|\\"['+(t+'\\s"(),:;<>@\\[\\]')+'.]+\\")@'),i=e.RegexLib.getDomainNameStr,s=e.tldRegex;return new RegExp([n.source,i(1),"\\.",s.source].join(""),"gi")}(),parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.tagBuilder,a=[];null!==(n=i.exec(t));){var o=n[0];a.push(new e.match.Email({tagBuilder:s,matchedText:o,offset:n.index,email:o}))}return a}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.nonWordCharRegex,a=this.serviceName,o=this.tagBuilder,r=[];null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||s.test(c)){var d=n[0],u=n[0].slice(1);r.push(new e.match.Hashtag({tagBuilder:o,matchedText:d,offset:l,serviceName:a,hashtag:u}))}}return r}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.tagBuilder,a=[];null!==(n=i.exec(t));){var o=n[0],r=o.replace(/[^0-9,;#]/g,""),l=!!n[1];this.testMatch(n[2])&&this.testMatch(o)&&a.push(new e.match.Phone({tagBuilder:s,matchedText:o,offset:n.index,number:r,plusSign:l}))}return a},testMatch:function(e){return/\D/.test(e)}}),e.matcher.Mention=e.Util.extend(e.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+e.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var n,i=this.matcherRegexes[this.serviceName],s=this.nonWordCharRegex,a=this.serviceName,o=this.tagBuilder,r=[];if(!i)return r;for(;null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||s.test(c)){var d=n[0].replace(/\.+$/g,""),u=d.slice(1);r.push(new e.match.Mention({tagBuilder:o,matchedText:d,offset:l,serviceName:a,mention:u}))}}return r}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.getDomainNameStr,n=e.tldRegex,i=e.RegexLib.alphaNumericCharsStr,s=new RegExp("[/?#](?:["+i+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+i+"\\-+&@#/%=~_()|'$*\\[\\]])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t(2),")","|","(","(//)?",/(?:www\.)/.source,t(6),")","|","(","(//)?",t(10)+"\\.",n.source,"(?![-"+i+"])",")",")","(?::[0-9]+)?","(?:"+s.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+e.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.stripPrefix,a=this.stripTrailingSlash,o=this.decodePercentEncoding,r=this.tagBuilder,l=[];null!==(n=i.exec(t));){var c=n[0],d=n[1],u=n[4],h=n[5],p=n[9],m=n.index,g=h||p,f=t.charAt(m-1);if(e.matcher.UrlMatchValidator.isValid(c,d)&&!(m>0&&"@"===f||m>0&&g&&this.wordCharRegExp.test(f))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var b=this.matchHasInvalidCharAfterTld(c,d);b>-1&&(c=c.substr(0,b))}var y=d?"scheme":u?"www":"tld",v=!!d;l.push(new e.match.Url({tagBuilder:r,matchedText:c,offset:m,urlMatchType:y,url:c,protocolUrlMatch:v,protocolRelativeMatch:!!g,stripPrefix:s,stripTrailingSlash:a,decodePercentEncoding:o}))}}return l},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),n=e.match(this.closeParensRe);if((t&&t.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,n){if(!t)return-1;var i=0;n&&(i=t.indexOf(":"),t=t.slice(i));var s=e.RegexLib.alphaNumericCharsStr,a=new RegExp("^((.?//)?[-."+s+"]*[-"+s+"]\\.[-"+s+"]+)").exec(t);return null===a?-1:(i+=a[1].length,t=t.slice(a[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?i:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+e.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}},e.truncate.TruncateEnd=function(t,n,i){return e.Util.ellipsis(t,n,i)},e.truncate.TruncateMiddle=function(e,t,n){if(e.length<=t)return e;var i,s;null==n?(n="&hellip;",i=8,s=3):(i=n.length,s=n.length);var a=t-s,o="";return a>0&&(o=e.substr(-1*Math.floor(a/2))),(e.substr(0,Math.ceil(a/2))+n+o).substr(0,a+i)},e.truncate.TruncateSmart=function(e,t,n){var i,s;null==n?(n="&hellip;",s=3,i=8):(s=n.length,i=n.length);var a=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var i=t/2,s=Math.ceil(i),a=-1*Math.floor(i),o="";return a<0&&(o=e.substr(a)),e.substr(0,s)+n+o};if(e.length<=t)return e;var r=t-s,l=function(e){var t={},n=e,i=n.match(/^([a-z]+):\/\//i);return i&&(t.scheme=i[1],n=n.substr(i[0].length)),(i=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=i[1],n=n.substr(i[0].length)),(i=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=i[1],n=n.substr(i[0].length)),(i=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=i[1],n=n.substr(i[0].length)),(i=n.match(/^#(.*?)$/i))&&(t.fragment=i[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=a(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=a(l)),e.length<=t)return e;var d="";if(l.host&&(d+=l.host),d.length>=r)return l.host.length==t?(l.host.substr(0,t-s)+n).substr(0,r+i):o(d,r).substr(0,r+i);var u="";if(l.path&&(u+="/"+l.path),l.query&&(u+="?"+l.query),u){if((d+u).length>=r)return(d+u).length==t?(d+u).substr(0,t):(d+o(u,r-d.length)).substr(0,r+i);d+=u}if(l.fragment){var h="#"+l.fragment;if((d+h).length>=r)return(d+h).length==t?(d+h).substr(0,t):(d+o(h,r-d.length)).substr(0,r+i);else d+=h}if(l.scheme&&l.host){var p=l.scheme+"://";if((d+p).length<r)return(p+d).substr(0,t)}if(d.length<=t)return d;var m="";return r>0&&(m=d.substr(-1*Math.floor(r/2))),(d.substr(0,Math.ceil(r/2))+n+m).substr(0,r+i)},e})},function(e,t,n){"use strict";var i=n(1145);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(1146),a=n(1),o=n(15),r=n(4),l=n(1149);n.n(l);t.a=class extends i.default.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.moveHandler=this.moveHandler.bind(this),this.openHandler=this.openHandler.bind(this),this.moveStartHandler=this.moveStartHandler.bind(this),this.state={spinnerIndex:-1,listItems:[],loading:!0}}closePopup(){const{base:e}=this.nodeRefs;i.default.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){return this.state.listItems.filter(function(e){return"header"!==e.type})[e]}positionPopup(){var e=this.nodeRefs.base.getBoundingClientRect(),t=Math.max(108,this.props.top-e.height/2);t=Math.min(t,window.innerHeight-24-e.height);var n=Math.min(this.props.left,window.innerWidth-36-e.width);this.nodeRefs.base.style.top=t+"px",this.nodeRefs.base.style.left=n+"px"}moveHandler(e){if(-1===this.state.spinnerIndex){if(!this.props.onMove)throw new Error("Prop onMove is required");this.props.onMove(this.getInteractiveItemAtIndex(e),e,this.moveStartHandler,this.closePopup)}}moveStartHandler(e){this.setState({spinnerIndex:e})}openHandler(){this.props.onOpen&&this.props.onOpen()}componentDidMount(){if(this.positionPopup(),this.openHandler(),this.props.projectsLoader){var e=this;e.setState({loading:!0}),this.props.projectsLoader().then(function(t){e.setState({loading:!1,listItems:t})}).catch(o.b)}}componentDidUpdate(){this.positionPopup()}componentWillUnmount(){this.props.onClose&&this.props.onClose()}render(){const{densityScale:e,projectType:t}=this.props,{loading:n,listItems:o,spinnerIndex:l}=this.state,c=Object(a.u)(t),d=Object(a.q)(t,e);let u;return u=n?i.default.h("div",{class:"projectListLoading"}):i.default.h(s.a,{projectType:c,densityScale:e,items:o,spinnerIndex:l,onSelect:this.moveHandler}),i.default.h("div",{ref:Object(r.a)(this,"base"),class:"moveToProjectPopup",onClick:a.N,onContextMenu:a.N},i.default.h("p",null,"To keep asset sizes and measurements consistent, only ",i.default.h("strong",null,c)," projects with ",i.default.h("strong",null,d)," density are listed. Select one or create a new one to move the screen(s):"),u)}}},function(e,t,n){"use strict";var i=n(1147);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(8),o=n(4),r=n(1148),l=(n.n(r),i.default.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("g",{"fill-rule":"evenodd"},i.default.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.default.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.default.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.default.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.default.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.default.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.default.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.default.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"}))));class c extends i.default.Component{constructor(e){super(),this.mouseEnterHandler=this.mouseEnterHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.itemCount=c.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}createHeader(e){const{densityScale:t,projectType:n}=this.props,a=s.q(n,t);return i.default.h("h3",{key:e},i.default.h("span",null,e),"",i.default.h("span",null,"(",n,", ",a,")"))}createProjectButton(e,t){var n=["newProjectButton"];return t===this.state.selectedIndex&&n.push("selected"),i.default.h("div",{key:e,class:n.join(" "),"data-index":t,"data-oid":e},i.default.h("svg",{class:"plus",width:"24",height:"24"},i.default.h("g",{fill:"none","fill-rule":"evenodd"},i.default.h("circle",{cx:"12",cy:"12",r:"12"}),i.default.h("path",{d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"}))),i.default.h("div",null,i.default.h("div",null,"New project"),i.default.h("div",null,"Create a new project and transfer screens")),t===this.props.spinnerIndex&&l)}createProjectItem(e,t,n,s){var a=["project"];return n&&a.push("odd"),s===this.state.selectedIndex&&a.push("selected"),i.default.h("div",{key:e,class:a.join(" "),title:t,"data-index":s},i.default.h("span",null,t),s===this.props.spinnerIndex&&l)}static getInteractiveItemCount(e){return e.filter(function(e){return"header"!==e.type}).length}clickHandler(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}keydownHandler(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}mouseEnterHandler(e){this.lastX=e.clientX,this.lastY=e.clientY}mouseMoveHandler(e){if(e.stopPropagation(),this.lastX!==e.clientX||this.lastY!==e.clientY){var t=e.target.closest("[data-index]");if(t){var n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}}}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentWillReceiveProps(e){this.itemCount=c.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(a.k)(this.nodeRefs.base.querySelector("[data-index='"+this.state.selectedIndex+"']"))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}render(){var e=this,t=0,n=!1,s=this.props.items.map(function(i){switch(i.type){case"header":return e.createHeader(i.content);case"create":return n=!1,e.createProjectButton(i.oid,t++);case"project":return n=!n,e.createProjectItem(i.pid,i.name,n,t++);default:return null}});return i.default.h("div",{ref:Object(o.a)(this,"base"),class:"projectList",onMouseEnter:this.mouseEnterHandler,onMouseMove:this.mouseMoveHandler,onClick:this.clickHandler},s)}}t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1151);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1152),a=n(1),o=n(1161);n.n(o);t.a=class extends i.default.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleOnAddTag=this.handleOnAddTag.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleOnAddTag(e){const{onAddTag:t}=this.props;this.setState({filter:""}),t(e)}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){const{onClose:e}=this.props;e()}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{tagList:e,otherTagsInTheProject:t,onRemoveTag:n,onClose:o}=this.props,{filter:r}=this.state;let l=t.reduce((e,t)=>(t.toLowerCase().includes(r.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===r.trim()&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return l.shouldCreateNewTag&&r.trim()&&!e.includes(r.trim())&&l.suggestionList.push({name:r.trim(),isNew:!0}),i.default.h("div",{class:"manageTagsContainer",onClick:o},i.default.h("div",{class:"manageTagsPopup",onClick:a.N},i.default.h("input",{value:r,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange,autoFocus:!0}),i.default.h(s.a,{tagList:e,suggestionList:l.suggestionList,onAddTag:this.handleOnAddTag,onRemoveTag:n}),i.default.h("div",{class:"manageTagsCommands"},i.default.h("button",{class:"manageTagsDone",onClick:o},"DONE"))))}}},function(e,t,n){"use strict";var i=n(1153);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1154),a=n(1157),o=n(6),r=n(1),l=n(4),c=n(8),d=n(1160);n.n(d);t.a=class extends i.default.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(r.a)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.k)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.default.h("div",{class:"screenTags"},e.map(e=>i.default.h(a.a,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:a}=this.state;return i.default.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.default.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let o;return a===t&&(o=Object(l.a)(this,"selectedSuggestion")),i.default.h(s.a,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:a===t,isNew:e.isNew,ref:o,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.default.h("div",{class:"tagList"},i.default.h("div",{class:"noTagsOrSuggestions"},i.default.h("img",{class:"noTagsTagIcon",src:Object(o.e)("img/icTag.svg")}),i.default.h("p",null,"No tag defined yet."),i.default.h("div",{class:"textAndIcon"},i.default.h("p",null,"Go ahead, add your first tag!"),i.default.h("img",{src:Object(o.e)("img/icDart.svg"),srcset:Object(o.f)(Object(o.e)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}},function(e,t,n){"use strict";var i=n(1155);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(9),o=n(2),r=n(6),l=n(1156);n.n(l);t.a=class extends s.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.default.h(a.a,{class:Object(o.a)("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.default.h("div",{class:"createNewTag"},i.default.h("img",{src:Object(r.e)("img/icCreateNewTag.svg")}),i.default.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.default.h("span",{class:"suggestionText ellipsis"},t))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1158);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(1159),o=(n.n(a),n(9));t.a=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.default.h("div",{class:"manageTagsTag noSelect"},i.default.h("span",{class:"tagButtonText ellipsis"},e),i.default.h(o.a,{onClick:this.handleClick,class:"removeTagButton"},i.default.h("img",{src:Object(s.e)("img/icGuidelineRemove.svg")})))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1163);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(39),a=n(22),o=n(109),r=n(692),l=n(1164),c=n(132),d=n(17),u=n(2),h=n(4),p=n(50),m=n(1),g=n(1190),f=(n.n(g),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});t.a=Object(s.a)(class extends i.default.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleAddColorClick=this.handleAddColorClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this),this.handleAddTextStyleClick=this.handleAddTextStyleClick.bind(this),this.handleTextStyleNameChange=this.handleTextStyleNameChange.bind(this)}static getStores(){return[a.d,o.e]}static calculateState(){const{barrelType:e,barrelId:t,barrelUser:n}=a.d.getState(),{selectedSidebarTab:i,sidebarWidth:s}=o.e.getState();return{barrelType:e,barrelId:t,barrelUser:n,selectedTab:i,sidebarWidth:s}}get selectedView(){return"layerDetails"in this.props?"layerDetails":"resourceView"}handleAddColorClick(e){a.b.addColor({color:e,syncWithApi:!0}),Object(p.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}handleColorNameChange(e,t){const{resources:{colorsData:[{colors:n}]}}=this.props;if(n.find(e=>e.name===t))return d.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();a.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}handleRemoveColorClick(e){a.b.removeColor({cid:e,syncWithApi:!0})}handleAddTextStyleClick(e){a.b.addTextStyle({textStyle:e,syncWithApi:!0}),Object(p.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}handleTextStyleNameChange(e,t){const{resources:{textStylesData:[{textStyles:n}]}}=this.props;if(n.some(e=>e.name===t))return d.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();a.b.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}handleRemoveTextStyleClick(e){a.b.removeTextStyle({tsid:e,syncWithApi:!0})}handleDocumentClick(e){this.nodeRefs.sidebar.contains(e.target)||"layerDetails"!==this.selectedView||o.c.closeLayerView()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick)}getChildContext(){const{projectType:e,screenId:t,screenName:n}=this.props,{barrelType:i,barrelId:s,barrelUser:a}=this.state;return{barrelType:i,barrelId:s,projectId:s,projectType:e,screenId:t,screenName:n,barrelUser:a,userRole:a.role,permissions:{canManageColors:m.H.canManageColors(a),canManageScreens:m.H.canManageColors(a),canManageTextStyles:m.H.canManageTextStyles(a)}}}render(){const{layerDetails:e,resources:t}=this.props,{selectedTab:n,sidebarWidth:s}=this.state,a="resourceView"===this.selectedView,d={onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick};return i.default.h(c.a,{baseRef:Object(h.a)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:s,minWidth:260,onRelease:o.c.changeSidebarWidth},i.default.h("div",{class:"sidebarViews",onClick:m.N},i.default.h("div",{class:Object(u.a)("sidebarView",{scrollable:a})},a?i.default.h(l.a,f({},t,d,{selectedTab:n,onTabChange:o.c.changeSidebarTab})):i.default.h(r.a,f({},e,d,{onCopyCode:o.c.copyLayerCode,onCopyContent:o.c.copyLayerContent,onCloseClick:o.c.closeLayerView})))))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1165);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(77),a=n(22),o=n(65),r=n(109),l=n(282),c=n(25),d=n(1166),u=n(1172),h=n(1177),p=n(1182),m=n(2),g=n(6),f=n(7),b=n(1188),y=n(1189);n.n(y);function v(e,t){r.c.updateScreen(e,{description:t})}class S extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)}render(){const{id:e,selected:t,title:n}=this.props,s=`ic${Object(f.f)(e)}Tab${t?"Selected":""}`;return i.default.h("label",{class:"noSelect",title:n},i.default.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.default.h("img",{alt:n,src:Object(g.e)(`img/${s}.png`),srcset:Object(g.f)(Object(g.e)(`img/${s}.png`))}))}}t.a=class extends c.a{constructor(e){super(e),this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleDownloadAssetClick=this.handleDownloadAssetClick.bind(this),this.handleDownloadSelectedAssetClick=this.handleDownloadSelectedAssetClick.bind(this)}handleDescriptionChange(e){const{screen:{_id:t}}=this.props;r.c.updateScreen(t,{description:e})}handleManageTagsClick(){const{screen:{_id:e}}=this.props;r.c.openManageTags(e)}handleDownloadAssetClick(e,t){const{screen:{name:n},currentVersion:i}=this.props;a.b.downloadAsset({containerName:n,version:i,assetId:e,format:t})}handleDownloadSelectedAssetClick(e){const{screen:{name:t},currentVersion:n}=this.props;a.b.downloadMultipleAsset({containerName:t,version:n,assetList:e})}renderTabs(){const{selectedTab:e,onTabChange:t}=this.props;return i.default.h("div",{class:"resourceTabs"},r.f.map(({id:n,title:s})=>i.default.h(S,{id:n,key:n,selected:e===n,onChange:t,title:s})))}renderContent(){const{restricted:e,formatter:t,descriptionFormatter:n,commentFormatter:c,layoutGridVisible:m,showNoResourceInfo:g,sourceFileInfoHidden:f,screen:y,currentVersion:S,colorsData:C,projectType:E,isScreenSnapshotLoading:k,densityWarningHidden:O,assetDensityScalePrefs:D,namingConvention:w,showOptimizedSVG:j,notesFilter:{status:T,color:_},selectedTab:x,onAddColorClick:R,onColorNameChange:I,onRemoveColorClick:P}=this.props,{barrelUser:L}=this.context,{info:A,colors:N,assets:M,notes:U}=Object(b.a)(y,S,t,E,C,L);let B,z;const F=r.f.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(x){case F.colors:z=Object.assign({loading:k,restricted:e,onRequestOrgInviteClick:s.b.requestInvite,onAddColorClick:R,onColorNameChange:I,onRemoveColorClick:P},N),B=i.default.h(u.a,z);break;case F.assets:z=Object.assign({restricted:e,formatter:t,densityWarningHidden:O,assetDensityScalePrefs:D,namingConvention:w,showOptimizedSVG:j,loading:k,projectType:E,onRequestOrgInviteClick:s.b.requestInvite,onHideDensityWarningClick:l.b.hideDensityMismatchWarning,onAssetDensityOptionChange:a.b.changeAssetDensityScalePref,onNamingConventionChange:a.b.changeAssetNamingConvention,onShowOptimizedSVGChange:a.b.toggleSVGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},M),B=i.default.h(h.a,z);break;case F.notes:z=Object.assign({selectedColor:_,selectedStatus:T,commentFormatter:c,onFilterChange:r.c.changeDotFilter,onNoteClick:r.c.selectDot,onAddNoteClick:r.c.enableNoteMode},U),B=i.default.h(p.a,z);break;case F.info:default:z=Object.assign({formatter:t,descriptionFormatter:n,layoutGridVisible:m,showNoResourceInfo:g,sourceFileInfoHidden:f,onCopyScreenLink:r.c.copyScreenLink,onGridToggleChange:r.c.toggleLayoutGrid,onDescriptionChange:v,onManageTagsClick:r.c.openManageTags,onSourceFileClick:r.c.openSourceFile,onSourceFolderClick:r.c.openSourceFolder,onRequestOrgInviteClick:s.b.requestInvite,onHideNoResourceInfoClick:o.b.hideNoResourceInfo,onHideSourceFileInfoClick:l.b.hideSourceFileInfo},A),B=i.default.h(d.a,z)}return i.default.h("div",{class:"resourceContent"},B)}render(){const{class:e}=this.props;return i.default.h("div",{class:Object(m.a)("resourceView",e)},this.renderTabs(),this.renderContent())}}},function(e,t,n){"use strict";var i=n(1167);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1168),a=n(9),o=n(686),r=n(372),l=n(369),c=n(85),d=n(64),u=n(94),h=n(693),p=n(685),m=n(2),g=n(96),f=n(6),b=n(22),y=n(109),v=n(1171);n.n(v);const S=i.default.h("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},i.default.h("path",{fill:"#554D56","fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}));class C extends i.default.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:s,numberOfCols:a}=t,o=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(o),vizGutterWidth:Math.ceil(230-o),totalWidth:a*e+(a-!s)*i,numberOfCols:a})}if(e){const{rowHeight:t,gutterHeight:i}=e,s=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(s),vizGutterHeight:Math.ceil(48-s)})}return n}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:s,vizColumnWidth:a,vizGutterWidth:o,totalWidth:r,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:h,vizGutterHeight:p}=this.getGridData();return i.default.h("div",{class:Object(m.a)("layoutGrid",{vertical:t,horizontal:c})},i.default.h("table",null,i.default.h("tr",null,i.default.h("td",{class:"gridColumnWidth"},e.length(n)),i.default.h("td",{class:"gridGutterWidth"},e.length(s)),i.default.h("td",null)),i.default.h("tr",null,i.default.h("td",{class:"gridColumn",style:{width:`${a}px`}}),i.default.h("td",{class:"verticalGutter",style:{width:`${o}px`}}),i.default.h("td",{class:"gridRowHeight",style:{height:`${h}px`}},e.length(d))),i.default.h("tr",null,i.default.h("td",{class:"horizontalGutter"}),i.default.h("td",null),i.default.h("td",{class:"gridGutterHeight",style:{height:`${p}px`}},e.length(u)))),i.default.h("div",{class:"gridProperty"},i.default.h("span",{class:"name"},"Total width:"),i.default.h("span",{class:"value"},e.length(r))),i.default.h("div",{class:"gridProperty"},i.default.h("span",{class:"name"},"# of columns:"),i.default.h("span",{class:"value"},l)))}}t.a=class extends i.default.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{id:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleManageTagsClick(){const{id:e,onManageTagsClick:t}=this.props;t(e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.default.h("img",{key:"ps",src:Object(f.e)("img/icFilePhotoshop.png"),srcset:Object(f.f)(Object(f.e)("img/icFilePhotoshop.png"))}),i.default.h("img",{key:"psPressed",src:Object(f.e)("img/icFilePhotoshopPressed.png"),srcset:Object(f.f)(Object(f.e)("img/icFilePhotoshopPressed.png"))})]:"xd"===e?[i.default.h("img",{key:"xd",src:Object(f.e)("img/icFileXD.png"),srcset:Object(f.f)(Object(f.e)("img/icFileXD.png"))}),i.default.h("img",{key:"xdPressed",src:Object(f.e)("img/icFileXDPressed.png"),srcset:Object(f.f)(Object(f.e)("img/icFileXDPressed.png"))})]:void 0}render(){const{authors:e=[],description:t,formatter:n,descriptionFormatter:m,layoutGridVisible:f,grid:v,sourceFile:E,tags:k,version:O,screen:D,showNoResourceInfo:w,sourceFileInfoHidden:j,onCopyScreenLink:T,onGridToggleChange:_,onHideNoResourceInfoClick:x,onHideSourceFileInfoClick:R}=this.props,{permissions:{canManageScreens:I},barrelUser:{role:P}}=this.context,L=O._id===D.versions[0]._id;let{webUrl:A,appUri:N}=D;if(!L){const e=D.versions.find(e=>e._id===O._id);({webUrl:A,appUri:N}=e)}return i.default.h(h.a,{class:"infoTab"},w&&i.default.h(d.a,{class:"noResourceInfo",onHideClick:x},"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"),i.default.h(u.a,null,e.map(({username:t,avatar:n={},versions:s,lastUpdated:a})=>i.default.h(p.a,{key:t,avatar:n,username:t,versionCount:s,authorCount:e.length,lastUpdated:a}))),i.default.h(u.a,{title:`Share ${L?"screen":"version"}`},i.default.h("div",{class:"shareViewWrapper"},i.default.h(o.a,{webUrl:A,appUri:N,onCopy:T}))),i.default.h(u.a,{title:"Description"},i.default.h(r.a,{class:"descriptionInput",value:t,placeholder:I?"Got any notes?":"No description yet",readOnly:!I,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:m,showEmojiAutoComplete:!0,maxLength:1024})),i.default.h(u.a,{title:"Tags"},i.default.h("div",{class:"tags"},k.map(({name:e,link:t})=>i.default.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)),i.default.h(c.a,{content:I?"Manage tags":Object(g.a)(P,"organize screens using tags")},i.default.h(a.a,{class:"manageTagsButton",onClick:this.handleManageTagsClick,disabled:!I},S,i.default.h("span",{class:"buttonText"}))))),v&&i.default.h(u.a,{title:i.default.h("div",{class:"gridsTitle"},"Grids",i.default.h(l.a,{checked:f,onChange:_}))},i.default.h(C,{grid:v,formatter:n})),E&&i.default.h(u.a,{title:"File"},i.default.h("div",{class:"sourceFileInfo"},i.default.h("div",{class:"sourceFileLocation"},i.default.h("div",{class:"sourceFileName ellipsis",title:E.name,onClick:this.handleSourceFileClick},E.name),i.default.h("div",{class:"sourceFilePath",title:E.dir,onClick:this.handleSourceFolderClick},E.pathParts.join("  "))),i.default.h(a.a,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),!j&&i.default.h(d.a,{class:"sourceFileHint",onHideClick:R},"This is only visible to you, to quickly jump to your design file.")),i.default.h(s.a,{class:"codeSection",screen:D,version:O,onCopyClick:y.c.copyScreenCode,onSettingsClick:b.b.openExtensionSettings}))}}},function(e,t,n){"use strict";var i=n(0),s=n(376);t.a=class extends i.default.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then(e=>{if(!e)return;const t={name:"screen"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}renderExtensionCode(e){const{onCopyClick:t,onSettingsClick:n,class:a}=this.props;return i.default.h(s.a,{snippets:e,onCopyClick:t,onSettingsClick:n,class:a})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.default.h(s.c,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(1170);n.n(a);t.a=function(e){const{class:t,children:n,afterContent:a,title:o,onClick:r}=e;return i.default.h("div",{class:Object(s.a)("resourceTab",t),onClick:r},o&&i.default.h("div",{class:"title"},i.default.h("h1",null,o)),i.default.h("div",{class:"tabContent"},n),a)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1173);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(94),a=n(693),o=n(133),r=n(1090),l=n(6),c=n(1176);n.n(c);t.a=class extends i.default.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:h}=this.props;let p;return n?p=i.default.h(s.a,null,i.default.h(r.a,null)):c?p=i.default.h(s.a,null,i.default.h("div",{class:"restricted"},i.default.h("h2",null,"Limited access"),i.default.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"))):e||t.length?(p=[],e&&p.push(i.default.h(s.a,{title:"Background color"},i.default.h(o.a,{onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))),t.length>0&&p.push(i.default.h(s.a,{title:"Colors"},t.map(e=>i.default.h(o.a,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))))):p=i.default.h(s.a,null,i.default.h("div",{class:"noColors"},i.default.h("h2",null,"No colors. ",i.default.h("img",{width:"24",height:"24",src:Object(l.e)("img/emjPalette.png"),srcset:Object(l.f)(Object(l.e)("img/emjPalette.png")),alt:"",title:""})),i.default.h("p",null,"All the colors used in the screen will be listed here."),i.default.h("p",null,"Could this be a bitmap? ",i.default.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.default.h(a.a,{class:"colorsTab",title:"Colors"},p)}}},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(1175);n.n(o);const r=180,l=7,c=5;t.a=class extends i.default.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(Math.random()*c)+1,this.intervalId=setInterval(this.handleOnePeriod,r*l))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.default.h("div",{ref:Object(a.a)(this,"base"),class:"tabLoading loadingShapes"},i.default.h("div",{class:Object(s.a)("loadingShape","yellow",e[0]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","lightOrange",e[1]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","orange",e[2]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","peach",e[3]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","green",e[4]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","turquoise",e[5]||"circle")}),i.default.h("div",{class:Object(s.a)("loadingShape","cornflowerBlue",e[6]||"circle")}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1178);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(687),o=n(688),r=n(689),l=n(690),c=n(691),d=n(94),u=n(1179),h=n(693),p=n(1090),m=n(4),g=n(2),f=n(88),b=n(8),y=n(24),v=n(1181);n.n(v);const S=i.default.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24",key:"settingsSvg"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),C=Object(b.b)();class E extends i.default.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:a,light:o,previewImages:r}=this.props;return i.default.h("div",{class:Object(g.a)("assetEntry","noSelect",{selected:!!a}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.default.h(l.a,{class:"preview",light:o,images:r}),i.default.h("div",{class:"entryInfo"},i.default.h("div",{class:"name ellipsis"},e),i.default.h("div",{class:"size ellipsis"},t&&`${t.width}  ${t.height}`)),a&&i.default.h("div",null,Object.keys(n).sort(f.g).map(e=>i.default.h(s.a,{key:e,class:Object(g.a)("exportType",{selected:a===e}),onClick:this.createFormatSelectHandler(e)},e))))}}const k=e=>document.body.classList.contains("mac")?e.metaKey:e.ctrlKey,O="png";function D(e){return Object.keys(e).sort().join("&")}t.a=class extends i.default.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[D(e.formats)]||O;return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,s=t.shiftKey,a=k(t),{assets:o}=this.props;if(s){const t=Math.min(n,e),s=Math.max(n,e),a=o.slice(t,s+1),r=function(e,t,n){const i=Object.assign({},e);for(let s=n-1;s>=0;s--){const e=t[s].id;if(!i[e])break;delete i[e]}for(let s=n;s<t.length;s++){const e=t[s].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=a.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),r);return void this.setState(e=>({assetSelections:l}))}const r=this.getPreferredFormatObjectForAsset(o[e]);if(a){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,r),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:r,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:s}=this.props,a=s[e],o=Object.assign({},n,{[a.id]:t});this.setState({assetSelections:o,assetFormatPreference:Object.assign({},i,{[D(a.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){y.d.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentWillReceiveProps(){this.clearAssetSelection()}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:s}=this.state,a=Object.keys(t).length,o=Object.keys(i).length;n!==s&&function(e){y.d.set("assetFormatPreference",e)}(s),0===a&&o>0?document.body.classList.add("supportButtonHidden"):a>0&&0===o&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n}=this.props,s={};for(let i of e)Object.keys(i.formats).forEach(e=>{s[e]=(s[e]||[]).concat(i.formats[e].variants)});return Object.keys(s).sort(f.g).map(e=>i.default.h(r.a,{key:e,format:e,variants:s[e],assetDensityScalePrefs:t,hideOptimization:"svg"===e&&!n,onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,s)=>{const a=this.getPreferredFormatObjectForAsset(e);return i.default.h(E,{key:e.id,name:Object(f.b)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,a[e.id]),onClick:function(e,t){return n=>t(e,n)}(s,this.handleAssetClick),onFormatChange:function(e,t){return n=>t(e,n)}(s,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:r,densityWarningHidden:l,assetDensityScalePrefs:f,namingConvention:b,showOptimizedSVG:y,projectType:v,onHideDensityWarningClick:E,onAssetDensityOptionChange:k,onNamingConventionChange:O,onShowOptimizedSVGChange:D}=this.props,{assetSelections:w,settingsOpen:j}=this.state,T=i.default.h("div",{class:"assetsTitle"},"Assets",i.default.h(c.a,{open:j,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:k,onNamingConventionChange:O,onShowOptimizedSVGChange:D,projectType:v,settings:{assetDensityScalePrefs:f,namingConvention:b,showOptimizedSVG:y},target:i.default.h(s.a,{class:Object(g.a)("assetSettingsButton",{active:j}),onClick:this.showSettingsMenu},S)}));let _;if(n)_=i.default.h(p.a,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0});else if(r)_=i.default.h(d.a,{class:"restricted"},i.default.h("h1",null,"Limited access"),i.default.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.default.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"));else if(e.length){const t=e.some(e=>e.densityMismatch);_=[i.default.h(d.a,{class:"allAssets",key:"allAssets"},!C&&i.default.h(o.a,{class:"warningBox"}),t&&!l&&i.default.h(a.a,{class:"warningBox",onHideClick:E}),i.default.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.default.h(d.a,{title:"Download individual assets",key:"individualAssets"},i.default.h("div",{class:"individualAssets",ref:Object(m.a)(this,"individualAssets")},this.renderIndividuals()),i.default.h("div",{class:"spacer"}))]}else _=i.default.h(d.a,null,i.default.h(u.a,{source:t}));return i.default.h(h.a,{onClick:this.handleDocumentClick,title:T,class:"assetsTab",afterContent:Object.keys(w).length>0&&i.default.h(s.a,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},_)}}},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(1180);n.n(a);t.a=function(e){return i.default.h("div",{class:"noScreenAssets"},i.default.h("h1",null,"Rock paper scissors",i.default.h("img",{src:s.e("img/emjAssetVictory.png"),srcset:s.f(s.e("img/emjAssetVictory.png")),alt:"",class:"victory"}),i.default.h("img",{src:s.e("img/emjScissors.png"),srcset:s.f(s.e("img/emjScissors.png")),alt:"",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.default.h("div",{class:"info sketchFile"},i.default.h("p",null,i.default.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.default.h("img",{src:s.e("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:s.e("img/icSketchMakeExportable.png"),srcset:s.f(s.e("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.default.h("p",null,"or"),i.default.h("img",{src:s.e("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.default.h("p",null,"If you want to be a pro, check out how it works from ",i.default.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.default.h("div",{class:"info psdFile"},i.default.h("p",null,i.default.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplins panel and Zeplin will generate assets and list them here."),i.default.h("img",{src:s.e("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:s.e("img/icPhotoshopMakeExportable.png"),srcset:s.f(s.e("img/icPhotoshopMakeExportable.png")),class:"exportableAsset"}),i.default.h("p",null,"If you want to be a pro, check out how it works from ",i.default.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.default.h("div",{class:"info"},i.default.h("p",null,i.default.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.default.h("img",{src:s.e("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:s.e("img/icFigmaMakeExportable.png"),srcset:s.f(s.e("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.default.h("div",{class:"info"},i.default.h("p",null,i.default.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.default.h("img",{src:s.e("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.default.h("img",{src:s.e("img/icXDMakeExportable.png"),srcset:s.f(s.e("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1183);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(9),a=n(176),o=n(94),r=n(693),l=n(1184),c=n(2),d=n(7),u=n(694),h=n(6),p=n(1187);n.n(p);const m=["open","mentioned","resolved"];function g({color:e,count:t,status:n}){return i.default.h("div",{class:"statusFilterLabel"},e&&i.default.h("div",{class:Object(c.a)("color",e)}),i.default.h("span",null,t>0?t:"No"," ",Object(d.f)(n)))}class f extends i.default.Component{constructor(e){super(e),this.handleStatusChange=this.handleStatusChange.bind(this),this.colorClickHandlers=u.a.map(e=>()=>{this.handleColorClick(e)})}handleColorClick(e){const{selectedColor:t,selectedStatus:n,onFilterChange:i}=this.props;i(n,t===e?null:e)}handleStatusChange(e){const{selectedColor:t,selectedStatus:n,onFilterChange:i}=this.props;n!==e&&i(e,t)}render(){const{selectedColor:e,selectedStatus:t,dotCount:n}=this.props;return i.default.h(a.a,{top:22,onChange:this.handleStatusChange},m.map(s=>i.default.h(a.a.Item,{label:i.default.h(g,{color:e,count:n,status:s}),value:s,selected:t===s,key:s},i.default.h("span",{class:"noteStatusFilterItem"},Object(d.f)(s)," notes"))),i.default.h("div",{class:"noteFilterSeperator"}),i.default.h("div",{class:"noteColorFilter"},u.a.map((t,n)=>i.default.h("div",{key:t,class:Object(c.a)("noteColorFilterItem",t,{selected:t===e}),onClick:this.colorClickHandlers[n]}))))}}t.a=class extends i.default.Component{renderEmptyState(){const{dots:e,selectedStatus:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.default.h("div",{class:"empty open"},i.default.h("h1",null,"No open notes"),i.default.h("p",null,"Add notes by clicking on a design while holding down the ",i.default.h("span",{class:"dotMacShortcut"},"Command"),i.default.h("span",{class:"dotWinShortcut"},"Ctrl")," key."),i.default.h("div",{class:"shortcuts"},i.default.h("img",{class:"dotMacShortcut",src:Object(h.e)("img/icDotMacShortcut.svg")}),i.default.h("img",{class:"dotWinShortcut",src:Object(h.e)("img/icDotWinShortcut.png"),srcset:Object(h.f)(Object(h.e)("img/icDotWinShortcut.png"))})),i.default.h("p",null,"The first one is on us:"),i.default.h(s.a,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.default.h("div",{class:"empty resolved"},i.default.h("h1",null,"No resolved notes"),i.default.h("p",null,"Looks like things are going pretty hectic these days ",i.default.h("img",{src:Object(h.e)("img/emjSweatTears.png"),srcset:Object(h.f)(Object(h.e)("img/emjSweatTears.png"))})),i.default.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.default.h("div",{class:"empty mentioned"},i.default.h("h1",null,"No mentioned notes"),i.default.h("p",null,"Looks like youre not mentioned in any notes. Relax and grab a coffeeor tea, if thats what youre into.")):void 0:i.default.h("div",{class:"empty noDots"},i.default.h("h1",null,"What a quiet team!",i.default.h("img",{src:Object(h.e)("img/icQuietMaymus.png"),srcset:Object(h.f)(Object(h.e)("img/icQuietMaymus.png"))})),i.default.h("p",null,"Looks like you didnt add any notes yet. When you do, theyll be listed here."),i.default.h("p",null,"Add notes by clicking on a design while holding down the ",i.default.h("span",{class:"dotMacShortcut"},"Command"),i.default.h("span",{class:"dotWinShortcut"},"Ctrl")," key."),i.default.h("div",{class:"shortcuts"},i.default.h("img",{class:"dotMacShortcut",src:Object(h.e)("img/icDotMacShortcut.svg")}),i.default.h("img",{class:"dotWinShortcut",src:Object(h.e)("img/icDotWinShortcut.png"),srcset:Object(h.f)(Object(h.e)("img/icDotWinShortcut.png"))})),i.default.h("p",null,"The first one is on us:"),i.default.h(s.a,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.default.h(r.a,{class:"notesTab",title:e},i.default.h(o.a,null,t))}render(){const{loading:e,commentFormatter:t,dots:n,selectedColor:s,selectedStatus:a,onNoteClick:o,onFilterChange:r}=this.props,c=n.filter(e=>(null===s||e.color===s)&&("mentioned"===a&&!0===e.mentioned||a===e.status));if(e)return this.renderTab("Notes",i.default.h("div",{class:"loadingDots"},i.default.h("img",{src:Object(h.e)("img/icDotsLoading.png"),srcset:Object(h.f)(Object(h.e)("img/icDotsLoading.png"))}),i.default.h("div",null,"Loading notes")));const d=n.length?i.default.h("div",{class:"notesTitle"},"Notes",i.default.h(f,{dotCount:c.length,selectedColor:s,selectedStatus:a,onFilterChange:r})):"Notes";let u;return c.length?(u=c.map(({id:e,color:n,comments:s,name:a})=>i.default.h(l.a,{key:e,color:n,id:e,commentFormatter:t,comments:s,name:a,onNoteClick:o}))).push(i.default.h("div",{class:"endingMark"},"~")):u=this.renderEmptyState(),this.renderTab(d,u)}}},function(e,t,n){"use strict";var i=n(1185);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(37),a=n(122),o=n(2),r=n(4),l=n(8),c=n(1186);n.n(c);function d(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function u(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?`${n[0]} also replied`:`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const h=document.createElement("canvas").getContext("2d");function p(e){return h.measureText(e)}function m({children:[e=""],formatter:t}){const n=t?t(e):e;return i.default.h("div",{class:"content",dangerouslySetInnerHTML:{__html:n}})}h.font="italic 12px Roboto";t.a=class extends i.default.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let s=u(this.otherAuthorNames,this.hiddenAuthorCount);for(;p(s).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,s=u(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=s}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i(t,n.length>1?n[n.length-1]._id:null)}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),n=t[0],a=t[e.length-1],o=new Set([n.username,a.username]),c=[];t.forEach(e=>{o.has(e.username)||(o.add(e.username),c.push(e))});const d=e.length-2,h=c.filter(e=>!!e._id).length;let p;return c.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=c.map(e=>e.username),this.hiddenAuthorCount=c.length-h,p=h&&this.otherAuthorNames.length?u(this.otherAuthorNames,this.hiddenAuthorCount):d>1?`${d} more replies`:"1 more reply",i.default.h("div",{class:"otherReplies"},i.default.h("div",{class:"avatars"},c.map(e=>{const{src:t}=Object(l.f)(e);return i.default.h(s.a,{class:"authorAvatar",src:t,width:"16",height:"16"})})),i.default.h("div",{class:"summary",ref:Object(r.a)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n,commentFormatter:r}=this.props,c=t[0],u=t.length>1?t[t.length-1]:null,{author:h={username:"Anonymous"},note:p}=c,{author:g={username:"Anonymous"},note:f}=u||{};return i.default.h("div",{class:Object(o.a)("dotEntry",e),onClick:this.handleClick},i.default.h("div",{class:"comment"},i.default.h("h4",null,i.default.h("div",{class:"commentHeader"},i.default.h(s.a,{src:Object(l.f)(h).src,width:"24",height:"24"}),i.default.h("div",{class:"author ellipsis"},h.username),i.default.h(a.a,{type:"time-ago",format:"micro",class:"time",datetime:d(c)})),i.default.h("div",{class:"number"},n)),i.default.h(m,{formatter:r},p)),t.length>2&&this.renderOtherReplies(),u&&i.default.h("div",{class:"comment"},i.default.h("h4",null,i.default.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.default.h(s.a,{src:Object(l.f)(g).src,width:"24",height:"24"}),i.default.h("div",{class:"author ellipsis"},g.username),i.default.h(a.a,{type:"time-ago",format:"micro",class:"time",datetime:d(u)})),i.default.h(m,{formatter:r},f)))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(35),s=n(375),a=n(694);t.a=function(e,t,n,o,r,l){return{info:function(e,t){const{_id:n,description:i,tags:a=[],versions:o}=e;return{id:n,authors:Object(s.b)(o),description:i,grid:t.snapshot.grid,sourceFile:t.sourceFile,source:t.snapshot.source,tags:a,version:t,screen:e}}(e,t),colors:function(e,t,n){const a=new Set,o={screenColors:[]};function r(e){const i=Object(s.c)(e,t,n);a.has(i.colorStyle)||(o.screenColors.push(i),a.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(o.backgroundColor=Object(s.c)(new i.a(l.backgroundColor),t,n)),l.layers?(l.layers.forEach(function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&r(new i.a(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":r(new i.a(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{r(new i.a(e.color))})}}))}),o):o}(t,n,r),assets:function(e,t,n){const{snapshot:{assets:i,source:a}}=e;return{assets:i?i.map(e=>Object(s.a)(e,t,n)).filter(Boolean):[],source:a}}(t,n,o),notes:function(e,t){return{loading:!("dots"in e),dots:e.dots?e.dots.map(e=>{const n=Object(a.b)(new i.a(e.color).hexBase()),s=Object(a.c)(e,t);return{id:e._id,color:n,comments:e.comments,name:e.name,status:e.status?e.status:"open",mentioned:s}}):[]}}(e,l.user)}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1192);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1193),a=n(560),o=n(1216),r=n(22),l=n(109),c=n(65),d=n(39),u=n(1),h=n(2),p=n(363),m=n(4),g=n(6),f=n(8),b=n(20),y=n(10),v=n(1233);n.n(v);const S=!!y.a&&!!y.a.features&&"popout"in y.a.features,C=S&&y.a.features.popout;function E(e,t,n){if(!e||!t||!n)return null;const i=function e(t,n,i=[]){if(t===n)return[t,...i];if(!t.layers||!t.layers.length)return null;for(const s of t.layers){const a=e(s,n,[t,...i]);if(a)return a}return null}(e,t);for(const s of i){const e=s.componentName;if(!e)continue;const{component:t}=Object(p.b)(n,e);if(t)return{rect:s.absoluteRect,_id:t._id,name:t.name}}return null}t.a=Object(d.a)(class extends i.default.Component{constructor(e){super(e),this.state={holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null},this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleScreenClick=this.handleScreenClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}static getStores(){return[r.d,l.e]}static calculateState(){const{barrelUser:e}=r.d.getState(),{animateZooming:t,zoomLevel:n,percentageMode:i,selectedLayer:s,destinationLayer:a,flowLinksVisible:o,hasNewVersions:c,layoutGridEnabled:d,notesVisible:u,noteMode:h,showVersionsAuntie:p,showVersionsTutorial:m,versionsVisible:g}=l.e.getState();return{barrelUser:e,animateZooming:t,zoomLevel:n,percentageMode:i,selectedLayer:s,destinationLayer:a,flowLinksVisible:o,hasNewVersions:c,layoutGridEnabled:d,notesVisible:u,noteMode:h,showVersionsAuntie:p,showVersionsTutorial:m,versionsVisible:g}}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}shouldCreateNote(e){const{noteMode:t}=this.state;return t||Object(b.c)(e)}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!u.a(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.base.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleMouseLeave(){const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}handleMouseMove(e){const{selectedLayer:t,holdingSpace:n,holdingMouse:i}=this.state;n&&i&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},t&&this.handleEdgeDistanceMode(e)}handleMouseDown(e){document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}handleMouseUp(){document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(l.c.disableNoteMode(),this.scrolledScreenView=!1)}handleGestureStart(e){e.preventDefault(),l.c.startGesture()}handleGestureChange(e){e.preventDefault(),l.c.zoomWithGesture(e.scale)}handleWheel(e){e.ctrlKey&&(e.preventDefault(),l.c.zoomWithWheel(e.deltaY))}handleKeyDown(e){const{selectedLayer:t,destinationLayer:n,holdingSpace:i,edgesToMeasure:s}=this.state;e.keyCode!==Zeplin.KEY_CODE.SPACE||Object(f.i)(e.target)?e.keyCode===Zeplin.KEY_CODE.ALT&&!e.shiftKey&&t&&(n||s)&&l.c.changePercentageMode(e.altKey):(e.preventDefault(),i||this.setState({holdingSpace:!0}))}handleKeyUp(e){const{selectedLayer:t,destinationLayer:n,edgesToMeasure:i}=this.state;e.keyCode!==Zeplin.KEY_CODE.SPACE||Object(f.i)(e.target)?e.keyCode===Zeplin.KEY_CODE.ALT&&!e.shiftKey&&t&&(n||i)&&l.c.changePercentageMode(e.altKey):(e.preventDefault(),this.setState({holdingSpace:!1}))}handleScreenClick(e){this.shouldCreateNote(e)&&(e.stopPropagation(),l.c.createNote(e.clientX,e.clientY))}handleLayerSelect(e,t){const{holdingSpace:n}=this.state;this.shouldCreateNote(e)||n||(e.stopPropagation(),l.c.selectLayer(t))}handleTransitionEnd(){const{onZoomLevelApplied:e}=this.props;l.c.zoomApplied(),e()}handleZoomChange(e){l.c.changeZoomLevel(e,!0)}handleNotesVisibilityChange(e){e?l.c.showNotes():l.c.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),l.c.showVersionsAuntie()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("mouseup",this.handleMouseUp)}renderScreen(){const{project:e,screen:t,snapshot:n,componentsData:a}=this.props,{barrelUser:o,zoomLevel:r,percentageMode:d,selectedLayer:u,destinationLayer:h,edgesToMeasure:p,flowLinksVisible:g,layoutGridEnabled:f,notesVisible:b,noteMode:y}=this.state,v=E(n,u,a);return i.default.h(s.a,{project:e,screen:t,snapshot:n,barrelUser:o,onFlowLinkClick:l.c.followFlowLink,notesVisible:b,layoutGridEnabled:f,zoomLevel:r,selectedLayer:u,destinationLayer:h,componentLayer:v,componentsData:a,percentageMode:d,flowLinksVisible:g,edgesToMeasure:p,onClick:this.handleScreenClick,onLayerSelect:y?null:this.handleLayerSelect,onLayerEnter:l.c.enterLayer,onLayerLeave:l.c.leaveLayer,onComponentLayerTagClick:c.b.openComponentFromLayer,ref:Object(m.a)(this,"snapshotDetail")})}renderDotGrid(){const{snapshot:e}=this.props,{zoomLevel:t,animateZooming:n,holdingSpace:s,holdingMouse:a,noteMode:o}=this.state,r=20*t,l=e.width*t+240,c=e.height*t+120,d="linear-gradient(to bottom, transparent 0px, transparent "+2*t+"px, #FFF "+2*t+"px, #FFF "+r+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*t+"px, #FFF "+2*t+"px, #FFF "+r+"px)",u=window.innerWidth/2-151-t*e.width/2+"px "+(-3*r+58)+"px",p=r+"px "+r+"px";return i.default.h("div",{class:Object(h.a)("dotgrid","noSelect",{noteMode:o,zooming:n,grab:s&&!a,grabbing:s&&a}),style:{width:l,height:c,backgroundImage:d,backgroundPosition:u,backgroundSize:p},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onGestureStart:this.handleGestureStart,onGestureChange:this.handleGestureChange,onWheel:this.handleWheel,onTransitionEnd:this.handleTransitionEnd,ref:Object(m.a)(this,"dotgrid")},this.renderScreen())}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,versionsVisible:s}=this.state;return i.default.h(o.a,{versionsVisible:s,hasNewVersions:t,onVersionsToggleClick:l.c.showVersions,zoomLevel:e,onZoomIn:l.c.zoomIn,onZoomOut:l.c.zoomOut,onZoomChange:this.handleZoomChange,hasPopoutFeature:S,enabledPopoutFeature:C,onPopoutWidgetClick:l.c.popout,onAddNoteWidgetClick:l.c.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange})}renderEarlierVersionWarning(){const{earlierVersionFrom:e}=this.props;return i.default.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.default.h("time",null,e))}renderVersionsTutorial(){const{showVersionsTutorial:e,showVersionsAuntie:t}=this.state;return e?i.default.h("img",{class:"versionsTutorialCircle",src:Object(g.e)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick}):t?i.default.h(a.a,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:l.c.hideVersionsAuntie}):null}render(){const{earlierVersionFrom:e,onScreenViewScroll:t}=this.props;return i.default.h("div",{class:"screenViewContainer"},i.default.h("section",{class:"screenView",ref:Object(m.a)(this,"screenView"),onScroll:t},this.renderDotGrid()),this.renderWidgets(),e&&this.renderEarlierVersionWarning(),this.renderVersionsTutorial())}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1194);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(2),a=n(4),o=n(362),r=n(1),l=n(1195),c=n(1198),d=n(1206),u=n(1212),h=n(374),p=n(1215);n.n(p);function m(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let s=function e(t,n){let i=[];for(let s=0;s<t.length;s++){let a=t[s],o=a.absoluteRect.x+a.rect.width,r=a.absoluteRect.y+a.rect.height;a.absoluteRect.x<=n.left&&a.absoluteRect.y<=n.top&&o>=n.right&&r>=n.bottom&&(("group"!==a.type||["bottom","top"].includes(a.interactionLevel))&&i.push(a),"group"===a.type&&(i=i.concat(e(a.layers,n))))}return i}(n.layers,i);return e===t&&(s=s.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e))),s.length?function(e){return e.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height)}(s):[n.layers[0]]}t.a=class extends i.default.Component{constructor(e){super(e);const{selectedLayer:t,percentageMode:n,destinationLayer:i,snapshot:s}=this.props;this.handleKeyDown=this.handleKeyDown.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.state={parentLayers:n?m(t,i,s):[],parentIndex:0},this.layerClickHandler=Object(o.b)()}changeParent(e){const{parentLayers:t,parentIndex:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),this.setState({parentIndex:(n+1)%t.length})):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),this.setState({parentIndex:(n-1+t.length)%t.length}))}handleKeyDown(e){const{percentageMode:t}=this.props,{parentLayers:n}=this.state;t&&n.length&&this.changeParent(e)}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:s}=this.props,a=this.nodeRefs.screen.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:s,selectedLayer:i,snapshotDetailRect:a}))}getChildContext(){const{project:{densityScale:e,dimensionSuffix:t}}=this.props;return{densityScale:e,dimensionSuffix:t}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{selectedLayer:t,destinationLayer:n,snapshot:i,percentageMode:s}=e,{parentLayers:a}=this.state,{selectedLayer:o}=this.props;if(s){if(s&&t&&n){const e=m(t,n,i);Object(r.a)(a,e,(e,t)=>e._id===t._id)||this.setState({parentLayers:e,parentIndex:0})}}else this.setState({parentLayers:[],parentIndex:0});!t&&o&&this.layerClickHandler.reset()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenImage(){const{zoomLevel:e,snapshot:{width:t,height:n}}=this.props;return i.default.h(h.a.Image,{key:`snapshotImage-${t}*${n}`,class:Object(s.a)("snapshotImage",{pixelated:e>=2}),style:{width:t*e,height:n*e}})}renderComponentLayer(){const{project:e,zoomLevel:t,snapshot:{width:n,height:s},screen:a,componentLayer:o,onComponentLayerTagClick:r}=this.props;if(o){const{rect:c,_id:d,name:u}=o;return i.default.h(l.a,{projectId:e.id,zoomLevel:t,screenRect:{width:n,height:s},screenId:a._id,screenName:a.name,componentId:d,componentName:u,componentRect:c,onTagClick:r})}return null}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,onLayerEnter:s,onLayerLeave:a,percentageMode:o,edgesToMeasure:r}=this.props,{parentLayers:l,parentIndex:c}=this.state;return i.default.h(h.a.Layers,{key:"layers",layers:e.layers,onLayerSelect:this.handleLayerSelect,onLayerEnter:s,onLayerLeave:a,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!r,parentLayer:o?l[c]:null,componentLayer:this.renderComponentLayer()})}renderFlowLinks(){const{project:e,snapshot:t,onFlowLinkClick:n}=this.props;return i.default.h(d.a,{key:"flowLinks",project:e,snapshot:t,onFlowLinkClick:n})}renderDotsContainer(){const{barrelUser:e}=this.props;return i.default.h(c.a,{key:"dotsContainer",barrelUser:e})}renderRulers(){const{selectedLayer:e}=this.props;return i.default.h(h.a.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height})}renderDistances(){const{selectedLayer:e,destinationLayer:t,percentageMode:n,edgesToMeasure:s}=this.props,{parentLayers:a,parentIndex:o}=this.state;return e&&t?i.default.h(h.a.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:n,parentRect:n?a[o].rect:null}):e&&s&&s.length?i.default.h(h.a.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:s,percentageMode:n}):null}renderLayoutGrid(){const{zoomLevel:e,snapshot:t}=this.props;return i.default.h(u.a,{key:"layoutGrid",zoomLevel:e,width:t.width,height:t.height,grid:t.grid})}renderInFlowLinksMode(){const{snapshot:e}=this.props;return e.links&&this.renderFlowLinks()}renderInNormalMode(){const{snapshot:e,notesVisible:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:s,layoutGridEnabled:a}=this.props;return[e.layers&&this.renderLayers(),t&&this.renderDotsContainer(),n&&this.renderRulers(),n&&(i||s&&s.length)&&this.renderDistances(),a&&e.grid&&this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},flowLinksVisible:s,zoomLevel:o,onClick:r}=this.props;return i.default.h(h.a,{snapshot:e,style:{width:t*o,height:n*o},class:"screenSnapshotDetail",onClick:r,snapshotDetailRef:Object(a.a)(this,"screen")},this.renderScreenImage(),s?this.renderInFlowLinksMode():this.renderInNormalMode())}}},function(e,t,n){"use strict";var i=n(1196);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(75),o=n(20),r=n(1197);n.n(r);const l=62,c=240;t.a=class extends i.default.Component{constructor(e){super(e),this.handleTagClick=this.handleTagClick.bind(this)}handleTagClick(e){if(Object(o.c)(e))return;e.stopPropagation(),e.preventDefault();const{projectId:t,screenId:n,componentId:i,screenName:a,onTagClick:r}=this.props;r(i,Object(s.P)("project-screen",{url:{pid:t,sid:n}}),a,"Header")}render(){const{projectId:e,zoomLevel:t,screenRect:{width:n,height:o},componentRect:{width:r,height:d,x:u,y:h},componentId:p,componentName:m}=this.props,g=Object(s.P)("project-styleguide-components",{url:{bid:e},query:{coid:p}}),f={width:Object(a.d)(r,n),height:Object(a.d)(d,o),left:Object(a.d)(u,n),top:Object(a.d)(h,o)},b=Math.min(r*t,c);return i.default.h("div",{class:"componentLayer",style:f},i.default.h("a",{href:g,style:{maxWidth:b},title:m,onClick:this.handleTagClick,"data-link-type":"inApp"},b>l&&i.default.h("span",{class:"name ellipsis"},m),i.default.h("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},i.default.h("path",{fill:"#fff","fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1199);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1200),a=n(694),o=n(35),r=n(39),l=n(4),c=n(109),d=n(1203),u=n(1),h=n(1205);n.n(h);const p=12,m=13;class g extends i.default.Component{constructor(e){super(e),this.handleDotMouseDown=this.handleDotMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDotTransitionEnd=this.handleDotTransitionEnd.bind(this),this.handleDotContextMenu=this.handleDotContextMenu.bind(this),this.handleDotMenuClose=this.handleDotMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:6}}isDraggingDot(e){const{movingDot:{id:t}}=this.state;return e.id===t}isMovingDot(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDraggingDot(e)&&t}isMovingDotOverlappingAnother(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+m,e.top+m);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.compareDotPositions()}compareDotPositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+m,n=e.top+m,i=this.nodeRefs.dots.children;for(let s=0;s<i.length&&i[s].classList.contains("dot");s++){const e=i[s].getBoundingClientRect();if(i[s]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleDotContextMenu(e,t){const{onDotMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleDotMenuClose(){this.setState({dotMenu:{}})}handleDotMouseDown(e){this.setState({dotMenu:{},movingDot:{id:e,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp)}handleMouseMoveBeforeThreshold(e){const{dots:t,onMovingDotThresholdExceeded:n}=this.props,{movingDot:{id:i},movingDot:s}=this.state,a=this.nodeRefs.dragging.getBoundingClientRect(),o=Math.abs(e.clientX-a.left+m),r=Math.abs(e.clientY-a.top+m);if(Math.hypot(o,r)>p){n();const{x:e,y:a}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},s,{x:e,y:a,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.dots.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),s=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),a=this.isMovingDotOverlappingAnother();this.setState({movingDot:Object.assign({},n,{x:i,y:s,overlap:a})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp);const{onDotPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:s,y:a},movingDot:o,dotZIndex:r}=this.state;n?i?this.setState({movingDot:Object.assign({},o,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:r+1}),e(t,s,a)):this.setState({movingDot:{}})}handleDotTransitionEnd(){this.setState({movingDot:{}})}handleDotClick(e){const{onDotClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t(e)}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),s=i.find(e=>e.id===t);s&&s.x===e.x&&s.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:s},movingDot:a}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&s!==e.y);n&&this.setState({movingDot:Object.assign({},a,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dots:e}=this.props;if(!e)return null;const{movingDot:t,dotZIndex:n,dotMenu:a}=this.state;return e.map(e=>{const o=Object.assign({},e,{key:e.id,zIndex:n,menuOpen:a.id===e.id,onClick:this.handleDotClick});return this.isMovingDot(e)?i.default.h(s.a,Object.assign({},o,{x:t.x,y:t.y,moving:!0,overlap:t.overlap,revert:t.revert,onTransitionEnd:t.revert?this.handleDotTransitionEnd:null,zIndex:n+5,draggingRef:Object(l.a)(this,"dragging")})):this.isDraggingDot(e)?i.default.h(s.a,Object.assign({},o,{draggingRef:Object(l.a)(this,"dragging")})):i.default.h(s.a,Object.assign({},o,{onContextMenu:this.handleDotContextMenu,onMouseDown:this.handleDotMouseDown}))})}renderDotMenu(){const{dots:e,barrelUser:t,onDotStatusChange:n,onCopyDotLink:s,onDeleteDot:a}=this.props,{dotMenu:{id:o,origin:r},dotZIndex:l}=this.state;if(!o)return null;const c=e.find(e=>e.id===o);if(!c)return null;const h=c.creator&&c.creator._id===t._id||u.H.canRemoveNotes(t);return i.default.h(d.a,{key:"dotmenu",id:o,status:c.status,canDelete:h,autoPosition:{sidebar:".sidebar.screenSidebar",menuContainer:".dots",clickOrigin:r,zIndex:l},onClose:this.handleDotMenuClose,onStatusChange:n,onCopyLink:s,onDeleteDot:a})}render(){const{flash:e,onAnimationEnd:t}=this.props;return i.default.h("div",{class:"dots",ref:Object(l.a)(this,"dots")},this.renderDots(),this.renderDotMenu(),e&&i.default.h("div",{key:"flash",class:"flash",onAnimationEnd:t}))}}class f extends i.default.Component{static calculateState(e,t){const n=c.a.getState();return{dots:n.dots&&n.dots.reduce((e,i)=>{const s=Object(a.b)(new o.a(i.color).hexBase()),r=Object(a.c)(i,t.barrelUser.user);return!(n.statusFilter===i.status||"mentioned"===n.statusFilter&&r)||n.colorFilter&&n.colorFilter!==s?e:e.concat({id:i._id,name:i.name,colorName:s,x:i.x,y:i.y,status:i.status,mentioned:r,highlight:n.highlight&&n.highlight.includes(i._id)})},[]),flash:n.flash}}static getStores(){return[c.a]}static dispatchSelectHighlightedDot(){clearTimeout(c.c.selectHighlightedDotTimeout),c.c.selectHighlightedDotTimeout=setTimeout(()=>{c.c.selectHighlightedDot()},4)}componentDidMount(){f.dispatchSelectHighlightedDot()}componentDidUpdate(){f.dispatchSelectHighlightedDot()}render(){const{barrelUser:e}=this.props,{dots:t,flash:n}=this.state;return i.default.h(g,{dots:t,flash:n,barrelUser:e,onDotStatusChange:c.c.updateDotStatus,onCopyDotLink:c.c.copyDotLink,onDeleteDot:c.c.deleteDot,onDotPositionChange:c.c.commitDotPosition,onDotMenuOpen:c.c.openDotMenu,onDotClick:c.c.selectDot,onMovingDotThresholdExceeded:c.c.closeDotPopup,onAnimationEnd:c.c.dotsFlashed})}}t.a=Object(r.a)(f,{withProps:!0})},function(e,t,n){"use strict";var i=n(1201);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(25),l=n(184),c=n(1202);n.n(c);class d extends r.a{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{id:e,name:t,colorName:n,x:s,y:a,status:r,mentioned:l,highlight:c,moving:d=!1,overlap:u=!1,revert:h=!1,menuOpen:p,zIndex:m,draggingRef:g,hover:f}=this.props,b=`calc(${100*s}% - 13px)`,y=`calc(${100*a}% - 13px)`,v=Object(o.a)("dot",n,r||"open",{mentioned:l,highlight:c,moving:d,menuOpen:p,overlap:u,hover:f&&!p&&!h,revert:h});return i.default.h("div",{class:v,ref:g,"data-id":e,"data-color":n,"data-position":s<=.5?"left":"right",style:{left:b,top:y,zIndex:m},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}d.propTypes={id:a.a.string,name:a.a.string,colorName:a.a.string,x:a.a.number,y:a.a.number,status:a.a.oneOf(["open","resolved"]),mentioned:a.a.bool,moving:a.a.object,menuOpen:a.a.bool,zIndex:a.a.number};const u=Object(l.a)(d);t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(1204);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(52);const o=Object(s.a)();t.a=class extends i.default.Component{constructor(e){super(e),this.handleDotStatusChange=this.handleDotStatusChange.bind(this),this.handleCopyLink=this.handleCopyLink.bind(this),this.handleDeleteDot=this.handleDeleteDot.bind(this)}handleDotStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyLink(e){e.stopPropagation();const{id:t,onCopyLink:n}=this.props;n(t)}handleDeleteDot(e){e.stopPropagation();const{id:t,onDeleteDot:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:s}=this.props;return i.default.h(a.a.withAutoPosition,{onClose:s,autoPosition:n},i.default.h(a.a.Item,{onClick:this.handleDotStatusChange},"open"===e?"Resolve":"Reopen"),o&&i.default.h(a.a.Item,{onClick:this.handleCopyLink},"Copy Note Link"),t&&i.default.h(a.a.Item,{onClick:this.handleDeleteDot,warning:!0},"Delete Note"))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1207);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(75),o=n(1208),r=n(1211);n.n(r);t.a=function(e){const{project:t,snapshot:{_id:n,links:r,width:l,height:c},onFlowLinkClick:d}=e,u=r.map((e,r)=>{const{rect:{x:u,y:h,width:p,height:m},destination:{type:g,name:f}}=e;let b;if("screen"===g){const e=t.findScreenByName(f);if(!e)return null;b=Object(s.P)("project-screen",{url:{pid:t.id,sid:e._id}})}const y=Object(a.d)(p,l),v=Object(a.d)(m,c),S=Object(a.d)(u,l),C=Object(a.d)(h,c);return i.default.h(o.a,{key:`${t.id}-${n}-link-${r}`,style:{width:y,height:v,top:C,left:S},type:g,to:b,onClick:d})}).filter(Boolean);return i.default.h("div",{class:"flowLinks"},u)}},function(e,t,n){"use strict";var i=n(1209);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1210);n.n(s);t.a=class extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{type:e,to:t,onClick:n}=this.props;n(e,t)}render(){const{style:e}=this.props;return i.default.h("div",{class:"flowLink",style:e,onClick:this.handleClick})}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1213);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(25),r=n(4),l=n(1214);n.n(l);class c extends o.a{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,s=i.getContext("2d");s.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let a="rgba(238, 103, 35, 0.3)";if(n.vertical){let e,t=n.vertical,o=this.toDeviceDimen(t.columnWidth+t.gutterWidth),r=t.numberOfCols,l=this.toDeviceDimen(n.horizontalOffset+(t.guttersOnOutside?t.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.columnWidth),r=1===e?r+1:r,s.fillStyle=a;let c=l;for(let n=0;n<r;n++)s.fillRect(c,0,e,i.height),c+=o}if(n.horizontal){let e,t=n.horizontal,o=this.toDeviceDimen(t.rowHeight+t.gutterHeight),r=Math.round(i.height/o),l=0|this.toDeviceDimen(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.rowHeight),r=i.height-r*o>o-e?r+1:r,s.fillStyle=a;let c=1===e?o:0;for(let n=0;n<r;n++)s.fillRect(l,c,i.width-2*l,e),c+=o}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.default.h("div",{class:"layoutGridContainer"},i.default.h("canvas",{ref:Object(r.a)(this,"canvas"),width:"100%",height:"100%"}))}}c.propTypes={height:a.a.number.isRequired,width:a.a.number.isRequired,grid:a.a.shape({horizontalOffset:a.a.number,vertical:a.a.shape({gutterWidth:a.a.number,columnWidth:a.a.number,numberOfCols:a.a.number,guttersOnOutside:a.a.bool}),horizontal:a.a.shape({gutterHeight:a.a.number,rowHeight:a.a.number})})},t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1217);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1218),r=n(1221),l=n(1224),c=n(1227),d=n(1230),u=n(1232);n.n(u);function h(e){return i.default.h("div",{class:"widgets"},i.default.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:s}=e;return t?null:i.default.h(o.a,{onClick:s,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:s,onZoomChange:a}=e;return i.default.h(r.a,{value:t,onZoomIn:n,onZoomOut:s,onChange:a})}(e),function(e){const{hasPopoutFeature:t,enabledPopoutFeature:n,onPopoutWidgetClick:s}=e;return t?i.default.h(l.a,{disabled:!n,onClick:s}):null}(e)),i.default.h("div",{class:"widgetGroup"},function(e){const{onAddNoteWidgetClick:t}=e;return i.default.h(c.a,{onClick:t})}(e),function(e){const{notesVisible:t,onNotesVisibilityChange:n}=e;return i.default.h(d.a,{notesVisible:t,onChange:n})}(e)))}h.propTypes={versionsVisible:a.a.bool.isRequired,hasNewVersions:a.a.bool.isRequired,onVersionsToggleClick:a.a.func.isRequired,zoomLevel:a.a.number.isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onZoomChange:a.a.func.isRequired,hasPopoutFeature:a.a.bool.isRequired,enabledPopoutFeature:a.a.bool.isRequired,onPopoutWidgetClick:a.a.func.isRequired,onAddNoteWidgetClick:a.a.func.isRequired,notesVisible:a.a.bool.isRequired,onNotesVisibilityChange:a.a.func.isRequired},t.a=h},function(e,t,n){"use strict";var i=n(1219);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(6),l=n(1220);n.n(l);function c(e){const{hasNewVersions:t,onClick:n}=e;return i.default.h("button",{class:Object(o.a)("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.default.h("img",{src:Object(r.e)("img/icHourglass.svg"),alt:""}))}c.propTypes={hasNewVersions:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1222);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(9),r=n(371),l=n(1223);n.n(l);class c extends i.default.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.default.h("div",{class:"zoomWidget widget"},i.default.h(o.a,{disabled:e<=r.c,onClick:n},i.default.h("div",{class:"minus"})),i.default.h("select",{id:"zoomDropdown",onChange:this.handleChange},r.d.map(t=>i.default.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.default.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.default.h(o.a,{disabled:e>=r.b,onClick:t},i.default.h("div",{class:"plus"})))}}c.propTypes={value:a.a.oneOf(r.d).isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onChange:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1225);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(2),r=n(85),l=n(1226);n.n(l);function c(e){const{disabled:t,onClick:n}=e;return i.default.h(r.a,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.default.h("button",{class:Object(o.a)("popoutWidget",{disabled:t}),onClick:t?null:n},i.default.h("svg",{width:"18",height:"16"},i.default.h("g",{fill:"#554d56","fill-rule":"evenodd"},i.default.h("path",{d:"M16 10h2V6v8c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V2C0 .9.9 0 2 0h10-4v2H2v12h14v-4z"}),i.default.h("path",{d:"M16 3.56V8h2V2c0-1.1-.9-2-2-2h-6v2h4.73l-3.95 3.95c-.4.4-.4 1.02 0 1.4.4.4 1.02.4 1.4 0L16 3.55z"})))))}c.PropTypes={disabled:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1228);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(1229);n.n(o);class r extends i.default.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){return i.default.h("button",{class:"widget addNoteWidget",onClick:this.handleClick},i.default.h("svg",{width:"12",height:"12"},i.default.h("path",{fill:"#554d56","fill-rule":"evenodd",d:"M7.2 4.8V1.2C7.2.54 6.66 0 6 0c-.67 0-1.2.53-1.2 1.2v3.6H1.2C.54 4.8 0 5.34 0 6c0 .67.53 1.2 1.2 1.2h3.6v3.6c0 .65.54 1.2 1.2 1.2.67 0 1.2-.53 1.2-1.2V7.2h3.6c.65 0 1.2-.54 1.2-1.2 0-.67-.53-1.2-1.2-1.2H7.2z"})))}}r.propTypes={onClick:a.a.func.isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n.n(s),o=n(69),r=n(25),l=n(1231);n.n(l);class c extends r.a{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.default.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.default.h("span",null,"Notes"),i.default.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.default.h(o.a,{asset:e?"img/icMaymusOpen.png":"img/icMaymusClosed.png"}))}}c.propTypes={notesVisible:a.a.bool.isRequired,onChange:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1235);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(52);t.a=function(e){const{autoPosition:t,onClose:n,onDelete:a,onCopyWebUrl:o,onCopyAppUri:r}=e;return i.default.h(s.a.withAutoPosition,{autoPosition:t,onClose:n},i.default.h(s.a.Item,{onClick:o},"Copy version web link"),i.default.h(s.a.Item,{onClick:r},"Copy version App URI"),a&&[i.default.h(s.a.ItemDivider,{key:"divider"}),i.default.h(s.a.Item,{key:"delete",onClick:a,warning:!0},"Delete version")])}}],[1129]);
//# sourceMappingURL=maps/project.map.js